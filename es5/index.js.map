{"version":3,"sources":["webpack://@maplat/tin/./node_modules/@turf/bbox/dist/js/index.js","webpack://@maplat/tin/./node_modules/@turf/helpers/dist/js/index.js","webpack://@maplat/tin/./node_modules/@turf/meta/dist/js/index.js","webpack://@maplat/tin/./node_modules/concaveman/index.js","webpack://@maplat/tin/./node_modules/concaveman/node_modules/rbush/rbush.min.js","webpack://@maplat/tin/./node_modules/core-js/internals/a-function.js","webpack://@maplat/tin/./node_modules/core-js/internals/a-possible-prototype.js","webpack://@maplat/tin/./node_modules/core-js/internals/add-to-unscopables.js","webpack://@maplat/tin/./node_modules/core-js/internals/advance-string-index.js","webpack://@maplat/tin/./node_modules/core-js/internals/an-instance.js","webpack://@maplat/tin/./node_modules/core-js/internals/an-object.js","webpack://@maplat/tin/./node_modules/core-js/internals/array-buffer-native.js","webpack://@maplat/tin/./node_modules/core-js/internals/array-buffer-view-core.js","webpack://@maplat/tin/./node_modules/core-js/internals/array-buffer.js","webpack://@maplat/tin/./node_modules/core-js/internals/array-copy-within.js","webpack://@maplat/tin/./node_modules/core-js/internals/array-fill.js","webpack://@maplat/tin/./node_modules/core-js/internals/array-from.js","webpack://@maplat/tin/./node_modules/core-js/internals/array-includes.js","webpack://@maplat/tin/./node_modules/core-js/internals/array-iteration.js","webpack://@maplat/tin/./node_modules/core-js/internals/array-last-index-of.js","webpack://@maplat/tin/./node_modules/core-js/internals/array-method-has-species-support.js","webpack://@maplat/tin/./node_modules/core-js/internals/array-method-is-strict.js","webpack://@maplat/tin/./node_modules/core-js/internals/array-reduce.js","webpack://@maplat/tin/./node_modules/core-js/internals/array-species-create.js","webpack://@maplat/tin/./node_modules/core-js/internals/call-with-safe-iteration-closing.js","webpack://@maplat/tin/./node_modules/core-js/internals/check-correctness-of-iteration.js","webpack://@maplat/tin/./node_modules/core-js/internals/classof-raw.js","webpack://@maplat/tin/./node_modules/core-js/internals/classof.js","webpack://@maplat/tin/./node_modules/core-js/internals/copy-constructor-properties.js","webpack://@maplat/tin/./node_modules/core-js/internals/correct-prototype-getter.js","webpack://@maplat/tin/./node_modules/core-js/internals/create-html.js","webpack://@maplat/tin/./node_modules/core-js/internals/create-iterator-constructor.js","webpack://@maplat/tin/./node_modules/core-js/internals/create-non-enumerable-property.js","webpack://@maplat/tin/./node_modules/core-js/internals/create-property-descriptor.js","webpack://@maplat/tin/./node_modules/core-js/internals/create-property.js","webpack://@maplat/tin/./node_modules/core-js/internals/define-iterator.js","webpack://@maplat/tin/./node_modules/core-js/internals/descriptors.js","webpack://@maplat/tin/./node_modules/core-js/internals/document-create-element.js","webpack://@maplat/tin/./node_modules/core-js/internals/dom-iterables.js","webpack://@maplat/tin/./node_modules/core-js/internals/engine-is-browser.js","webpack://@maplat/tin/./node_modules/core-js/internals/engine-is-ios.js","webpack://@maplat/tin/./node_modules/core-js/internals/engine-is-node.js","webpack://@maplat/tin/./node_modules/core-js/internals/engine-is-webos-webkit.js","webpack://@maplat/tin/./node_modules/core-js/internals/engine-user-agent.js","webpack://@maplat/tin/./node_modules/core-js/internals/engine-v8-version.js","webpack://@maplat/tin/./node_modules/core-js/internals/enum-bug-keys.js","webpack://@maplat/tin/./node_modules/core-js/internals/export.js","webpack://@maplat/tin/./node_modules/core-js/internals/fails.js","webpack://@maplat/tin/./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js","webpack://@maplat/tin/./node_modules/core-js/internals/function-bind-context.js","webpack://@maplat/tin/./node_modules/core-js/internals/get-built-in.js","webpack://@maplat/tin/./node_modules/core-js/internals/get-iterator-method.js","webpack://@maplat/tin/./node_modules/core-js/internals/get-substitution.js","webpack://@maplat/tin/./node_modules/core-js/internals/global.js","webpack://@maplat/tin/./node_modules/core-js/internals/has.js","webpack://@maplat/tin/./node_modules/core-js/internals/hidden-keys.js","webpack://@maplat/tin/./node_modules/core-js/internals/host-report-errors.js","webpack://@maplat/tin/./node_modules/core-js/internals/html.js","webpack://@maplat/tin/./node_modules/core-js/internals/ie8-dom-define.js","webpack://@maplat/tin/./node_modules/core-js/internals/ieee754.js","webpack://@maplat/tin/./node_modules/core-js/internals/indexed-object.js","webpack://@maplat/tin/./node_modules/core-js/internals/inherit-if-required.js","webpack://@maplat/tin/./node_modules/core-js/internals/inspect-source.js","webpack://@maplat/tin/./node_modules/core-js/internals/internal-state.js","webpack://@maplat/tin/./node_modules/core-js/internals/is-array-iterator-method.js","webpack://@maplat/tin/./node_modules/core-js/internals/is-array.js","webpack://@maplat/tin/./node_modules/core-js/internals/is-forced.js","webpack://@maplat/tin/./node_modules/core-js/internals/is-object.js","webpack://@maplat/tin/./node_modules/core-js/internals/is-pure.js","webpack://@maplat/tin/./node_modules/core-js/internals/is-regexp.js","webpack://@maplat/tin/./node_modules/core-js/internals/iterate.js","webpack://@maplat/tin/./node_modules/core-js/internals/iterator-close.js","webpack://@maplat/tin/./node_modules/core-js/internals/iterators-core.js","webpack://@maplat/tin/./node_modules/core-js/internals/iterators.js","webpack://@maplat/tin/./node_modules/core-js/internals/microtask.js","webpack://@maplat/tin/./node_modules/core-js/internals/native-promise-constructor.js","webpack://@maplat/tin/./node_modules/core-js/internals/native-symbol.js","webpack://@maplat/tin/./node_modules/core-js/internals/native-weak-map.js","webpack://@maplat/tin/./node_modules/core-js/internals/new-promise-capability.js","webpack://@maplat/tin/./node_modules/core-js/internals/object-assign.js","webpack://@maplat/tin/./node_modules/core-js/internals/object-create.js","webpack://@maplat/tin/./node_modules/core-js/internals/object-define-properties.js","webpack://@maplat/tin/./node_modules/core-js/internals/object-define-property.js","webpack://@maplat/tin/./node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack://@maplat/tin/./node_modules/core-js/internals/object-get-own-property-names.js","webpack://@maplat/tin/./node_modules/core-js/internals/object-get-own-property-symbols.js","webpack://@maplat/tin/./node_modules/core-js/internals/object-get-prototype-of.js","webpack://@maplat/tin/./node_modules/core-js/internals/object-keys-internal.js","webpack://@maplat/tin/./node_modules/core-js/internals/object-keys.js","webpack://@maplat/tin/./node_modules/core-js/internals/object-property-is-enumerable.js","webpack://@maplat/tin/./node_modules/core-js/internals/object-set-prototype-of.js","webpack://@maplat/tin/./node_modules/core-js/internals/object-to-string.js","webpack://@maplat/tin/./node_modules/core-js/internals/own-keys.js","webpack://@maplat/tin/./node_modules/core-js/internals/path.js","webpack://@maplat/tin/./node_modules/core-js/internals/perform.js","webpack://@maplat/tin/./node_modules/core-js/internals/promise-resolve.js","webpack://@maplat/tin/./node_modules/core-js/internals/redefine-all.js","webpack://@maplat/tin/./node_modules/core-js/internals/redefine.js","webpack://@maplat/tin/./node_modules/core-js/internals/regexp-exec-abstract.js","webpack://@maplat/tin/./node_modules/core-js/internals/regexp-exec.js","webpack://@maplat/tin/./node_modules/core-js/internals/regexp-flags.js","webpack://@maplat/tin/./node_modules/core-js/internals/regexp-sticky-helpers.js","webpack://@maplat/tin/./node_modules/core-js/internals/require-object-coercible.js","webpack://@maplat/tin/./node_modules/core-js/internals/set-global.js","webpack://@maplat/tin/./node_modules/core-js/internals/set-species.js","webpack://@maplat/tin/./node_modules/core-js/internals/set-to-string-tag.js","webpack://@maplat/tin/./node_modules/core-js/internals/shared-key.js","webpack://@maplat/tin/./node_modules/core-js/internals/shared-store.js","webpack://@maplat/tin/./node_modules/core-js/internals/shared.js","webpack://@maplat/tin/./node_modules/core-js/internals/species-constructor.js","webpack://@maplat/tin/./node_modules/core-js/internals/string-html-forced.js","webpack://@maplat/tin/./node_modules/core-js/internals/string-multibyte.js","webpack://@maplat/tin/./node_modules/core-js/internals/string-repeat.js","webpack://@maplat/tin/./node_modules/core-js/internals/task.js","webpack://@maplat/tin/./node_modules/core-js/internals/this-number-value.js","webpack://@maplat/tin/./node_modules/core-js/internals/to-absolute-index.js","webpack://@maplat/tin/./node_modules/core-js/internals/to-index.js","webpack://@maplat/tin/./node_modules/core-js/internals/to-indexed-object.js","webpack://@maplat/tin/./node_modules/core-js/internals/to-integer.js","webpack://@maplat/tin/./node_modules/core-js/internals/to-length.js","webpack://@maplat/tin/./node_modules/core-js/internals/to-object.js","webpack://@maplat/tin/./node_modules/core-js/internals/to-offset.js","webpack://@maplat/tin/./node_modules/core-js/internals/to-positive-integer.js","webpack://@maplat/tin/./node_modules/core-js/internals/to-primitive.js","webpack://@maplat/tin/./node_modules/core-js/internals/to-string-tag-support.js","webpack://@maplat/tin/./node_modules/core-js/internals/typed-array-constructor.js","webpack://@maplat/tin/./node_modules/core-js/internals/typed-array-constructors-require-wrappers.js","webpack://@maplat/tin/./node_modules/core-js/internals/typed-array-from-species-and-list.js","webpack://@maplat/tin/./node_modules/core-js/internals/typed-array-from.js","webpack://@maplat/tin/./node_modules/core-js/internals/uid.js","webpack://@maplat/tin/./node_modules/core-js/internals/use-symbol-as-uid.js","webpack://@maplat/tin/./node_modules/core-js/internals/well-known-symbol.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.array-buffer.constructor.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.array.concat.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.array.filter.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.array.from.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.array.index-of.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.array.iterator.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.array.join.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.array.map.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.array.reduce.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.array.slice.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.array.splice.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.number.to-fixed.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.object.assign.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.object.keys.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.object.to-string.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.promise.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.regexp.exec.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.regexp.to-string.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.string.iterator.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.string.match.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.string.replace.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.string.split.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.string.sub.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.copy-within.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.every.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.fill.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.filter.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.find-index.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.find.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.float64-array.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.for-each.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.includes.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.index-of.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.iterator.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.join.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.last-index-of.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.map.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.reduce-right.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.reduce.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.reverse.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.set.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.slice.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.some.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.sort.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.subarray.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.to-locale-string.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.to-string.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.uint32-array.js","webpack://@maplat/tin/./node_modules/core-js/modules/web.dom-collections.iterator.js","webpack://@maplat/tin/./node_modules/geojson-rbush/index.js","webpack://@maplat/tin/./node_modules/point-in-polygon/flat.js","webpack://@maplat/tin/./node_modules/point-in-polygon/index.js","webpack://@maplat/tin/./node_modules/point-in-polygon/nested.js","webpack://@maplat/tin/./node_modules/polygon-clipping/dist/polygon-clipping.umd.js","webpack://@maplat/tin/./node_modules/quickselect/quickselect.js","webpack://@maplat/tin/./node_modules/rbush/index.js","webpack://@maplat/tin/./node_modules/robust-predicates/umd/orient2d.min.js","webpack://@maplat/tin/./node_modules/tinyqueue/index.js","webpack://@maplat/tin/webpack/bootstrap","webpack://@maplat/tin/webpack/runtime/define property getters","webpack://@maplat/tin/webpack/runtime/global","webpack://@maplat/tin/webpack/runtime/hasOwnProperty shorthand","webpack://@maplat/tin/webpack/runtime/make namespace object","webpack://@maplat/tin/./node_modules/@turf/helpers/dist/es/index.js","webpack://@maplat/tin/./node_modules/@turf/invariant/dist/es/index.js","webpack://@maplat/tin/./src/booleanPointInPolygon.ts","webpack://@maplat/tin/./node_modules/@turf/meta/dist/es/index.js","webpack://@maplat/tin/./node_modules/@turf/convex/dist/es/index.js","webpack://@maplat/tin/./node_modules/@turf/difference/dist/es/index.js","webpack://@maplat/tin/./node_modules/@turf/line-segment/dist/es/index.js","webpack://@maplat/tin/./node_modules/@turf/line-intersect/dist/es/index.js","webpack://@maplat/tin/./src/kinks.ts","webpack://@maplat/tin/./src/constrained-tin.ts","webpack://@maplat/tin/./src/index.ts","webpack://@maplat/tin/./node_modules/@turf/union/dist/es/index.js","webpack://@maplat/tin/./node_modules/@turf/centroid/dist/es/index.js","webpack://@maplat/tin/./node_modules/@turf/intersect/dist/es/index.js"],"names":["meta_1","bbox","geojson","result","Infinity","coordEach","coord","exports","feature","geom","properties","options","feat","type","id","geometry","point","coordinates","Error","Array","isArray","length","isNumber","polygon","_i","coordinates_1","ring","j","lineString","featureCollection","features","fc","multiLineString","multiPoint","multiPolygon","radiansToLength","radians","units","factor","factors","lengthToRadians","distance","radiansToDegrees","Math","PI","num","isNaN","Object","defineProperty","value","earthRadius","centimeters","centimetres","degrees","feet","inches","kilometers","kilometres","meters","metres","miles","millimeters","millimetres","nauticalmiles","yards","unitsFactors","areaFactors","acres","hectares","_options","points","map","coords","polygons","lineStrings","geometryCollection","geometries","round","precision","multiplier","pow","lengthToDegrees","bearingToAzimuth","bearing","angle","degreesToRadians","convertLength","originalUnit","finalUnit","convertArea","area","startFactor","finalFactor","isObject","input","constructor","validateBBox","forEach","validateId","indexOf","helpers","callback","excludeWrapCoord","k","l","stopG","geometryMaybeCollection","isGeometryCollection","wrapShrink","coordIndex","isFeatureCollection","isFeature","stop","featureIndex","geomIndex","multiFeatureIndex","geometryIndex","geomType","propEach","i","featureEach","geomEach","g","featureProperties","featureBBox","featureId","undefined","flattenEach","segmentEach","segmentIndex","previousCoords","previousFeatureIndex","previousMultiIndex","prevGeomIndex","currentCoord","featureIndexCoord","multiPartIndexCoord","currentSegment","lineEach","coordReduce","initialValue","previousValue","propReduce","currentProperties","featureReduce","currentFeature","coordAll","push","geomReduce","currentGeometry","flattenReduce","segmentReduce","started","lineReduce","currentLine","findSegment","findPoint","RBush","Queue","pointInPolygon","orient","concaveman","concavity","lengthThreshold","max","hull","left","top","right","bottom","p","cull","filtered","slice","sort","compareByX","lower","cross","pop","upper","ii","concat","convexHull","fastConvexHull","tree","toBBox","a","minX","minY","maxX","maxY","compareMinX","b","compareMinY","load","last","queue","remove","insertNode","segTree","insert","updateBBox","sqConcavity","sqLenThreshold","node","shift","next","sqLen","getSqDist","maxSqLen","findCandidate","prev","min","concave","c","d","maxDist","compareDist","data","children","child","dist","leaf","sqSegDist","sqSegBoxDist","peek","item","d0","d1","noIntersections","inside","sqSegSegDist","d2","d3","d4","p1","q1","p2","q2","edges","search","p3","dx","dy","x","y","t","x0","y0","x1","y1","x2","y2","x3","y3","sc","sN","tc","tN","ux","uy","vx","vy","wx","wy","e","D","sD","tD","module","default","r","h","n","o","s","log","f","exp","u","sqrt","floor","this","_maxEntries","_minEntries","ceil","clear","m","height","prototype","all","_all","collides","_build","_splitRoot","_insert","splice","_condense","toJSON","fromJSON","apply","_chooseSubtree","_split","_adjustParentBBoxes","_chooseSplitAxis","_chooseSplitIndex","v","M","_allDistMargin","it","TypeError","String","wellKnownSymbol","create","definePropertyModule","UNSCOPABLES","ArrayPrototype","configurable","key","charAt","S","index","unicode","Constructor","name","ArrayBuffer","DataView","NAME","NATIVE_ARRAY_BUFFER","DESCRIPTORS","global","has","classof","createNonEnumerableProperty","redefine","getPrototypeOf","setPrototypeOf","uid","Int8Array","Int8ArrayPrototype","Uint8ClampedArray","Uint8ClampedArrayPrototype","TypedArray","TypedArrayPrototype","ObjectPrototype","isPrototypeOf","TO_STRING_TAG","TYPED_ARRAY_TAG","NATIVE_ARRAY_BUFFER_VIEWS","opera","TYPED_ARRAY_TAG_REQIRED","TypedArrayConstructorsList","Uint8Array","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigIntArrayConstructorsList","BigInt64Array","BigUint64Array","isTypedArray","klass","Function","get","aTypedArray","aTypedArrayConstructor","C","call","ARRAY","TypedArrayConstructor","exportTypedArrayMethod","KEY","property","forced","error","exportTypedArrayStaticMethod","isView","redefineAll","fails","anInstance","toInteger","toLength","toIndex","IEEE754","getOwnPropertyNames","arrayFill","setToStringTag","InternalStateModule","getInternalState","setInternalState","set","ARRAY_BUFFER","DATA_VIEW","WRONG_INDEX","NativeArrayBuffer","$ArrayBuffer","$DataView","$DataViewPrototype","RangeError","packIEEE754","pack","unpackIEEE754","unpack","packInt8","number","packInt16","packInt32","unpackInt32","buffer","packFloat32","packFloat64","addGetter","view","count","isLittleEndian","intIndex","store","byteLength","bytes","start","byteOffset","reverse","conversion","NaN","ArrayBufferPrototype","keys","testView","$setInt8","setInt8","getInt8","setUint8","unsafe","bufferLength","offset","getUint8","getInt16","arguments","getUint16","getInt32","getUint32","getFloat32","getFloat64","setInt16","setUint16","setInt32","setUint32","setFloat32","setFloat64","toObject","toAbsoluteIndex","copyWithin","target","O","len","to","from","end","inc","argumentsLength","endPos","bind","callWithSafeIterationClosing","isArrayIteratorMethod","createProperty","getIteratorMethod","arrayLike","step","iterator","mapfn","mapping","iteratorMethod","done","toIndexedObject","createMethod","IS_INCLUDES","$this","el","fromIndex","includes","IndexedObject","arraySpeciesCreate","TYPE","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","IS_FILTER_OUT","NO_HOLES","callbackfn","that","specificCreate","self","boundFunction","filter","some","every","find","findIndex","filterOut","arrayMethodIsStrict","$lastIndexOf","lastIndexOf","NEGATIVE_ZERO","STRICT_METHOD","FORCED","searchElement","V8_VERSION","SPECIES","METHOD_NAME","array","foo","Boolean","argument","method","aFunction","IS_RIGHT","memo","originalArray","anObject","iteratorClose","fn","ENTRIES","ITERATOR","SAFE_CLOSING","called","iteratorWithReturn","exec","SKIP_CLOSING","ITERATION_SUPPORT","object","toString","TO_STRING_TAG_SUPPORT","classofRaw","CORRECT_ARGUMENTS","tag","tryGet","callee","ownKeys","getOwnPropertyDescriptorModule","source","getOwnPropertyDescriptor","F","requireObjectCoercible","quot","string","attribute","replace","IteratorPrototype","createPropertyDescriptor","Iterators","returnThis","IteratorConstructor","bitmap","enumerable","writable","toPrimitive","propertyKey","$","createIteratorConstructor","IS_PURE","IteratorsCore","BUGGY_SAFARI_ITERATORS","KEYS","VALUES","Iterable","DEFAULT","IS_SET","CurrentIteratorPrototype","methods","getIterationMethod","KIND","defaultIterator","IterablePrototype","INCORRECT_VALUES_NAME","nativeIterator","anyNativeIterator","entries","values","proto","document","EXISTS","createElement","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","window","userAgent","test","process","getBuiltIn","match","version","versions","v8","split","setGlobal","copyConstructorProperties","isForced","targetProperty","sourceProperty","descriptor","TARGET","GLOBAL","STATIC","stat","noTargetGet","sham","regexpExec","RegExpPrototype","RegExp","REPLACE_SUPPORTS_NAMED_GROUPS","re","groups","REPLACE_KEEPS_$0","REPLACE","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","SPLIT_WORKS_WITH_OVERWRITTEN_EXEC","originalExec","SYMBOL","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","flags","nativeRegExpMethod","nativeMethod","regexp","str","arg2","forceStringMethod","$exec","stringMethod","regexMethod","arg","path","variable","namespace","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","matched","position","captures","namedCaptures","replacement","tailPos","symbols","ch","capture","check","globalThis","hasOwnProperty","console","abs","LN2","mantissaLength","exponent","mantissa","exponentLength","eMax","eBias","rt","sign","nBits","propertyIsEnumerable","dummy","Wrapper","NewTarget","NewTargetPrototype","functionToString","inspectSource","NATIVE_WEAK_MAP","objectHas","shared","sharedKey","hiddenKeys","OBJECT_ALREADY_INITIALIZED","WeakMap","state","wmget","wmhas","wmset","metadata","facade","STATE","enforce","getterFor","detection","normalize","POLYFILL","NATIVE","toLowerCase","MATCH","isRegExp","Result","stopped","iterable","unboundFunction","iterFn","AS_ENTRIES","IS_ITERATOR","INTERRUPTED","condition","callFn","returnMethod","PrototypeOfArrayIteratorPrototype","arrayIterator","NEW_ITERATOR_PROTOTYPE","flush","head","notify","toggle","promise","then","macrotask","IS_IOS","IS_WEBOS_WEBKIT","IS_NODE","MutationObserver","WebKitMutationObserver","Promise","queueMicrotaskDescriptor","queueMicrotask","parent","domain","exit","enter","resolve","nextTick","createTextNode","observe","characterData","task","getOwnPropertySymbols","Symbol","PromiseCapability","reject","$$resolve","$$reject","objectKeys","getOwnPropertySymbolsModule","propertyIsEnumerableModule","$assign","assign","A","B","symbol","alphabet","chr","join","T","activeXDocument","defineProperties","enumBugKeys","html","documentCreateElement","IE_PROTO","EmptyConstructor","scriptTag","content","LT","NullProtoObject","ActiveXObject","iframeDocument","iframe","write","close","temp","parentWindow","NullProtoObjectViaActiveX","style","display","appendChild","src","contentWindow","open","Properties","IE8_DOM_DEFINE","$defineProperty","P","Attributes","$getOwnPropertyDescriptor","internalObjectKeys","CORRECT_PROTOTYPE_GETTER","names","$propertyIsEnumerable","NASHORN_BUG","1","V","aPossiblePrototype","setter","CORRECT_SETTER","__proto__","getOwnPropertyNamesModule","newPromiseCapability","promiseCapability","enforceInternalState","TEMPLATE","simple","R","re1","re2","regexpFlags","stickyHelpers","nativeExec","nativeReplace","patchedExec","UPDATES_LAST_INDEX_WRONG","lastIndex","UNSUPPORTED_Y","BROKEN_CARET","NPCG_INCLUDED","reCopy","sticky","charsAdded","strCopy","multiline","ignoreCase","dotAll","RE","CONSTRUCTOR_NAME","TAG","SHARED","mode","copyright","defaultConstructor","CONVERT_TO_STRING","pos","first","second","size","charCodeAt","codeAt","defer","channel","port","location","setImmediate","clearImmediate","MessageChannel","Dispatch","counter","run","runner","listener","event","post","postMessage","protocol","host","args","now","port2","port1","onmessage","addEventListener","importScripts","removeChild","setTimeout","integer","toPositiveInteger","BYTES","PREFERRED_STRING","val","valueOf","TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS","ArrayBufferViewCore","ArrayBufferModule","toOffset","typedArrayFrom","setSpecies","inheritIfRequired","nativeDefineProperty","nativeGetOwnPropertyDescriptor","BYTES_PER_ELEMENT","WRONG_LENGTH","fromList","list","isArrayBuffer","isTypedArrayIndex","wrappedGetOwnPropertyDescriptor","wrappedDefineProperty","wrapper","CLAMPED","GETTER","SETTER","NativeTypedArrayConstructor","TypedArrayConstructorPrototype","exported","addElement","getter","typedArrayOffset","$length","$len","checkCorrectnessOfIteration","speciesConstructor","instance","postfix","random","NATIVE_SYMBOL","USE_SYMBOL_AS_UID","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","arrayBufferModule","arrayMethodHasSpeciesSupport","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","SPECIES_SUPPORT","isConcatSpreadable","spreadable","E","$filter","$indexOf","nativeIndexOf","addToUnscopables","defineIterator","ARRAY_ITERATOR","iterated","kind","Arguments","nativeJoin","ES3_STRINGS","separator","$map","$reduce","CHROME_VERSION","reduce","HAS_SPECIES_SUPPORT","nativeSlice","fin","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","deleteCount","insertCount","actualDeleteCount","actualStart","thisNumberValue","repeat","nativeToFixed","toFixed","acc","multiply","c2","divide","dataToString","fractionDigits","z","fractDigits","nativeKeys","Internal","OwnPromiseCapability","PromiseWrapper","nativeThen","NativePromise","iterate","microtask","promiseResolve","hostReportErrors","newPromiseCapabilityModule","perform","IS_BROWSER","PROMISE","getInternalPromiseState","NativePromisePrototype","PromiseConstructor","PromiseConstructorPrototype","newGenericPromiseCapability","DISPATCH_EVENT","createEvent","dispatchEvent","NATIVE_REJECTION_EVENT","PromiseRejectionEvent","UNHANDLED_REJECTION","SUBCLASSING","GLOBAL_CORE_JS_PROMISE","FakePromise","INCORRECT_ITERATION","isThenable","isReject","notified","chain","reactions","ok","exited","reaction","handler","fail","rejection","onHandleUnhandled","onUnhandled","reason","initEvent","isUnhandled","emit","unwrap","internalReject","internalResolve","executor","onFulfilled","onRejected","wrap","capability","$promiseResolve","remaining","alreadyCalled","race","TO_STRING","nativeToString","NOT_GENERIC","INCORRECT_NAME","rf","STRING_ITERATOR","fixRegExpWellKnownSymbolLogic","advanceStringIndex","regExpExec","nativeMatch","maybeCallNative","matcher","res","rx","fullUnicode","matchStr","getSubstitution","UNSAFE_SUBSTITUTE","searchValue","replaceValue","replacer","functionalReplace","results","accumulatedResult","nextSourcePosition","replacerArgs","callRegExpExec","arrayPush","MAX_UINT32","SPLIT","nativeSplit","internalSplit","limit","lim","lastLength","output","lastLastIndex","separatorCopy","splitter","unicodeMatching","q","createHTML","forcedStringHTMLMethod","sub","$copyWithin","$every","$fill","fromSpeciesAndList","$findIndex","predicate","$find","createTypedArrayConstructor","init","$forEach","$includes","ArrayIterators","arrayValues","arrayKeys","arrayEntries","nativeTypedArrayIterator","CORRECT_ITER_NAME","typedArrayValues","$join","$reduceRight","middle","$slice","$some","$sort","comparefn","begin","beginIndex","$toLocaleString","toLocaleString","TO_LOCALE_STRING_BUG","Uint8ArrayPrototype","arrayToString","arrayJoin","IS_NOT_ARRAY_METHOD","DOMIterables","ArrayIteratorMethods","ArrayValues","COLLECTION_NAME","Collection","CollectionPrototype","rbush","meta","turfBBox","geojsonRbush","maxEntries","equals","json","vs","xi","yi","xj","yj","pointInPolygonFlat","pointInPolygonNested","nested","flat","_classCallCheck","_defineProperties","props","_createClass","protoProps","staticProps","Node","DEFAULT_COMPARE","splay","comparator","N","cmp","printRow","root","prefix","isTail","out","printNode","indent","Tree","_root","_size","_comparator","add","_remove","findStatic","current","compare","contains","visitor","ctx","Q","range","low","high","_a","minNode","maxNode","at","successor","predecessor","toList","presort","loadRecursive","mergedList","l1","l2","mergeLists","createList","sortedListToBST","isEmpty","update","newKey","newData","merge","pivot","tmp","isInBbox","ll","ur","getBboxOverlap","b1","b2","lowerX","upperX","epsilon","Number","EPSILON","EPSILON_SQ","ab","PtRounder","reset","xRounder","CoordRounder","yRounder","prevNode","nextNode","rounder","crossProduct","dotProduct","compareVectorAngles","basePt","endPt1","endPt2","v1","v2","kross","cosineOfAngle","pShared","pBase","pAngle","vBase","vAngle","horizontalIntersection","pt","verticalIntersection","SweepEvent","isLeft","events","ptCmp","comparePoints","link","Segment","segment","aPt","bPt","other","otherEvents","iMax","evt","checkForConsuming","numEvents","evt1","consumedBy","evt2","otherSE","consume","ringOut","isInResult","baseEvent","_this","cache","Map","fillCache","linkedEvent","nextEvent","sine","cosine","_cache$get","asine","acosine","_cache$get2","bsine","bcosine","segmentId","leftSE","rightSE","rings","windings","alx","blx","arx","brx","aly","bly","ary","bry","aCmpBLeft","comparePoint","bCmpARight","bCmpALeft","aCmpBRight","_bCmpARight","_aCmpBRight","ay","ax","by","bx","newRightSE","isAnEndpoint","lPt","rPt","vector","yDist","xFromYDist","xDist","yFromXDist","tBbox","oBbox","bboxOverlap","tlp","trp","olp","orp","touchesOtherLSE","touchesThisLSE","touchesOtherRSE","touchesThisRSE","pt1","pt2","ve","intersection","newEvents","alreadyLinked","newLeftSE","oldRightSE","replaceRightSE","newSeg","swapEvents","tmpEvt","consumer","consumee","_tmp","winding","_prevInResult","prevInResult","_beforeState","seg","afterState","multiPolys","_afterState","beforeState","ringsAfter","windingsAfter","mpsAfter","polysAfter","polysExclude","_iMax","_ring","poly","isExterior","_index","_i2","_iMax2","mp","multiPoly","_isInResult","mpsBefore","operation","noBefores","noAfters","least","most","numMultiPolys","diff","isJustSubject","mps","isSubject","leftPt","rightPt","cmpPts","RingIn","geomRing","segments","firstPoint","prevPoint","fromRing","sweepEvents","PolyIn","geomPoly","exteriorRing","interiorRings","getSweepEvents","ringSweepEvents","jMax","MultiPolyIn","ex","polys","POSITIVE_INFINITY","NEGATIVE_INFINITY","polySweepEvents","RingOut","allSegments","ringsOut","prevEvent","startingPoint","intersectionLEs","availableLEs","getAvailableLinkedEvents","firstPt","lastPt","indexLE","getLeftmostComparator","intersectionLE","ringEvents","unshift","prevPt","_pt","_nextPt","nextPt","isExteriorRing","iStart","iEnd","orderedPoints","_isExteriorRing","enclosing","enclosingRing","_enclosingRing","_calcEnclosingRing","leftMostEvt","prevSeg","prevPrevSeg","PolyOut","getGeom","ringGeom","MultiPolyOut","_composePolys","polyGeom","addInterior","SweepLine","nextSeg","prevMySplitter","prevInter","getIntersection","newEventsFromSplit","_splitSafely","nextMySplitter","nextInter","_newEventsFromSplit","mySplitter","_newEventsFromSplit2","inter","_newEventsFromSplit3","_i3","_iMax3","_newEventsFromSplit4","_i4","_iMax4","POLYGON_CLIPPING_MAX_QUEUE_SIZE","env","POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS","Operation","moreGeoms","multipolys","subject","mpA","_j","_jMax","sweepLine","prevQueueSize","_evt","factory","union","_len","_key","_len2","_key2","xor","_len3","_key3","difference","subjectGeom","_len4","clippingGeoms","_key4","quickselectStep","arr","sd","swap","defaultCompare","quickselect","format","_initFormat","findItem","items","equalsFn","calcBBox","distBBox","destNode","createNode","extend","compareNodeMinX","compareNodeMinY","bboxArea","bboxMargin","intersects","multiSelect","mid","stack","childBBox","nodesToSearch","tmpNode","goingUp","indexes","right2","right3","N2","N1","level","targetNode","enlargement","minArea","minEnlargement","isNode","insertPath","splitIndex","newNode","bbox1","bbox2","overlap","minOverlap","leftBBox","rightBBox","margin","siblings","compareArr","orient2d","_","w","G","H","I","J","K","L","orient2dfast","TinyQueue","_down","_up","halfLength","best","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","definition","obj","prop","toStringTag","getCoord","getCoords","booleanPointInPolygon","inBBox","insidePoly","ignoreBoundary","u1","u2","currentP","nextP","numContours","contourLen","contour","coordinate","convex","currentCoords","coords1","coords2","createSegments","lineSegmentFeature","line1","line2","x4","y4","denom","uA","uB","ArcCollection","initArcs","arcs","xx","yy","nn","initXYData","_xx","_yy","_nn","_zz","_zlimit","_filteredArcIter","_ii","idx","initBounds","_arcIter","ArcIter","calcArcBounds_","_bb","bb","_allBounds","bounds","arcLen","numArcs","Bounds","arcOffs","calcArcBounds","mergeBounds","clone","cb","forEachArcSegment","arcId","fw","absId","zlim","getRetainedInterval","zz","buf","forEachSegment","yrange","getBounds","segLen","getAvgSegment2","ymin","ymax","stripeCount","calcSegmentIntersectionStripeCount","stripeSizes","stripeId","id1","id2","s1","s2","stripeData","getUint32Array","info","isArrayLike","tot","nan","utilsSum","offs","stripes","func","utilsForEach","stripeSize","subarray","initializeArray","stripe","raw","getVertexData","intersections","intersectSegments","dedupIntersections","msg","isString","ids","s1p1","s1p2","s2p1","s2p2","s1p1x","s1p2x","s2p1x","s2p2x","s1p1y","s1p2y","s2p1y","s2p2y","hit","seg1","seg2","cx","cy","orderSegmentIds","quicksortSegmentIds","sortSegmentIds","orient2D","segmentHit","nearest","lineIntersection","minIdx","minDist","distanceSq","nearestPoint","clampToCloseRange","clampIntersectionPoint","crossIntersection","endpointHit","useY","collinearIntersection","formatIntersection","determinant2D","den","outsideRange","findEndpointInRange","lo","hi","insertionSortSegmentIds","xy","formatIntersectingSegment","getIntersectionKey","xmin","xmax","setBounds","Point","vec0","vec1","getPointOrientation","edge","fieldOrigin","binSorter","bin","isEdgeIntersecting","edgeA","edgeB","vecA0A1","vecA0B0","vecA0B1","AxB0","AxB1","vecB0B1","vecB0A0","vecB0A1","BxA0","BxA1","findEnclosingTriangle","target_vertex","meshData","ind_tri_cur","vertices","scaled_vert","triangles","tri","adjacency","adj","max_hops","nhops","tri_cur","orients","base_ind","iedge","base_p1_ind","base_p2_ind","scale","dot","restoreDelaunay","ind_vert","v_new","ind_tri_pair","ind_tri","ind_tri_vert","v_tri","isDelaunay2","outernode_tri","ind_tri_neigh","swapDiagonal","new_node_ind_tri","ind_tri_outerp2","neigh_node","new_node_ind_tri_neigh","ind_tri_neigh_outer","ind_triA","ind_triB","vert2tri","vert_to_tri","outernode_triA","outernode_triB","outernode_triA_p1","outernode_triA_p2","outernode_triB_p1","outernode_triB_p2","ind_triA_neigh_outerp1","ind_triB_neigh_outerp1","local_ind","vecp0","vecp1","vecp2","p0_sq","p1_sq","p2_sq","getEdgeIntersections","verts","con_edges","con_edge","edge_v0_ind","edge_v1_ind","edge_coords","tri_around_v0","edge_in_triangulation","itri","cur_tri","v0_node","v0p1_node","v0p2_node","prev_intersection","tri_ind","prev_edge_ind","v1_node","fixEdgeIntersections","intersectionList","con_edge_ind","newEdgeList","con_edge_nodes","cur_con_edge_coords","nIntersections","tri0_ind","tri0_node","tri1_ind","tri1_node","quad_v0","quad_v1","quad_v2","newDiagonal_nodes","newDiagonal_coords","isEdgeValid","newEdge","edgeList","new_edge_verts","hasCommonNode","edge_verts","isPointZ","xyzs","xMax","xMin","yMax","yMin","xDiff","xCenter","yDiff","yCenter","maxDiff","vert","normXy","nVertex","loadEdges","nBinsX","scaledverts","bin_index","scaled_x","scaled_y","bin_id","ind_i","ind_j","ind","setupDelaunay","bins","new_i","new_tri0","new_tri1","new_tri2","N_tri","cur_tri_adj","neigh_adj_ind","del_count","indmap","prev_del_count","del_length","removeBoundaryTriangles","delaunay","vConnectivity","buildVertexConnectivity","edge0","edge1","iter","maxIter","num_diagonal_swaps","new_edge_nodes","is_con_edge","jedge","tri_count","tri_ind_pair","triA_verts","outer_nodeB_ind","outer_nodeA_ind","constrainEdges","indices","format_version","Tin","setWh","wh","vertexMode","VERTEX_PLAIN","strictMode","MODE_AUTO","yaxisMode","YAXIS_INVERT","importance","priority","stateFull","setPoints","setEdges","YAXIS_FOLLOW","tins","indexedTins","normalizeEdges","edgeNodes","minx","maxx","miny","maxy","boundsPolygon","compiled","tins_points","pointsWeightBuffer","bd","forb","base","weight_buffer","normalizeNodeKey","strict_status","kinks_points","STATUS_ERROR","STATUS_LOOSE","STATUS_STRICT","vertices_params","forw","bakw","idxNxt","indexesToTri","centroid_point","vertices_points","centroid","bakwI","idxes","addIndexedTin","kinks","JSON","parse","stringify","pIdx","vertex_data","tin","kink","gridNum","forwBound","bakwBound","forwEachBound","eachBound","forwXUnit","forwYUnit","forwGridCache","bound","normXMin","unitCalc","normXMax","normYMin","normYMax","bakwEachBound","bakwXUnit","bakwYUnit","bakwGridCache","xOrigin","yOrigin","xUnit","yUnit","gridCache","pointsSet","counterTri","tris","searchIndex","forTri","bakTri","insertSearchIndex","overlapCheckAsync","catch","err","prevResult","overlapped","trises","forUnion","poly1","poly2","geom1","geom2","unioned","forConvex","polygon2","polygon1","differenced","splittedKey","numberKey","parseInt","sharedVtx","alpha","vtx","nonSharedVtx","removeSearchIndex","sVtx","newBakTri","newForTri","direc","findSegmentIntersections","apoint","pointsArray","forPoint","createPoint","counterPoint","edgeNodeIndex","startEnd","illstNodes","mercNodes","lengths","nodes","eachLengths","sumLengths","eachSum","ratio","thisLengths","anotherLengths","lengthItem","anotherSets","anotherPrev","anotherNext","ratioInEdge","anotherNode","strict","insideCheck","curr","MODE_STRICT","MODE_LOOSE","generatePointsSet","prevResults","constrainedTin","xSum","ySum","tinForCentroid","tinBakCentroid","forCentroidFt","pointsSetBbox","transformArr","forwBuf","convexBuf","vconvex","vertex","bakConvex","expandConvex","_array","forVertex","bakVertex","vertexDelta","xRate","yRate","orthant","VERTEX_BIRDEYE","pre","cur","distanceSum","thetaDelta","atan2","sumThetaX","cos","sumThetaY","sin","verticesSet","delta","forDelta","bakDistance","bakTheta","expandRate","side","expand","expandLine","intersect","unique","lineIntersect","intersect_","rate","verticesList","forVertexFt","bakVertexFt","rotateVerticesTriangle","calcurateStrictTinAsync","vertexCalc","calculatePointsWeightAsync","backward","ignoreBounds","tpoint","verticesParams","weightBuffer","stateTriangle","stateSetFunc","stateBackward","ret","calcTargets","alreadyChecked","vtxes","vi","vj","indexi","indexj","fromi","fromj","toi","toj","weight","substring","centCoord","itemi","itemj","normalizeRadian","noNegative","rangeFunc","transformTinArr","of","ad","cd","ac","ao","abd","acd","abv","acv","nabv","aW","bW","cW","normB","normC","origin","unit","normCoord","normX","normY","tinsKey","radian","radianList","minIndex","idel","minTheta","jdel","minDel","decideUseVertex","useVerticesArr","geoms","buildTri","cent","bboxes","points_","point_base","isFinite","nodeIndex","retValue","searchResult","dir","calcSearchKeys","bakKeys","newArray","eachTris","eachTri"],"mappings":"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","file":"index.js","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar meta_1 = require(\"@turf/meta\");\n/**\n * Takes a set of features, calculates the bbox of all input features, and returns a bounding box.\n *\n * @name bbox\n * @param {GeoJSON} geojson any GeoJSON object\n * @returns {BBox} bbox extent in [minX, minY, maxX, maxY] order\n * @example\n * var line = turf.lineString([[-74, 40], [-78, 42], [-82, 35]]);\n * var bbox = turf.bbox(line);\n * var bboxPolygon = turf.bboxPolygon(bbox);\n *\n * //addToMap\n * var addToMap = [line, bboxPolygon]\n */\nfunction bbox(geojson) {\n    var result = [Infinity, Infinity, -Infinity, -Infinity];\n    meta_1.coordEach(geojson, function (coord) {\n        if (result[0] > coord[0]) {\n            result[0] = coord[0];\n        }\n        if (result[1] > coord[1]) {\n            result[1] = coord[1];\n        }\n        if (result[2] < coord[0]) {\n            result[2] = coord[0];\n        }\n        if (result[3] < coord[1]) {\n            result[3] = coord[1];\n        }\n    });\n    return result;\n}\nbbox[\"default\"] = bbox;\nexports.default = bbox;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @module helpers\n */\n/**\n * Earth Radius used with the Harvesine formula and approximates using a spherical (non-ellipsoid) Earth.\n *\n * @memberof helpers\n * @type {number}\n */\nexports.earthRadius = 6371008.8;\n/**\n * Unit of measurement factors using a spherical (non-ellipsoid) earth radius.\n *\n * @memberof helpers\n * @type {Object}\n */\nexports.factors = {\n    centimeters: exports.earthRadius * 100,\n    centimetres: exports.earthRadius * 100,\n    degrees: exports.earthRadius / 111325,\n    feet: exports.earthRadius * 3.28084,\n    inches: exports.earthRadius * 39.37,\n    kilometers: exports.earthRadius / 1000,\n    kilometres: exports.earthRadius / 1000,\n    meters: exports.earthRadius,\n    metres: exports.earthRadius,\n    miles: exports.earthRadius / 1609.344,\n    millimeters: exports.earthRadius * 1000,\n    millimetres: exports.earthRadius * 1000,\n    nauticalmiles: exports.earthRadius / 1852,\n    radians: 1,\n    yards: exports.earthRadius / 1.0936,\n};\n/**\n * Units of measurement factors based on 1 meter.\n *\n * @memberof helpers\n * @type {Object}\n */\nexports.unitsFactors = {\n    centimeters: 100,\n    centimetres: 100,\n    degrees: 1 / 111325,\n    feet: 3.28084,\n    inches: 39.37,\n    kilometers: 1 / 1000,\n    kilometres: 1 / 1000,\n    meters: 1,\n    metres: 1,\n    miles: 1 / 1609.344,\n    millimeters: 1000,\n    millimetres: 1000,\n    nauticalmiles: 1 / 1852,\n    radians: 1 / exports.earthRadius,\n    yards: 1 / 1.0936,\n};\n/**\n * Area of measurement factors based on 1 square meter.\n *\n * @memberof helpers\n * @type {Object}\n */\nexports.areaFactors = {\n    acres: 0.000247105,\n    centimeters: 10000,\n    centimetres: 10000,\n    feet: 10.763910417,\n    hectares: 0.0001,\n    inches: 1550.003100006,\n    kilometers: 0.000001,\n    kilometres: 0.000001,\n    meters: 1,\n    metres: 1,\n    miles: 3.86e-7,\n    millimeters: 1000000,\n    millimetres: 1000000,\n    yards: 1.195990046,\n};\n/**\n * Wraps a GeoJSON {@link Geometry} in a GeoJSON {@link Feature}.\n *\n * @name feature\n * @param {Geometry} geometry input geometry\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature} a GeoJSON Feature\n * @example\n * var geometry = {\n *   \"type\": \"Point\",\n *   \"coordinates\": [110, 50]\n * };\n *\n * var feature = turf.feature(geometry);\n *\n * //=feature\n */\nfunction feature(geom, properties, options) {\n    if (options === void 0) { options = {}; }\n    var feat = { type: \"Feature\" };\n    if (options.id === 0 || options.id) {\n        feat.id = options.id;\n    }\n    if (options.bbox) {\n        feat.bbox = options.bbox;\n    }\n    feat.properties = properties || {};\n    feat.geometry = geom;\n    return feat;\n}\nexports.feature = feature;\n/**\n * Creates a GeoJSON {@link Geometry} from a Geometry string type & coordinates.\n * For GeometryCollection type use `helpers.geometryCollection`\n *\n * @name geometry\n * @param {string} type Geometry Type\n * @param {Array<any>} coordinates Coordinates\n * @param {Object} [options={}] Optional Parameters\n * @returns {Geometry} a GeoJSON Geometry\n * @example\n * var type = \"Point\";\n * var coordinates = [110, 50];\n * var geometry = turf.geometry(type, coordinates);\n * // => geometry\n */\nfunction geometry(type, coordinates, _options) {\n    if (_options === void 0) { _options = {}; }\n    switch (type) {\n        case \"Point\":\n            return point(coordinates).geometry;\n        case \"LineString\":\n            return lineString(coordinates).geometry;\n        case \"Polygon\":\n            return polygon(coordinates).geometry;\n        case \"MultiPoint\":\n            return multiPoint(coordinates).geometry;\n        case \"MultiLineString\":\n            return multiLineString(coordinates).geometry;\n        case \"MultiPolygon\":\n            return multiPolygon(coordinates).geometry;\n        default:\n            throw new Error(type + \" is invalid\");\n    }\n}\nexports.geometry = geometry;\n/**\n * Creates a {@link Point} {@link Feature} from a Position.\n *\n * @name point\n * @param {Array<number>} coordinates longitude, latitude position (each in decimal degrees)\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<Point>} a Point feature\n * @example\n * var point = turf.point([-75.343, 39.984]);\n *\n * //=point\n */\nfunction point(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    if (!coordinates) {\n        throw new Error(\"coordinates is required\");\n    }\n    if (!Array.isArray(coordinates)) {\n        throw new Error(\"coordinates must be an Array\");\n    }\n    if (coordinates.length < 2) {\n        throw new Error(\"coordinates must be at least 2 numbers long\");\n    }\n    if (!isNumber(coordinates[0]) || !isNumber(coordinates[1])) {\n        throw new Error(\"coordinates must contain numbers\");\n    }\n    var geom = {\n        type: \"Point\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.point = point;\n/**\n * Creates a {@link Point} {@link FeatureCollection} from an Array of Point coordinates.\n *\n * @name points\n * @param {Array<Array<number>>} coordinates an array of Points\n * @param {Object} [properties={}] Translate these properties to each Feature\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north]\n * associated with the FeatureCollection\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<Point>} Point Feature\n * @example\n * var points = turf.points([\n *   [-75, 39],\n *   [-80, 45],\n *   [-78, 50]\n * ]);\n *\n * //=points\n */\nfunction points(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    return featureCollection(coordinates.map(function (coords) {\n        return point(coords, properties);\n    }), options);\n}\nexports.points = points;\n/**\n * Creates a {@link Polygon} {@link Feature} from an Array of LinearRings.\n *\n * @name polygon\n * @param {Array<Array<Array<number>>>} coordinates an array of LinearRings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<Polygon>} Polygon Feature\n * @example\n * var polygon = turf.polygon([[[-5, 52], [-4, 56], [-2, 51], [-7, 54], [-5, 52]]], { name: 'poly1' });\n *\n * //=polygon\n */\nfunction polygon(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    for (var _i = 0, coordinates_1 = coordinates; _i < coordinates_1.length; _i++) {\n        var ring = coordinates_1[_i];\n        if (ring.length < 4) {\n            throw new Error(\"Each LinearRing of a Polygon must have 4 or more Positions.\");\n        }\n        for (var j = 0; j < ring[ring.length - 1].length; j++) {\n            // Check if first point of Polygon contains two numbers\n            if (ring[ring.length - 1][j] !== ring[0][j]) {\n                throw new Error(\"First and last Position are not equivalent.\");\n            }\n        }\n    }\n    var geom = {\n        type: \"Polygon\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.polygon = polygon;\n/**\n * Creates a {@link Polygon} {@link FeatureCollection} from an Array of Polygon coordinates.\n *\n * @name polygons\n * @param {Array<Array<Array<Array<number>>>>} coordinates an array of Polygon coordinates\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<Polygon>} Polygon FeatureCollection\n * @example\n * var polygons = turf.polygons([\n *   [[[-5, 52], [-4, 56], [-2, 51], [-7, 54], [-5, 52]]],\n *   [[[-15, 42], [-14, 46], [-12, 41], [-17, 44], [-15, 42]]],\n * ]);\n *\n * //=polygons\n */\nfunction polygons(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    return featureCollection(coordinates.map(function (coords) {\n        return polygon(coords, properties);\n    }), options);\n}\nexports.polygons = polygons;\n/**\n * Creates a {@link LineString} {@link Feature} from an Array of Positions.\n *\n * @name lineString\n * @param {Array<Array<number>>} coordinates an array of Positions\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<LineString>} LineString Feature\n * @example\n * var linestring1 = turf.lineString([[-24, 63], [-23, 60], [-25, 65], [-20, 69]], {name: 'line 1'});\n * var linestring2 = turf.lineString([[-14, 43], [-13, 40], [-15, 45], [-10, 49]], {name: 'line 2'});\n *\n * //=linestring1\n * //=linestring2\n */\nfunction lineString(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    if (coordinates.length < 2) {\n        throw new Error(\"coordinates must be an array of two or more positions\");\n    }\n    var geom = {\n        type: \"LineString\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.lineString = lineString;\n/**\n * Creates a {@link LineString} {@link FeatureCollection} from an Array of LineString coordinates.\n *\n * @name lineStrings\n * @param {Array<Array<Array<number>>>} coordinates an array of LinearRings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north]\n * associated with the FeatureCollection\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<LineString>} LineString FeatureCollection\n * @example\n * var linestrings = turf.lineStrings([\n *   [[-24, 63], [-23, 60], [-25, 65], [-20, 69]],\n *   [[-14, 43], [-13, 40], [-15, 45], [-10, 49]]\n * ]);\n *\n * //=linestrings\n */\nfunction lineStrings(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    return featureCollection(coordinates.map(function (coords) {\n        return lineString(coords, properties);\n    }), options);\n}\nexports.lineStrings = lineStrings;\n/**\n * Takes one or more {@link Feature|Features} and creates a {@link FeatureCollection}.\n *\n * @name featureCollection\n * @param {Feature[]} features input features\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {FeatureCollection} FeatureCollection of Features\n * @example\n * var locationA = turf.point([-75.343, 39.984], {name: 'Location A'});\n * var locationB = turf.point([-75.833, 39.284], {name: 'Location B'});\n * var locationC = turf.point([-75.534, 39.123], {name: 'Location C'});\n *\n * var collection = turf.featureCollection([\n *   locationA,\n *   locationB,\n *   locationC\n * ]);\n *\n * //=collection\n */\nfunction featureCollection(features, options) {\n    if (options === void 0) { options = {}; }\n    var fc = { type: \"FeatureCollection\" };\n    if (options.id) {\n        fc.id = options.id;\n    }\n    if (options.bbox) {\n        fc.bbox = options.bbox;\n    }\n    fc.features = features;\n    return fc;\n}\nexports.featureCollection = featureCollection;\n/**\n * Creates a {@link Feature<MultiLineString>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiLineString\n * @param {Array<Array<Array<number>>>} coordinates an array of LineStrings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiLineString>} a MultiLineString feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiLine = turf.multiLineString([[[0,0],[10,10]]]);\n *\n * //=multiLine\n */\nfunction multiLineString(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"MultiLineString\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.multiLineString = multiLineString;\n/**\n * Creates a {@link Feature<MultiPoint>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiPoint\n * @param {Array<Array<number>>} coordinates an array of Positions\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiPoint>} a MultiPoint feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiPt = turf.multiPoint([[0,0],[10,10]]);\n *\n * //=multiPt\n */\nfunction multiPoint(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"MultiPoint\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.multiPoint = multiPoint;\n/**\n * Creates a {@link Feature<MultiPolygon>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiPolygon\n * @param {Array<Array<Array<Array<number>>>>} coordinates an array of Polygons\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiPolygon>} a multipolygon feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiPoly = turf.multiPolygon([[[[0,0],[0,10],[10,10],[10,0],[0,0]]]]);\n *\n * //=multiPoly\n *\n */\nfunction multiPolygon(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"MultiPolygon\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.multiPolygon = multiPolygon;\n/**\n * Creates a {@link Feature<GeometryCollection>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name geometryCollection\n * @param {Array<Geometry>} geometries an array of GeoJSON Geometries\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<GeometryCollection>} a GeoJSON GeometryCollection Feature\n * @example\n * var pt = turf.geometry(\"Point\", [100, 0]);\n * var line = turf.geometry(\"LineString\", [[101, 0], [102, 1]]);\n * var collection = turf.geometryCollection([pt, line]);\n *\n * // => collection\n */\nfunction geometryCollection(geometries, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"GeometryCollection\",\n        geometries: geometries,\n    };\n    return feature(geom, properties, options);\n}\nexports.geometryCollection = geometryCollection;\n/**\n * Round number to precision\n *\n * @param {number} num Number\n * @param {number} [precision=0] Precision\n * @returns {number} rounded number\n * @example\n * turf.round(120.4321)\n * //=120\n *\n * turf.round(120.4321, 2)\n * //=120.43\n */\nfunction round(num, precision) {\n    if (precision === void 0) { precision = 0; }\n    if (precision && !(precision >= 0)) {\n        throw new Error(\"precision must be a positive number\");\n    }\n    var multiplier = Math.pow(10, precision || 0);\n    return Math.round(num * multiplier) / multiplier;\n}\nexports.round = round;\n/**\n * Convert a distance measurement (assuming a spherical Earth) from radians to a more friendly unit.\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @name radiansToLength\n * @param {number} radians in radians across the sphere\n * @param {string} [units=\"kilometers\"] can be degrees, radians, miles, inches, yards, metres,\n * meters, kilometres, kilometers.\n * @returns {number} distance\n */\nfunction radiansToLength(radians, units) {\n    if (units === void 0) { units = \"kilometers\"; }\n    var factor = exports.factors[units];\n    if (!factor) {\n        throw new Error(units + \" units is invalid\");\n    }\n    return radians * factor;\n}\nexports.radiansToLength = radiansToLength;\n/**\n * Convert a distance measurement (assuming a spherical Earth) from a real-world unit into radians\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @name lengthToRadians\n * @param {number} distance in real units\n * @param {string} [units=\"kilometers\"] can be degrees, radians, miles, inches, yards, metres,\n * meters, kilometres, kilometers.\n * @returns {number} radians\n */\nfunction lengthToRadians(distance, units) {\n    if (units === void 0) { units = \"kilometers\"; }\n    var factor = exports.factors[units];\n    if (!factor) {\n        throw new Error(units + \" units is invalid\");\n    }\n    return distance / factor;\n}\nexports.lengthToRadians = lengthToRadians;\n/**\n * Convert a distance measurement (assuming a spherical Earth) from a real-world unit into degrees\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, centimeters, kilometres, feet\n *\n * @name lengthToDegrees\n * @param {number} distance in real units\n * @param {string} [units=\"kilometers\"] can be degrees, radians, miles, inches, yards, metres,\n * meters, kilometres, kilometers.\n * @returns {number} degrees\n */\nfunction lengthToDegrees(distance, units) {\n    return radiansToDegrees(lengthToRadians(distance, units));\n}\nexports.lengthToDegrees = lengthToDegrees;\n/**\n * Converts any bearing angle from the north line direction (positive clockwise)\n * and returns an angle between 0-360 degrees (positive clockwise), 0 being the north line\n *\n * @name bearingToAzimuth\n * @param {number} bearing angle, between -180 and +180 degrees\n * @returns {number} angle between 0 and 360 degrees\n */\nfunction bearingToAzimuth(bearing) {\n    var angle = bearing % 360;\n    if (angle < 0) {\n        angle += 360;\n    }\n    return angle;\n}\nexports.bearingToAzimuth = bearingToAzimuth;\n/**\n * Converts an angle in radians to degrees\n *\n * @name radiansToDegrees\n * @param {number} radians angle in radians\n * @returns {number} degrees between 0 and 360 degrees\n */\nfunction radiansToDegrees(radians) {\n    var degrees = radians % (2 * Math.PI);\n    return (degrees * 180) / Math.PI;\n}\nexports.radiansToDegrees = radiansToDegrees;\n/**\n * Converts an angle in degrees to radians\n *\n * @name degreesToRadians\n * @param {number} degrees angle between 0 and 360 degrees\n * @returns {number} angle in radians\n */\nfunction degreesToRadians(degrees) {\n    var radians = degrees % 360;\n    return (radians * Math.PI) / 180;\n}\nexports.degreesToRadians = degreesToRadians;\n/**\n * Converts a length to the requested unit.\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @param {number} length to be converted\n * @param {Units} [originalUnit=\"kilometers\"] of the length\n * @param {Units} [finalUnit=\"kilometers\"] returned unit\n * @returns {number} the converted length\n */\nfunction convertLength(length, originalUnit, finalUnit) {\n    if (originalUnit === void 0) { originalUnit = \"kilometers\"; }\n    if (finalUnit === void 0) { finalUnit = \"kilometers\"; }\n    if (!(length >= 0)) {\n        throw new Error(\"length must be a positive number\");\n    }\n    return radiansToLength(lengthToRadians(length, originalUnit), finalUnit);\n}\nexports.convertLength = convertLength;\n/**\n * Converts a area to the requested unit.\n * Valid units: kilometers, kilometres, meters, metres, centimetres, millimeters, acres, miles, yards, feet, inches, hectares\n * @param {number} area to be converted\n * @param {Units} [originalUnit=\"meters\"] of the distance\n * @param {Units} [finalUnit=\"kilometers\"] returned unit\n * @returns {number} the converted area\n */\nfunction convertArea(area, originalUnit, finalUnit) {\n    if (originalUnit === void 0) { originalUnit = \"meters\"; }\n    if (finalUnit === void 0) { finalUnit = \"kilometers\"; }\n    if (!(area >= 0)) {\n        throw new Error(\"area must be a positive number\");\n    }\n    var startFactor = exports.areaFactors[originalUnit];\n    if (!startFactor) {\n        throw new Error(\"invalid original units\");\n    }\n    var finalFactor = exports.areaFactors[finalUnit];\n    if (!finalFactor) {\n        throw new Error(\"invalid final units\");\n    }\n    return (area / startFactor) * finalFactor;\n}\nexports.convertArea = convertArea;\n/**\n * isNumber\n *\n * @param {*} num Number to validate\n * @returns {boolean} true/false\n * @example\n * turf.isNumber(123)\n * //=true\n * turf.isNumber('foo')\n * //=false\n */\nfunction isNumber(num) {\n    return !isNaN(num) && num !== null && !Array.isArray(num);\n}\nexports.isNumber = isNumber;\n/**\n * isObject\n *\n * @param {*} input variable to validate\n * @returns {boolean} true/false\n * @example\n * turf.isObject({elevation: 10})\n * //=true\n * turf.isObject('foo')\n * //=false\n */\nfunction isObject(input) {\n    return !!input && input.constructor === Object;\n}\nexports.isObject = isObject;\n/**\n * Validate BBox\n *\n * @private\n * @param {Array<number>} bbox BBox to validate\n * @returns {void}\n * @throws Error if BBox is not valid\n * @example\n * validateBBox([-180, -40, 110, 50])\n * //=OK\n * validateBBox([-180, -40])\n * //=Error\n * validateBBox('Foo')\n * //=Error\n * validateBBox(5)\n * //=Error\n * validateBBox(null)\n * //=Error\n * validateBBox(undefined)\n * //=Error\n */\nfunction validateBBox(bbox) {\n    if (!bbox) {\n        throw new Error(\"bbox is required\");\n    }\n    if (!Array.isArray(bbox)) {\n        throw new Error(\"bbox must be an Array\");\n    }\n    if (bbox.length !== 4 && bbox.length !== 6) {\n        throw new Error(\"bbox must be an Array of 4 or 6 numbers\");\n    }\n    bbox.forEach(function (num) {\n        if (!isNumber(num)) {\n            throw new Error(\"bbox must only contain numbers\");\n        }\n    });\n}\nexports.validateBBox = validateBBox;\n/**\n * Validate Id\n *\n * @private\n * @param {string|number} id Id to validate\n * @returns {void}\n * @throws Error if Id is not valid\n * @example\n * validateId([-180, -40, 110, 50])\n * //=Error\n * validateId([-180, -40])\n * //=Error\n * validateId('Foo')\n * //=OK\n * validateId(5)\n * //=OK\n * validateId(null)\n * //=Error\n * validateId(undefined)\n * //=Error\n */\nfunction validateId(id) {\n    if (!id) {\n        throw new Error(\"id is required\");\n    }\n    if ([\"string\", \"number\"].indexOf(typeof id) === -1) {\n        throw new Error(\"id must be a number or a string\");\n    }\n}\nexports.validateId = validateId;\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar helpers = require('@turf/helpers');\n\n/**\n * Callback for coordEach\n *\n * @callback coordEachCallback\n * @param {Array<number>} currentCoord The current coordinate being processed.\n * @param {number} coordIndex The current index of the coordinate being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n */\n\n/**\n * Iterate over coordinates in any GeoJSON object, similar to Array.forEach()\n *\n * @name coordEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentCoord, coordIndex, featureIndex, multiFeatureIndex)\n * @param {boolean} [excludeWrapCoord=false] whether or not to include the final coordinate of LinearRings that wraps the ring in its iteration.\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.coordEach(features, function (currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=currentCoord\n *   //=coordIndex\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n * });\n */\nfunction coordEach(geojson, callback, excludeWrapCoord) {\n  // Handles null Geometry -- Skips this GeoJSON\n  if (geojson === null) return;\n  var j,\n    k,\n    l,\n    geometry,\n    stopG,\n    coords,\n    geometryMaybeCollection,\n    wrapShrink = 0,\n    coordIndex = 0,\n    isGeometryCollection,\n    type = geojson.type,\n    isFeatureCollection = type === \"FeatureCollection\",\n    isFeature = type === \"Feature\",\n    stop = isFeatureCollection ? geojson.features.length : 1;\n\n  // This logic may look a little weird. The reason why it is that way\n  // is because it's trying to be fast. GeoJSON supports multiple kinds\n  // of objects at its root: FeatureCollection, Features, Geometries.\n  // This function has the responsibility of handling all of them, and that\n  // means that some of the `for` loops you see below actually just don't apply\n  // to certain inputs. For instance, if you give this just a\n  // Point geometry, then both loops are short-circuited and all we do\n  // is gradually rename the input until it's called 'geometry'.\n  //\n  // This also aims to allocate as few resources as possible: just a\n  // few numbers and booleans, rather than any temporary arrays as would\n  // be required with the normalization approach.\n  for (var featureIndex = 0; featureIndex < stop; featureIndex++) {\n    geometryMaybeCollection = isFeatureCollection\n      ? geojson.features[featureIndex].geometry\n      : isFeature\n      ? geojson.geometry\n      : geojson;\n    isGeometryCollection = geometryMaybeCollection\n      ? geometryMaybeCollection.type === \"GeometryCollection\"\n      : false;\n    stopG = isGeometryCollection\n      ? geometryMaybeCollection.geometries.length\n      : 1;\n\n    for (var geomIndex = 0; geomIndex < stopG; geomIndex++) {\n      var multiFeatureIndex = 0;\n      var geometryIndex = 0;\n      geometry = isGeometryCollection\n        ? geometryMaybeCollection.geometries[geomIndex]\n        : geometryMaybeCollection;\n\n      // Handles null Geometry -- Skips this geometry\n      if (geometry === null) continue;\n      coords = geometry.coordinates;\n      var geomType = geometry.type;\n\n      wrapShrink =\n        excludeWrapCoord &&\n        (geomType === \"Polygon\" || geomType === \"MultiPolygon\")\n          ? 1\n          : 0;\n\n      switch (geomType) {\n        case null:\n          break;\n        case \"Point\":\n          if (\n            callback(\n              coords,\n              coordIndex,\n              featureIndex,\n              multiFeatureIndex,\n              geometryIndex\n            ) === false\n          )\n            return false;\n          coordIndex++;\n          multiFeatureIndex++;\n          break;\n        case \"LineString\":\n        case \"MultiPoint\":\n          for (j = 0; j < coords.length; j++) {\n            if (\n              callback(\n                coords[j],\n                coordIndex,\n                featureIndex,\n                multiFeatureIndex,\n                geometryIndex\n              ) === false\n            )\n              return false;\n            coordIndex++;\n            if (geomType === \"MultiPoint\") multiFeatureIndex++;\n          }\n          if (geomType === \"LineString\") multiFeatureIndex++;\n          break;\n        case \"Polygon\":\n        case \"MultiLineString\":\n          for (j = 0; j < coords.length; j++) {\n            for (k = 0; k < coords[j].length - wrapShrink; k++) {\n              if (\n                callback(\n                  coords[j][k],\n                  coordIndex,\n                  featureIndex,\n                  multiFeatureIndex,\n                  geometryIndex\n                ) === false\n              )\n                return false;\n              coordIndex++;\n            }\n            if (geomType === \"MultiLineString\") multiFeatureIndex++;\n            if (geomType === \"Polygon\") geometryIndex++;\n          }\n          if (geomType === \"Polygon\") multiFeatureIndex++;\n          break;\n        case \"MultiPolygon\":\n          for (j = 0; j < coords.length; j++) {\n            geometryIndex = 0;\n            for (k = 0; k < coords[j].length; k++) {\n              for (l = 0; l < coords[j][k].length - wrapShrink; l++) {\n                if (\n                  callback(\n                    coords[j][k][l],\n                    coordIndex,\n                    featureIndex,\n                    multiFeatureIndex,\n                    geometryIndex\n                  ) === false\n                )\n                  return false;\n                coordIndex++;\n              }\n              geometryIndex++;\n            }\n            multiFeatureIndex++;\n          }\n          break;\n        case \"GeometryCollection\":\n          for (j = 0; j < geometry.geometries.length; j++)\n            if (\n              coordEach(geometry.geometries[j], callback, excludeWrapCoord) ===\n              false\n            )\n              return false;\n          break;\n        default:\n          throw new Error(\"Unknown Geometry Type\");\n      }\n    }\n  }\n}\n\n/**\n * Callback for coordReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback coordReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Array<number>} currentCoord The current coordinate being processed.\n * @param {number} coordIndex The current index of the coordinate being processed.\n * Starts at index 0, if an initialValue is provided, and at index 1 otherwise.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n */\n\n/**\n * Reduce coordinates in any GeoJSON object, similar to Array.reduce()\n *\n * @name coordReduce\n * @param {FeatureCollection|Geometry|Feature} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentCoord, coordIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @param {boolean} [excludeWrapCoord=false] whether or not to include the final coordinate of LinearRings that wraps the ring in its iteration.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.coordReduce(features, function (previousValue, currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=previousValue\n *   //=currentCoord\n *   //=coordIndex\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n *   return currentCoord;\n * });\n */\nfunction coordReduce(geojson, callback, initialValue, excludeWrapCoord) {\n  var previousValue = initialValue;\n  coordEach(\n    geojson,\n    function (\n      currentCoord,\n      coordIndex,\n      featureIndex,\n      multiFeatureIndex,\n      geometryIndex\n    ) {\n      if (coordIndex === 0 && initialValue === undefined)\n        previousValue = currentCoord;\n      else\n        previousValue = callback(\n          previousValue,\n          currentCoord,\n          coordIndex,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex\n        );\n    },\n    excludeWrapCoord\n  );\n  return previousValue;\n}\n\n/**\n * Callback for propEach\n *\n * @callback propEachCallback\n * @param {Object} currentProperties The current Properties being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Iterate over properties in any GeoJSON object, similar to Array.forEach()\n *\n * @name propEach\n * @param {FeatureCollection|Feature} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentProperties, featureIndex)\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.propEach(features, function (currentProperties, featureIndex) {\n *   //=currentProperties\n *   //=featureIndex\n * });\n */\nfunction propEach(geojson, callback) {\n  var i;\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      for (i = 0; i < geojson.features.length; i++) {\n        if (callback(geojson.features[i].properties, i) === false) break;\n      }\n      break;\n    case \"Feature\":\n      callback(geojson.properties, 0);\n      break;\n  }\n}\n\n/**\n * Callback for propReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback propReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {*} currentProperties The current Properties being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Reduce properties in any GeoJSON object into a single value,\n * similar to how Array.reduce works. However, in this case we lazily run\n * the reduction, so an array of all properties is unnecessary.\n *\n * @name propReduce\n * @param {FeatureCollection|Feature} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentProperties, featureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.propReduce(features, function (previousValue, currentProperties, featureIndex) {\n *   //=previousValue\n *   //=currentProperties\n *   //=featureIndex\n *   return currentProperties\n * });\n */\nfunction propReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  propEach(geojson, function (currentProperties, featureIndex) {\n    if (featureIndex === 0 && initialValue === undefined)\n      previousValue = currentProperties;\n    else\n      previousValue = callback(previousValue, currentProperties, featureIndex);\n  });\n  return previousValue;\n}\n\n/**\n * Callback for featureEach\n *\n * @callback featureEachCallback\n * @param {Feature<any>} currentFeature The current Feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Iterate over features in any GeoJSON object, similar to\n * Array.forEach.\n *\n * @name featureEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentFeature, featureIndex)\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {foo: 'bar'}),\n *   turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.featureEach(features, function (currentFeature, featureIndex) {\n *   //=currentFeature\n *   //=featureIndex\n * });\n */\nfunction featureEach(geojson, callback) {\n  if (geojson.type === \"Feature\") {\n    callback(geojson, 0);\n  } else if (geojson.type === \"FeatureCollection\") {\n    for (var i = 0; i < geojson.features.length; i++) {\n      if (callback(geojson.features[i], i) === false) break;\n    }\n  }\n}\n\n/**\n * Callback for featureReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback featureReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature} currentFeature The current Feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Reduce features in any GeoJSON object, similar to Array.reduce().\n *\n * @name featureReduce\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentFeature, featureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.featureReduce(features, function (previousValue, currentFeature, featureIndex) {\n *   //=previousValue\n *   //=currentFeature\n *   //=featureIndex\n *   return currentFeature\n * });\n */\nfunction featureReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  featureEach(geojson, function (currentFeature, featureIndex) {\n    if (featureIndex === 0 && initialValue === undefined)\n      previousValue = currentFeature;\n    else previousValue = callback(previousValue, currentFeature, featureIndex);\n  });\n  return previousValue;\n}\n\n/**\n * Get all coordinates from any GeoJSON object.\n *\n * @name coordAll\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @returns {Array<Array<number>>} coordinate position array\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {foo: 'bar'}),\n *   turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * var coords = turf.coordAll(features);\n * //= [[26, 37], [36, 53]]\n */\nfunction coordAll(geojson) {\n  var coords = [];\n  coordEach(geojson, function (coord) {\n    coords.push(coord);\n  });\n  return coords;\n}\n\n/**\n * Callback for geomEach\n *\n * @callback geomEachCallback\n * @param {Geometry} currentGeometry The current Geometry being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {Object} featureProperties The current Feature Properties being processed.\n * @param {Array<number>} featureBBox The current Feature BBox being processed.\n * @param {number|string} featureId The current Feature Id being processed.\n */\n\n/**\n * Iterate over each geometry in any GeoJSON object, similar to Array.forEach()\n *\n * @name geomEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentGeometry, featureIndex, featureProperties, featureBBox, featureId)\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.geomEach(features, function (currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {\n *   //=currentGeometry\n *   //=featureIndex\n *   //=featureProperties\n *   //=featureBBox\n *   //=featureId\n * });\n */\nfunction geomEach(geojson, callback) {\n  var i,\n    j,\n    g,\n    geometry,\n    stopG,\n    geometryMaybeCollection,\n    isGeometryCollection,\n    featureProperties,\n    featureBBox,\n    featureId,\n    featureIndex = 0,\n    isFeatureCollection = geojson.type === \"FeatureCollection\",\n    isFeature = geojson.type === \"Feature\",\n    stop = isFeatureCollection ? geojson.features.length : 1;\n\n  // This logic may look a little weird. The reason why it is that way\n  // is because it's trying to be fast. GeoJSON supports multiple kinds\n  // of objects at its root: FeatureCollection, Features, Geometries.\n  // This function has the responsibility of handling all of them, and that\n  // means that some of the `for` loops you see below actually just don't apply\n  // to certain inputs. For instance, if you give this just a\n  // Point geometry, then both loops are short-circuited and all we do\n  // is gradually rename the input until it's called 'geometry'.\n  //\n  // This also aims to allocate as few resources as possible: just a\n  // few numbers and booleans, rather than any temporary arrays as would\n  // be required with the normalization approach.\n  for (i = 0; i < stop; i++) {\n    geometryMaybeCollection = isFeatureCollection\n      ? geojson.features[i].geometry\n      : isFeature\n      ? geojson.geometry\n      : geojson;\n    featureProperties = isFeatureCollection\n      ? geojson.features[i].properties\n      : isFeature\n      ? geojson.properties\n      : {};\n    featureBBox = isFeatureCollection\n      ? geojson.features[i].bbox\n      : isFeature\n      ? geojson.bbox\n      : undefined;\n    featureId = isFeatureCollection\n      ? geojson.features[i].id\n      : isFeature\n      ? geojson.id\n      : undefined;\n    isGeometryCollection = geometryMaybeCollection\n      ? geometryMaybeCollection.type === \"GeometryCollection\"\n      : false;\n    stopG = isGeometryCollection\n      ? geometryMaybeCollection.geometries.length\n      : 1;\n\n    for (g = 0; g < stopG; g++) {\n      geometry = isGeometryCollection\n        ? geometryMaybeCollection.geometries[g]\n        : geometryMaybeCollection;\n\n      // Handle null Geometry\n      if (geometry === null) {\n        if (\n          callback(\n            null,\n            featureIndex,\n            featureProperties,\n            featureBBox,\n            featureId\n          ) === false\n        )\n          return false;\n        continue;\n      }\n      switch (geometry.type) {\n        case \"Point\":\n        case \"LineString\":\n        case \"MultiPoint\":\n        case \"Polygon\":\n        case \"MultiLineString\":\n        case \"MultiPolygon\": {\n          if (\n            callback(\n              geometry,\n              featureIndex,\n              featureProperties,\n              featureBBox,\n              featureId\n            ) === false\n          )\n            return false;\n          break;\n        }\n        case \"GeometryCollection\": {\n          for (j = 0; j < geometry.geometries.length; j++) {\n            if (\n              callback(\n                geometry.geometries[j],\n                featureIndex,\n                featureProperties,\n                featureBBox,\n                featureId\n              ) === false\n            )\n              return false;\n          }\n          break;\n        }\n        default:\n          throw new Error(\"Unknown Geometry Type\");\n      }\n    }\n    // Only increase `featureIndex` per each feature\n    featureIndex++;\n  }\n}\n\n/**\n * Callback for geomReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback geomReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Geometry} currentGeometry The current Geometry being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {Object} featureProperties The current Feature Properties being processed.\n * @param {Array<number>} featureBBox The current Feature BBox being processed.\n * @param {number|string} featureId The current Feature Id being processed.\n */\n\n/**\n * Reduce geometry in any GeoJSON object, similar to Array.reduce().\n *\n * @name geomReduce\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentGeometry, featureIndex, featureProperties, featureBBox, featureId)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.geomReduce(features, function (previousValue, currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {\n *   //=previousValue\n *   //=currentGeometry\n *   //=featureIndex\n *   //=featureProperties\n *   //=featureBBox\n *   //=featureId\n *   return currentGeometry\n * });\n */\nfunction geomReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  geomEach(\n    geojson,\n    function (\n      currentGeometry,\n      featureIndex,\n      featureProperties,\n      featureBBox,\n      featureId\n    ) {\n      if (featureIndex === 0 && initialValue === undefined)\n        previousValue = currentGeometry;\n      else\n        previousValue = callback(\n          previousValue,\n          currentGeometry,\n          featureIndex,\n          featureProperties,\n          featureBBox,\n          featureId\n        );\n    }\n  );\n  return previousValue;\n}\n\n/**\n * Callback for flattenEach\n *\n * @callback flattenEachCallback\n * @param {Feature} currentFeature The current flattened feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n */\n\n/**\n * Iterate over flattened features in any GeoJSON object, similar to\n * Array.forEach.\n *\n * @name flattenEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentFeature, featureIndex, multiFeatureIndex)\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.multiPoint([[40, 30], [36, 53]], {hello: 'world'})\n * ]);\n *\n * turf.flattenEach(features, function (currentFeature, featureIndex, multiFeatureIndex) {\n *   //=currentFeature\n *   //=featureIndex\n *   //=multiFeatureIndex\n * });\n */\nfunction flattenEach(geojson, callback) {\n  geomEach(geojson, function (geometry, featureIndex, properties, bbox, id) {\n    // Callback for single geometry\n    var type = geometry === null ? null : geometry.type;\n    switch (type) {\n      case null:\n      case \"Point\":\n      case \"LineString\":\n      case \"Polygon\":\n        if (\n          callback(\n            helpers.feature(geometry, properties, { bbox: bbox, id: id }),\n            featureIndex,\n            0\n          ) === false\n        )\n          return false;\n        return;\n    }\n\n    var geomType;\n\n    // Callback for multi-geometry\n    switch (type) {\n      case \"MultiPoint\":\n        geomType = \"Point\";\n        break;\n      case \"MultiLineString\":\n        geomType = \"LineString\";\n        break;\n      case \"MultiPolygon\":\n        geomType = \"Polygon\";\n        break;\n    }\n\n    for (\n      var multiFeatureIndex = 0;\n      multiFeatureIndex < geometry.coordinates.length;\n      multiFeatureIndex++\n    ) {\n      var coordinate = geometry.coordinates[multiFeatureIndex];\n      var geom = {\n        type: geomType,\n        coordinates: coordinate,\n      };\n      if (\n        callback(helpers.feature(geom, properties), featureIndex, multiFeatureIndex) ===\n        false\n      )\n        return false;\n    }\n  });\n}\n\n/**\n * Callback for flattenReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback flattenReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature} currentFeature The current Feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n */\n\n/**\n * Reduce flattened features in any GeoJSON object, similar to Array.reduce().\n *\n * @name flattenReduce\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentFeature, featureIndex, multiFeatureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.multiPoint([[40, 30], [36, 53]], {hello: 'world'})\n * ]);\n *\n * turf.flattenReduce(features, function (previousValue, currentFeature, featureIndex, multiFeatureIndex) {\n *   //=previousValue\n *   //=currentFeature\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   return currentFeature\n * });\n */\nfunction flattenReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  flattenEach(\n    geojson,\n    function (currentFeature, featureIndex, multiFeatureIndex) {\n      if (\n        featureIndex === 0 &&\n        multiFeatureIndex === 0 &&\n        initialValue === undefined\n      )\n        previousValue = currentFeature;\n      else\n        previousValue = callback(\n          previousValue,\n          currentFeature,\n          featureIndex,\n          multiFeatureIndex\n        );\n    }\n  );\n  return previousValue;\n}\n\n/**\n * Callback for segmentEach\n *\n * @callback segmentEachCallback\n * @param {Feature<LineString>} currentSegment The current Segment being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n * @param {number} segmentIndex The current index of the Segment being processed.\n * @returns {void}\n */\n\n/**\n * Iterate over 2-vertex line segment in any GeoJSON object, similar to Array.forEach()\n * (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON\n * @param {Function} callback a method that takes (currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex)\n * @returns {void}\n * @example\n * var polygon = turf.polygon([[[-50, 5], [-40, -10], [-50, -10], [-40, 5], [-50, 5]]]);\n *\n * // Iterate over GeoJSON by 2-vertex segments\n * turf.segmentEach(polygon, function (currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {\n *   //=currentSegment\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n *   //=segmentIndex\n * });\n *\n * // Calculate the total number of segments\n * var total = 0;\n * turf.segmentEach(polygon, function () {\n *     total++;\n * });\n */\nfunction segmentEach(geojson, callback) {\n  flattenEach(geojson, function (feature, featureIndex, multiFeatureIndex) {\n    var segmentIndex = 0;\n\n    // Exclude null Geometries\n    if (!feature.geometry) return;\n    // (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n    var type = feature.geometry.type;\n    if (type === \"Point\" || type === \"MultiPoint\") return;\n\n    // Generate 2-vertex line segments\n    var previousCoords;\n    var previousFeatureIndex = 0;\n    var previousMultiIndex = 0;\n    var prevGeomIndex = 0;\n    if (\n      coordEach(\n        feature,\n        function (\n          currentCoord,\n          coordIndex,\n          featureIndexCoord,\n          multiPartIndexCoord,\n          geometryIndex\n        ) {\n          // Simulating a meta.coordReduce() since `reduce` operations cannot be stopped by returning `false`\n          if (\n            previousCoords === undefined ||\n            featureIndex > previousFeatureIndex ||\n            multiPartIndexCoord > previousMultiIndex ||\n            geometryIndex > prevGeomIndex\n          ) {\n            previousCoords = currentCoord;\n            previousFeatureIndex = featureIndex;\n            previousMultiIndex = multiPartIndexCoord;\n            prevGeomIndex = geometryIndex;\n            segmentIndex = 0;\n            return;\n          }\n          var currentSegment = helpers.lineString(\n            [previousCoords, currentCoord],\n            feature.properties\n          );\n          if (\n            callback(\n              currentSegment,\n              featureIndex,\n              multiFeatureIndex,\n              geometryIndex,\n              segmentIndex\n            ) === false\n          )\n            return false;\n          segmentIndex++;\n          previousCoords = currentCoord;\n        }\n      ) === false\n    )\n      return false;\n  });\n}\n\n/**\n * Callback for segmentReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback segmentReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature<LineString>} currentSegment The current Segment being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n * @param {number} segmentIndex The current index of the Segment being processed.\n */\n\n/**\n * Reduce 2-vertex line segment in any GeoJSON object, similar to Array.reduce()\n * (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON\n * @param {Function} callback a method that takes (previousValue, currentSegment, currentIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {void}\n * @example\n * var polygon = turf.polygon([[[-50, 5], [-40, -10], [-50, -10], [-40, 5], [-50, 5]]]);\n *\n * // Iterate over GeoJSON by 2-vertex segments\n * turf.segmentReduce(polygon, function (previousSegment, currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {\n *   //= previousSegment\n *   //= currentSegment\n *   //= featureIndex\n *   //= multiFeatureIndex\n *   //= geometryIndex\n *   //= segmentIndex\n *   return currentSegment\n * });\n *\n * // Calculate the total number of segments\n * var initialValue = 0\n * var total = turf.segmentReduce(polygon, function (previousValue) {\n *     previousValue++;\n *     return previousValue;\n * }, initialValue);\n */\nfunction segmentReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  var started = false;\n  segmentEach(\n    geojson,\n    function (\n      currentSegment,\n      featureIndex,\n      multiFeatureIndex,\n      geometryIndex,\n      segmentIndex\n    ) {\n      if (started === false && initialValue === undefined)\n        previousValue = currentSegment;\n      else\n        previousValue = callback(\n          previousValue,\n          currentSegment,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex,\n          segmentIndex\n        );\n      started = true;\n    }\n  );\n  return previousValue;\n}\n\n/**\n * Callback for lineEach\n *\n * @callback lineEachCallback\n * @param {Feature<LineString>} currentLine The current LineString|LinearRing being processed\n * @param {number} featureIndex The current index of the Feature being processed\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed\n * @param {number} geometryIndex The current index of the Geometry being processed\n */\n\n/**\n * Iterate over line or ring coordinates in LineString, Polygon, MultiLineString, MultiPolygon Features or Geometries,\n * similar to Array.forEach.\n *\n * @name lineEach\n * @param {Geometry|Feature<LineString|Polygon|MultiLineString|MultiPolygon>} geojson object\n * @param {Function} callback a method that takes (currentLine, featureIndex, multiFeatureIndex, geometryIndex)\n * @example\n * var multiLine = turf.multiLineString([\n *   [[26, 37], [35, 45]],\n *   [[36, 53], [38, 50], [41, 55]]\n * ]);\n *\n * turf.lineEach(multiLine, function (currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=currentLine\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n * });\n */\nfunction lineEach(geojson, callback) {\n  // validation\n  if (!geojson) throw new Error(\"geojson is required\");\n\n  flattenEach(geojson, function (feature, featureIndex, multiFeatureIndex) {\n    if (feature.geometry === null) return;\n    var type = feature.geometry.type;\n    var coords = feature.geometry.coordinates;\n    switch (type) {\n      case \"LineString\":\n        if (callback(feature, featureIndex, multiFeatureIndex, 0, 0) === false)\n          return false;\n        break;\n      case \"Polygon\":\n        for (\n          var geometryIndex = 0;\n          geometryIndex < coords.length;\n          geometryIndex++\n        ) {\n          if (\n            callback(\n              helpers.lineString(coords[geometryIndex], feature.properties),\n              featureIndex,\n              multiFeatureIndex,\n              geometryIndex\n            ) === false\n          )\n            return false;\n        }\n        break;\n    }\n  });\n}\n\n/**\n * Callback for lineReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback lineReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature<LineString>} currentLine The current LineString|LinearRing being processed.\n * @param {number} featureIndex The current index of the Feature being processed\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed\n * @param {number} geometryIndex The current index of the Geometry being processed\n */\n\n/**\n * Reduce features in any GeoJSON object, similar to Array.reduce().\n *\n * @name lineReduce\n * @param {Geometry|Feature<LineString|Polygon|MultiLineString|MultiPolygon>} geojson object\n * @param {Function} callback a method that takes (previousValue, currentLine, featureIndex, multiFeatureIndex, geometryIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var multiPoly = turf.multiPolygon([\n *   turf.polygon([[[12,48],[2,41],[24,38],[12,48]], [[9,44],[13,41],[13,45],[9,44]]]),\n *   turf.polygon([[[5, 5], [0, 0], [2, 2], [4, 4], [5, 5]]])\n * ]);\n *\n * turf.lineReduce(multiPoly, function (previousValue, currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=previousValue\n *   //=currentLine\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n *   return currentLine\n * });\n */\nfunction lineReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  lineEach(\n    geojson,\n    function (currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n      if (featureIndex === 0 && initialValue === undefined)\n        previousValue = currentLine;\n      else\n        previousValue = callback(\n          previousValue,\n          currentLine,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex\n        );\n    }\n  );\n  return previousValue;\n}\n\n/**\n * Finds a particular 2-vertex LineString Segment from a GeoJSON using `@turf/meta` indexes.\n *\n * Negative indexes are permitted.\n * Point & MultiPoint will always return null.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson Any GeoJSON Feature or Geometry\n * @param {Object} [options={}] Optional parameters\n * @param {number} [options.featureIndex=0] Feature Index\n * @param {number} [options.multiFeatureIndex=0] Multi-Feature Index\n * @param {number} [options.geometryIndex=0] Geometry Index\n * @param {number} [options.segmentIndex=0] Segment Index\n * @param {Object} [options.properties={}] Translate Properties to output LineString\n * @param {BBox} [options.bbox={}] Translate BBox to output LineString\n * @param {number|string} [options.id={}] Translate Id to output LineString\n * @returns {Feature<LineString>} 2-vertex GeoJSON Feature LineString\n * @example\n * var multiLine = turf.multiLineString([\n *     [[10, 10], [50, 30], [30, 40]],\n *     [[-10, -10], [-50, -30], [-30, -40]]\n * ]);\n *\n * // First Segment (defaults are 0)\n * turf.findSegment(multiLine);\n * // => Feature<LineString<[[10, 10], [50, 30]]>>\n *\n * // First Segment of 2nd Multi Feature\n * turf.findSegment(multiLine, {multiFeatureIndex: 1});\n * // => Feature<LineString<[[-10, -10], [-50, -30]]>>\n *\n * // Last Segment of Last Multi Feature\n * turf.findSegment(multiLine, {multiFeatureIndex: -1, segmentIndex: -1});\n * // => Feature<LineString<[[-50, -30], [-30, -40]]>>\n */\nfunction findSegment(geojson, options) {\n  // Optional Parameters\n  options = options || {};\n  if (!helpers.isObject(options)) throw new Error(\"options is invalid\");\n  var featureIndex = options.featureIndex || 0;\n  var multiFeatureIndex = options.multiFeatureIndex || 0;\n  var geometryIndex = options.geometryIndex || 0;\n  var segmentIndex = options.segmentIndex || 0;\n\n  // Find FeatureIndex\n  var properties = options.properties;\n  var geometry;\n\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      if (featureIndex < 0)\n        featureIndex = geojson.features.length + featureIndex;\n      properties = properties || geojson.features[featureIndex].properties;\n      geometry = geojson.features[featureIndex].geometry;\n      break;\n    case \"Feature\":\n      properties = properties || geojson.properties;\n      geometry = geojson.geometry;\n      break;\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n    case \"Polygon\":\n    case \"MultiLineString\":\n    case \"MultiPolygon\":\n      geometry = geojson;\n      break;\n    default:\n      throw new Error(\"geojson is invalid\");\n  }\n\n  // Find SegmentIndex\n  if (geometry === null) return null;\n  var coords = geometry.coordinates;\n  switch (geometry.type) {\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n      if (segmentIndex < 0) segmentIndex = coords.length + segmentIndex - 1;\n      return helpers.lineString(\n        [coords[segmentIndex], coords[segmentIndex + 1]],\n        properties,\n        options\n      );\n    case \"Polygon\":\n      if (geometryIndex < 0) geometryIndex = coords.length + geometryIndex;\n      if (segmentIndex < 0)\n        segmentIndex = coords[geometryIndex].length + segmentIndex - 1;\n      return helpers.lineString(\n        [\n          coords[geometryIndex][segmentIndex],\n          coords[geometryIndex][segmentIndex + 1],\n        ],\n        properties,\n        options\n      );\n    case \"MultiLineString\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (segmentIndex < 0)\n        segmentIndex = coords[multiFeatureIndex].length + segmentIndex - 1;\n      return helpers.lineString(\n        [\n          coords[multiFeatureIndex][segmentIndex],\n          coords[multiFeatureIndex][segmentIndex + 1],\n        ],\n        properties,\n        options\n      );\n    case \"MultiPolygon\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (geometryIndex < 0)\n        geometryIndex = coords[multiFeatureIndex].length + geometryIndex;\n      if (segmentIndex < 0)\n        segmentIndex =\n          coords[multiFeatureIndex][geometryIndex].length - segmentIndex - 1;\n      return helpers.lineString(\n        [\n          coords[multiFeatureIndex][geometryIndex][segmentIndex],\n          coords[multiFeatureIndex][geometryIndex][segmentIndex + 1],\n        ],\n        properties,\n        options\n      );\n  }\n  throw new Error(\"geojson is invalid\");\n}\n\n/**\n * Finds a particular Point from a GeoJSON using `@turf/meta` indexes.\n *\n * Negative indexes are permitted.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson Any GeoJSON Feature or Geometry\n * @param {Object} [options={}] Optional parameters\n * @param {number} [options.featureIndex=0] Feature Index\n * @param {number} [options.multiFeatureIndex=0] Multi-Feature Index\n * @param {number} [options.geometryIndex=0] Geometry Index\n * @param {number} [options.coordIndex=0] Coord Index\n * @param {Object} [options.properties={}] Translate Properties to output Point\n * @param {BBox} [options.bbox={}] Translate BBox to output Point\n * @param {number|string} [options.id={}] Translate Id to output Point\n * @returns {Feature<Point>} 2-vertex GeoJSON Feature Point\n * @example\n * var multiLine = turf.multiLineString([\n *     [[10, 10], [50, 30], [30, 40]],\n *     [[-10, -10], [-50, -30], [-30, -40]]\n * ]);\n *\n * // First Segment (defaults are 0)\n * turf.findPoint(multiLine);\n * // => Feature<Point<[10, 10]>>\n *\n * // First Segment of the 2nd Multi-Feature\n * turf.findPoint(multiLine, {multiFeatureIndex: 1});\n * // => Feature<Point<[-10, -10]>>\n *\n * // Last Segment of last Multi-Feature\n * turf.findPoint(multiLine, {multiFeatureIndex: -1, coordIndex: -1});\n * // => Feature<Point<[-30, -40]>>\n */\nfunction findPoint(geojson, options) {\n  // Optional Parameters\n  options = options || {};\n  if (!helpers.isObject(options)) throw new Error(\"options is invalid\");\n  var featureIndex = options.featureIndex || 0;\n  var multiFeatureIndex = options.multiFeatureIndex || 0;\n  var geometryIndex = options.geometryIndex || 0;\n  var coordIndex = options.coordIndex || 0;\n\n  // Find FeatureIndex\n  var properties = options.properties;\n  var geometry;\n\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      if (featureIndex < 0)\n        featureIndex = geojson.features.length + featureIndex;\n      properties = properties || geojson.features[featureIndex].properties;\n      geometry = geojson.features[featureIndex].geometry;\n      break;\n    case \"Feature\":\n      properties = properties || geojson.properties;\n      geometry = geojson.geometry;\n      break;\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n    case \"Polygon\":\n    case \"MultiLineString\":\n    case \"MultiPolygon\":\n      geometry = geojson;\n      break;\n    default:\n      throw new Error(\"geojson is invalid\");\n  }\n\n  // Find Coord Index\n  if (geometry === null) return null;\n  var coords = geometry.coordinates;\n  switch (geometry.type) {\n    case \"Point\":\n      return helpers.point(coords, properties, options);\n    case \"MultiPoint\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      return helpers.point(coords[multiFeatureIndex], properties, options);\n    case \"LineString\":\n      if (coordIndex < 0) coordIndex = coords.length + coordIndex;\n      return helpers.point(coords[coordIndex], properties, options);\n    case \"Polygon\":\n      if (geometryIndex < 0) geometryIndex = coords.length + geometryIndex;\n      if (coordIndex < 0)\n        coordIndex = coords[geometryIndex].length + coordIndex;\n      return helpers.point(coords[geometryIndex][coordIndex], properties, options);\n    case \"MultiLineString\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (coordIndex < 0)\n        coordIndex = coords[multiFeatureIndex].length + coordIndex;\n      return helpers.point(coords[multiFeatureIndex][coordIndex], properties, options);\n    case \"MultiPolygon\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (geometryIndex < 0)\n        geometryIndex = coords[multiFeatureIndex].length + geometryIndex;\n      if (coordIndex < 0)\n        coordIndex =\n          coords[multiFeatureIndex][geometryIndex].length - coordIndex;\n      return helpers.point(\n        coords[multiFeatureIndex][geometryIndex][coordIndex],\n        properties,\n        options\n      );\n  }\n  throw new Error(\"geojson is invalid\");\n}\n\nexports.coordEach = coordEach;\nexports.coordReduce = coordReduce;\nexports.propEach = propEach;\nexports.propReduce = propReduce;\nexports.featureEach = featureEach;\nexports.featureReduce = featureReduce;\nexports.coordAll = coordAll;\nexports.geomEach = geomEach;\nexports.geomReduce = geomReduce;\nexports.flattenEach = flattenEach;\nexports.flattenReduce = flattenReduce;\nexports.segmentEach = segmentEach;\nexports.segmentReduce = segmentReduce;\nexports.lineEach = lineEach;\nexports.lineReduce = lineReduce;\nexports.findSegment = findSegment;\nexports.findPoint = findPoint;\n","'use strict';\n\nvar RBush = require('rbush');\nvar Queue = require('tinyqueue');\nvar pointInPolygon = require('point-in-polygon');\nconst orient = require('robust-predicates/umd/orient2d.min.js').orient2d;\n\nmodule.exports = concaveman;\nmodule.exports.default = concaveman;\n\nfunction concaveman(points, concavity, lengthThreshold) {\n    // a relative measure of concavity; higher value means simpler hull\n    concavity = Math.max(0, concavity === undefined ? 2 : concavity);\n\n    // when a segment goes below this length threshold, it won't be drilled down further\n    lengthThreshold = lengthThreshold || 0;\n\n    // start with a convex hull of the points\n    var hull = fastConvexHull(points);\n\n    // index the points with an R-tree\n    var tree = new RBush(16);\n    tree.toBBox = function (a) {\n        return {\n            minX: a[0],\n            minY: a[1],\n            maxX: a[0],\n            maxY: a[1]\n        };\n    };\n    tree.compareMinX = function (a, b) { return a[0] - b[0]; };\n    tree.compareMinY = function (a, b) { return a[1] - b[1]; };\n\n    tree.load(points);\n\n    // turn the convex hull into a linked list and populate the initial edge queue with the nodes\n    var queue = [];\n    for (var i = 0, last; i < hull.length; i++) {\n        var p = hull[i];\n        tree.remove(p);\n        last = insertNode(p, last);\n        queue.push(last);\n    }\n\n    // index the segments with an R-tree (for intersection checks)\n    var segTree = new RBush(16);\n    for (i = 0; i < queue.length; i++) segTree.insert(updateBBox(queue[i]));\n\n    var sqConcavity = concavity * concavity;\n    var sqLenThreshold = lengthThreshold * lengthThreshold;\n\n    // process edges one by one\n    while (queue.length) {\n        var node = queue.shift();\n        var a = node.p;\n        var b = node.next.p;\n\n        // skip the edge if it's already short enough\n        var sqLen = getSqDist(a, b);\n        if (sqLen < sqLenThreshold) continue;\n\n        var maxSqLen = sqLen / sqConcavity;\n\n        // find the best connection point for the current edge to flex inward to\n        p = findCandidate(tree, node.prev.p, a, b, node.next.next.p, maxSqLen, segTree);\n\n        // if we found a connection and it satisfies our concavity measure\n        if (p && Math.min(getSqDist(p, a), getSqDist(p, b)) <= maxSqLen) {\n            // connect the edge endpoints through this point and add 2 new edges to the queue\n            queue.push(node);\n            queue.push(insertNode(p, node));\n\n            // update point and segment indexes\n            tree.remove(p);\n            segTree.remove(node);\n            segTree.insert(updateBBox(node));\n            segTree.insert(updateBBox(node.next));\n        }\n    }\n\n    // convert the resulting hull linked list to an array of points\n    node = last;\n    var concave = [];\n    do {\n        concave.push(node.p);\n        node = node.next;\n    } while (node !== last);\n\n    concave.push(node.p);\n\n    return concave;\n}\n\nfunction findCandidate(tree, a, b, c, d, maxDist, segTree) {\n    var queue = new Queue([], compareDist);\n    var node = tree.data;\n\n    // search through the point R-tree with a depth-first search using a priority queue\n    // in the order of distance to the edge (b, c)\n    while (node) {\n        for (var i = 0; i < node.children.length; i++) {\n            var child = node.children[i];\n\n            var dist = node.leaf ? sqSegDist(child, b, c) : sqSegBoxDist(b, c, child);\n            if (dist > maxDist) continue; // skip the node if it's farther than we ever need\n\n            queue.push({\n                node: child,\n                dist: dist\n            });\n        }\n\n        while (queue.length && !queue.peek().node.children) {\n            var item = queue.pop();\n            var p = item.node;\n\n            // skip all points that are as close to adjacent edges (a,b) and (c,d),\n            // and points that would introduce self-intersections when connected\n            var d0 = sqSegDist(p, a, b);\n            var d1 = sqSegDist(p, c, d);\n            if (item.dist < d0 && item.dist < d1 &&\n                noIntersections(b, p, segTree) &&\n                noIntersections(c, p, segTree)) return p;\n        }\n\n        node = queue.pop();\n        if (node) node = node.node;\n    }\n\n    return null;\n}\n\nfunction compareDist(a, b) {\n    return a.dist - b.dist;\n}\n\n// square distance from a segment bounding box to the given one\nfunction sqSegBoxDist(a, b, bbox) {\n    if (inside(a, bbox) || inside(b, bbox)) return 0;\n    var d1 = sqSegSegDist(a[0], a[1], b[0], b[1], bbox.minX, bbox.minY, bbox.maxX, bbox.minY);\n    if (d1 === 0) return 0;\n    var d2 = sqSegSegDist(a[0], a[1], b[0], b[1], bbox.minX, bbox.minY, bbox.minX, bbox.maxY);\n    if (d2 === 0) return 0;\n    var d3 = sqSegSegDist(a[0], a[1], b[0], b[1], bbox.maxX, bbox.minY, bbox.maxX, bbox.maxY);\n    if (d3 === 0) return 0;\n    var d4 = sqSegSegDist(a[0], a[1], b[0], b[1], bbox.minX, bbox.maxY, bbox.maxX, bbox.maxY);\n    if (d4 === 0) return 0;\n    return Math.min(d1, d2, d3, d4);\n}\n\nfunction inside(a, bbox) {\n    return a[0] >= bbox.minX &&\n           a[0] <= bbox.maxX &&\n           a[1] >= bbox.minY &&\n           a[1] <= bbox.maxY;\n}\n\n// check if the edge (a,b) doesn't intersect any other edges\nfunction noIntersections(a, b, segTree) {\n    var minX = Math.min(a[0], b[0]);\n    var minY = Math.min(a[1], b[1]);\n    var maxX = Math.max(a[0], b[0]);\n    var maxY = Math.max(a[1], b[1]);\n\n    var edges = segTree.search({minX: minX, minY: minY, maxX: maxX, maxY: maxY});\n    for (var i = 0; i < edges.length; i++) {\n        if (intersects(edges[i].p, edges[i].next.p, a, b)) return false;\n    }\n    return true;\n}\n\nfunction cross(p1, p2, p3) {\n    return orient(p1[0], p1[1], p2[0], p2[1], p3[0], p3[1]);\n}\n\n// check if the edges (p1,q1) and (p2,q2) intersect\nfunction intersects(p1, q1, p2, q2) {\n    return p1 !== q2 && q1 !== p2 &&\n        cross(p1, q1, p2) > 0 !== cross(p1, q1, q2) > 0 &&\n        cross(p2, q2, p1) > 0 !== cross(p2, q2, q1) > 0;\n}\n\n// update the bounding box of a node's edge\nfunction updateBBox(node) {\n    var p1 = node.p;\n    var p2 = node.next.p;\n    node.minX = Math.min(p1[0], p2[0]);\n    node.minY = Math.min(p1[1], p2[1]);\n    node.maxX = Math.max(p1[0], p2[0]);\n    node.maxY = Math.max(p1[1], p2[1]);\n    return node;\n}\n\n// speed up convex hull by filtering out points inside quadrilateral formed by 4 extreme points\nfunction fastConvexHull(points) {\n    var left = points[0];\n    var top = points[0];\n    var right = points[0];\n    var bottom = points[0];\n\n    // find the leftmost, rightmost, topmost and bottommost points\n    for (var i = 0; i < points.length; i++) {\n        var p = points[i];\n        if (p[0] < left[0]) left = p;\n        if (p[0] > right[0]) right = p;\n        if (p[1] < top[1]) top = p;\n        if (p[1] > bottom[1]) bottom = p;\n    }\n\n    // filter out points that are inside the resulting quadrilateral\n    var cull = [left, top, right, bottom];\n    var filtered = cull.slice();\n    for (i = 0; i < points.length; i++) {\n        if (!pointInPolygon(points[i], cull)) filtered.push(points[i]);\n    }\n\n    // get convex hull around the filtered points\n    return convexHull(filtered);\n}\n\n// create a new node in a doubly linked list\nfunction insertNode(p, prev) {\n    var node = {\n        p: p,\n        prev: null,\n        next: null,\n        minX: 0,\n        minY: 0,\n        maxX: 0,\n        maxY: 0\n    };\n\n    if (!prev) {\n        node.prev = node;\n        node.next = node;\n\n    } else {\n        node.next = prev.next;\n        node.prev = prev;\n        prev.next.prev = node;\n        prev.next = node;\n    }\n    return node;\n}\n\n// square distance between 2 points\nfunction getSqDist(p1, p2) {\n\n    var dx = p1[0] - p2[0],\n        dy = p1[1] - p2[1];\n\n    return dx * dx + dy * dy;\n}\n\n// square distance from a point to a segment\nfunction sqSegDist(p, p1, p2) {\n\n    var x = p1[0],\n        y = p1[1],\n        dx = p2[0] - x,\n        dy = p2[1] - y;\n\n    if (dx !== 0 || dy !== 0) {\n\n        var t = ((p[0] - x) * dx + (p[1] - y) * dy) / (dx * dx + dy * dy);\n\n        if (t > 1) {\n            x = p2[0];\n            y = p2[1];\n\n        } else if (t > 0) {\n            x += dx * t;\n            y += dy * t;\n        }\n    }\n\n    dx = p[0] - x;\n    dy = p[1] - y;\n\n    return dx * dx + dy * dy;\n}\n\n// segment to segment distance, ported from http://geomalgorithms.com/a07-_distance.html by Dan Sunday\nfunction sqSegSegDist(x0, y0, x1, y1, x2, y2, x3, y3) {\n    var ux = x1 - x0;\n    var uy = y1 - y0;\n    var vx = x3 - x2;\n    var vy = y3 - y2;\n    var wx = x0 - x2;\n    var wy = y0 - y2;\n    var a = ux * ux + uy * uy;\n    var b = ux * vx + uy * vy;\n    var c = vx * vx + vy * vy;\n    var d = ux * wx + uy * wy;\n    var e = vx * wx + vy * wy;\n    var D = a * c - b * b;\n\n    var sc, sN, tc, tN;\n    var sD = D;\n    var tD = D;\n\n    if (D === 0) {\n        sN = 0;\n        sD = 1;\n        tN = e;\n        tD = c;\n    } else {\n        sN = b * e - c * d;\n        tN = a * e - b * d;\n        if (sN < 0) {\n            sN = 0;\n            tN = e;\n            tD = c;\n        } else if (sN > sD) {\n            sN = sD;\n            tN = e + b;\n            tD = c;\n        }\n    }\n\n    if (tN < 0.0) {\n        tN = 0.0;\n        if (-d < 0.0) sN = 0.0;\n        else if (-d > a) sN = sD;\n        else {\n            sN = -d;\n            sD = a;\n        }\n    } else if (tN > tD) {\n        tN = tD;\n        if ((-d + b) < 0.0) sN = 0;\n        else if (-d + b > a) sN = sD;\n        else {\n            sN = -d + b;\n            sD = a;\n        }\n    }\n\n    sc = sN === 0 ? 0 : sN / sD;\n    tc = tN === 0 ? 0 : tN / tD;\n\n    var cx = (1 - sc) * x0 + sc * x1;\n    var cy = (1 - sc) * y0 + sc * y1;\n    var cx2 = (1 - tc) * x2 + tc * x3;\n    var cy2 = (1 - tc) * y2 + tc * y3;\n    var dx = cx2 - cx;\n    var dy = cy2 - cy;\n\n    return dx * dx + dy * dy;\n}\n\nfunction compareByX(a, b) {\n    return a[0] === b[0] ? a[1] - b[1] : a[0] - b[0];\n}\n\nfunction convexHull(points) {\n    points.sort(compareByX);\n\n    var lower = [];\n    for (var i = 0; i < points.length; i++) {\n        while (lower.length >= 2 && cross(lower[lower.length - 2], lower[lower.length - 1], points[i]) <= 0) {\n            lower.pop();\n        }\n        lower.push(points[i]);\n    }\n\n    var upper = [];\n    for (var ii = points.length - 1; ii >= 0; ii--) {\n        while (upper.length >= 2 && cross(upper[upper.length - 2], upper[upper.length - 1], points[ii]) <= 0) {\n            upper.pop();\n        }\n        upper.push(points[ii]);\n    }\n\n    upper.pop();\n    lower.pop();\n    return lower.concat(upper);\n}\n","!function(t,i){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=i():\"function\"==typeof define&&define.amd?define(i):(t=t||self).RBush=i()}(this,function(){\"use strict\";function t(t,r,e,a,h){!function t(n,r,e,a,h){for(;a>e;){if(a-e>600){var o=a-e+1,s=r-e+1,l=Math.log(o),f=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*f*(o-f)/o)*(s-o/2<0?-1:1),m=Math.max(e,Math.floor(r-s*f/o+u)),c=Math.min(a,Math.floor(r+(o-s)*f/o+u));t(n,r,m,c,h)}var p=n[r],d=e,x=a;for(i(n,e,r),h(n[a],p)>0&&i(n,e,a);d<x;){for(i(n,d,x),d++,x--;h(n[d],p)<0;)d++;for(;h(n[x],p)>0;)x--}0===h(n[e],p)?i(n,e,x):i(n,++x,a),x<=r&&(e=x+1),r<=x&&(a=x-1)}}(t,r,e||0,a||t.length-1,h||n)}function i(t,i,n){var r=t[i];t[i]=t[n],t[n]=r}function n(t,i){return t<i?-1:t>i?1:0}var r=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function e(t,i,n){if(!n)return i.indexOf(t);for(var r=0;r<i.length;r++)if(n(t,i[r]))return r;return-1}function a(t,i){h(t,0,t.children.length,i,t)}function h(t,i,n,r,e){e||(e=p(null)),e.minX=1/0,e.minY=1/0,e.maxX=-1/0,e.maxY=-1/0;for(var a=i;a<n;a++){var h=t.children[a];o(e,t.leaf?r(h):h)}return e}function o(t,i){return t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY),t}function s(t,i){return t.minX-i.minX}function l(t,i){return t.minY-i.minY}function f(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function u(t){return t.maxX-t.minX+(t.maxY-t.minY)}function m(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function c(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function p(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function d(i,n,r,e,a){for(var h=[n,r];h.length;)if(!((r=h.pop())-(n=h.pop())<=e)){var o=n+Math.ceil((r-n)/e/2)*e;t(i,o,n,r,a),h.push(n,o,o,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(t){var i=this.data,n=[];if(!c(t,i))return n;for(var r=this.toBBox,e=[];i;){for(var a=0;a<i.children.length;a++){var h=i.children[a],o=i.leaf?r(h):h;c(t,o)&&(i.leaf?n.push(h):m(t,o)?this._all(h,n):e.push(h))}i=e.pop()}return n},r.prototype.collides=function(t){var i=this.data;if(!c(t,i))return!1;for(var n=[];i;){for(var r=0;r<i.children.length;r++){var e=i.children[r],a=i.leaf?this.toBBox(e):e;if(c(t,a)){if(i.leaf||m(t,a))return!0;n.push(e)}}i=n.pop()}return!1},r.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var i=0;i<t.length;i++)this.insert(t[i]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},r.prototype.clear=function(){return this.data=p([]),this},r.prototype.remove=function(t,i){if(!t)return this;for(var n,r,a,h=this.data,o=this.toBBox(t),s=[],l=[];h||s.length;){if(h||(h=s.pop(),r=s[s.length-1],n=l.pop(),a=!0),h.leaf){var f=e(t,h.children,i);if(-1!==f)return h.children.splice(f,1),s.push(h),this._condense(s),this}a||h.leaf||!m(h,o)?r?(n++,h=r.children[n],a=!1):h=null:(s.push(h),l.push(n),n=0,r=h,h=h.children[0])}return this},r.prototype.toBBox=function(t){return t},r.prototype.compareMinX=function(t,i){return t.minX-i.minX},r.prototype.compareMinY=function(t,i){return t.minY-i.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(t){return this.data=t,this},r.prototype._all=function(t,i){for(var n=[];t;)t.leaf?i.push.apply(i,t.children):n.push.apply(n,t.children),t=n.pop();return i},r.prototype._build=function(t,i,n,r){var e,h=n-i+1,o=this._maxEntries;if(h<=o)return a(e=p(t.slice(i,n+1)),this.toBBox),e;r||(r=Math.ceil(Math.log(h)/Math.log(o)),o=Math.ceil(h/Math.pow(o,r-1))),(e=p([])).leaf=!1,e.height=r;var s=Math.ceil(h/o),l=s*Math.ceil(Math.sqrt(o));d(t,i,n,l,this.compareMinX);for(var f=i;f<=n;f+=l){var u=Math.min(f+l-1,n);d(t,f,u,s,this.compareMinY);for(var m=f;m<=u;m+=s){var c=Math.min(m+s-1,u);e.children.push(this._build(t,m,c,r-1))}}return a(e,this.toBBox),e},r.prototype._chooseSubtree=function(t,i,n,r){for(;r.push(i),!i.leaf&&r.length-1!==n;){for(var e=1/0,a=1/0,h=void 0,o=0;o<i.children.length;o++){var s=i.children[o],l=f(s),u=(m=t,c=s,(Math.max(c.maxX,m.maxX)-Math.min(c.minX,m.minX))*(Math.max(c.maxY,m.maxY)-Math.min(c.minY,m.minY))-l);u<a?(a=u,e=l<e?l:e,h=s):u===a&&l<e&&(e=l,h=s)}i=h||i.children[0]}var m,c;return i},r.prototype._insert=function(t,i,n){var r=n?t:this.toBBox(t),e=[],a=this._chooseSubtree(r,this.data,i,e);for(a.children.push(t),o(a,r);i>=0&&e[i].children.length>this._maxEntries;)this._split(e,i),i--;this._adjustParentBBoxes(r,e,i)},r.prototype._split=function(t,i){var n=t[i],r=n.children.length,e=this._minEntries;this._chooseSplitAxis(n,e,r);var h=this._chooseSplitIndex(n,e,r),o=p(n.children.splice(h,n.children.length-h));o.height=n.height,o.leaf=n.leaf,a(n,this.toBBox),a(o,this.toBBox),i?t[i-1].children.push(o):this._splitRoot(n,o)},r.prototype._splitRoot=function(t,i){this.data=p([t,i]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(t,i,n){for(var r,e,a,o,s,l,u,m=1/0,c=1/0,p=i;p<=n-i;p++){var d=h(t,0,p,this.toBBox),x=h(t,p,n,this.toBBox),v=(e=d,a=x,o=void 0,s=void 0,l=void 0,u=void 0,o=Math.max(e.minX,a.minX),s=Math.max(e.minY,a.minY),l=Math.min(e.maxX,a.maxX),u=Math.min(e.maxY,a.maxY),Math.max(0,l-o)*Math.max(0,u-s)),M=f(d)+f(x);v<m?(m=v,r=p,c=M<c?M:c):v===m&&M<c&&(c=M,r=p)}return r||n-i},r.prototype._chooseSplitAxis=function(t,i,n){var r=t.leaf?this.compareMinX:s,e=t.leaf?this.compareMinY:l;this._allDistMargin(t,i,n,r)<this._allDistMargin(t,i,n,e)&&t.children.sort(r)},r.prototype._allDistMargin=function(t,i,n,r){t.children.sort(r);for(var e=this.toBBox,a=h(t,0,i,e),s=h(t,n-i,n,e),l=u(a)+u(s),f=i;f<n-i;f++){var m=t.children[f];o(a,t.leaf?e(m):m),l+=u(a)}for(var c=n-i-1;c>=i;c--){var p=t.children[c];o(s,t.leaf?e(p):p),l+=u(s)}return l},r.prototype._adjustParentBBoxes=function(t,i,n){for(var r=n;r>=0;r--)o(i[r],t)},r.prototype._condense=function(t){for(var i=t.length-1,n=void 0;i>=0;i--)0===t[i].children.length?i>0?(n=t[i-1].children).splice(n.indexOf(t[i]),1):this.clear():a(t[i],this.toBBox)},r});\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it) && it !== null) {\n    throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n  } return it;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar definePropertyModule = require('../internals/object-define-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.es/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? charAt(S, index).length : 1);\n};\n","module.exports = function (it, Constructor, name) {\n  if (!(it instanceof Constructor)) {\n    throw TypeError('Incorrect ' + (name ? name + ' ' : '') + 'invocation');\n  } return it;\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","// eslint-disable-next-line es/no-typed-arrays -- safe\nmodule.exports = typeof ArrayBuffer !== 'undefined' && typeof DataView !== 'undefined';\n","'use strict';\nvar NATIVE_ARRAY_BUFFER = require('../internals/array-buffer-native');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar defineProperty = require('../internals/object-define-property').f;\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar uid = require('../internals/uid');\n\nvar Int8Array = global.Int8Array;\nvar Int8ArrayPrototype = Int8Array && Int8Array.prototype;\nvar Uint8ClampedArray = global.Uint8ClampedArray;\nvar Uint8ClampedArrayPrototype = Uint8ClampedArray && Uint8ClampedArray.prototype;\nvar TypedArray = Int8Array && getPrototypeOf(Int8Array);\nvar TypedArrayPrototype = Int8ArrayPrototype && getPrototypeOf(Int8ArrayPrototype);\nvar ObjectPrototype = Object.prototype;\nvar isPrototypeOf = ObjectPrototype.isPrototypeOf;\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar TYPED_ARRAY_TAG = uid('TYPED_ARRAY_TAG');\n// Fixing native typed arrays in Opera Presto crashes the browser, see #595\nvar NATIVE_ARRAY_BUFFER_VIEWS = NATIVE_ARRAY_BUFFER && !!setPrototypeOf && classof(global.opera) !== 'Opera';\nvar TYPED_ARRAY_TAG_REQIRED = false;\nvar NAME;\n\nvar TypedArrayConstructorsList = {\n  Int8Array: 1,\n  Uint8Array: 1,\n  Uint8ClampedArray: 1,\n  Int16Array: 2,\n  Uint16Array: 2,\n  Int32Array: 4,\n  Uint32Array: 4,\n  Float32Array: 4,\n  Float64Array: 8\n};\n\nvar BigIntArrayConstructorsList = {\n  BigInt64Array: 8,\n  BigUint64Array: 8\n};\n\nvar isView = function isView(it) {\n  if (!isObject(it)) return false;\n  var klass = classof(it);\n  return klass === 'DataView'\n    || has(TypedArrayConstructorsList, klass)\n    || has(BigIntArrayConstructorsList, klass);\n};\n\nvar isTypedArray = function (it) {\n  if (!isObject(it)) return false;\n  var klass = classof(it);\n  return has(TypedArrayConstructorsList, klass)\n    || has(BigIntArrayConstructorsList, klass);\n};\n\nvar aTypedArray = function (it) {\n  if (isTypedArray(it)) return it;\n  throw TypeError('Target is not a typed array');\n};\n\nvar aTypedArrayConstructor = function (C) {\n  if (setPrototypeOf) {\n    if (isPrototypeOf.call(TypedArray, C)) return C;\n  } else for (var ARRAY in TypedArrayConstructorsList) if (has(TypedArrayConstructorsList, NAME)) {\n    var TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && (C === TypedArrayConstructor || isPrototypeOf.call(TypedArrayConstructor, C))) {\n      return C;\n    }\n  } throw TypeError('Target is not a typed array constructor');\n};\n\nvar exportTypedArrayMethod = function (KEY, property, forced) {\n  if (!DESCRIPTORS) return;\n  if (forced) for (var ARRAY in TypedArrayConstructorsList) {\n    var TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && has(TypedArrayConstructor.prototype, KEY)) try {\n      delete TypedArrayConstructor.prototype[KEY];\n    } catch (error) { /* empty */ }\n  }\n  if (!TypedArrayPrototype[KEY] || forced) {\n    redefine(TypedArrayPrototype, KEY, forced ? property\n      : NATIVE_ARRAY_BUFFER_VIEWS && Int8ArrayPrototype[KEY] || property);\n  }\n};\n\nvar exportTypedArrayStaticMethod = function (KEY, property, forced) {\n  var ARRAY, TypedArrayConstructor;\n  if (!DESCRIPTORS) return;\n  if (setPrototypeOf) {\n    if (forced) for (ARRAY in TypedArrayConstructorsList) {\n      TypedArrayConstructor = global[ARRAY];\n      if (TypedArrayConstructor && has(TypedArrayConstructor, KEY)) try {\n        delete TypedArrayConstructor[KEY];\n      } catch (error) { /* empty */ }\n    }\n    if (!TypedArray[KEY] || forced) {\n      // V8 ~ Chrome 49-50 `%TypedArray%` methods are non-writable non-configurable\n      try {\n        return redefine(TypedArray, KEY, forced ? property : NATIVE_ARRAY_BUFFER_VIEWS && TypedArray[KEY] || property);\n      } catch (error) { /* empty */ }\n    } else return;\n  }\n  for (ARRAY in TypedArrayConstructorsList) {\n    TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && (!TypedArrayConstructor[KEY] || forced)) {\n      redefine(TypedArrayConstructor, KEY, property);\n    }\n  }\n};\n\nfor (NAME in TypedArrayConstructorsList) {\n  if (!global[NAME]) NATIVE_ARRAY_BUFFER_VIEWS = false;\n}\n\n// WebKit bug - typed arrays constructors prototype is Object.prototype\nif (!NATIVE_ARRAY_BUFFER_VIEWS || typeof TypedArray != 'function' || TypedArray === Function.prototype) {\n  // eslint-disable-next-line no-shadow -- safe\n  TypedArray = function TypedArray() {\n    throw TypeError('Incorrect invocation');\n  };\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (global[NAME]) setPrototypeOf(global[NAME], TypedArray);\n  }\n}\n\nif (!NATIVE_ARRAY_BUFFER_VIEWS || !TypedArrayPrototype || TypedArrayPrototype === ObjectPrototype) {\n  TypedArrayPrototype = TypedArray.prototype;\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (global[NAME]) setPrototypeOf(global[NAME].prototype, TypedArrayPrototype);\n  }\n}\n\n// WebKit bug - one more object in Uint8ClampedArray prototype chain\nif (NATIVE_ARRAY_BUFFER_VIEWS && getPrototypeOf(Uint8ClampedArrayPrototype) !== TypedArrayPrototype) {\n  setPrototypeOf(Uint8ClampedArrayPrototype, TypedArrayPrototype);\n}\n\nif (DESCRIPTORS && !has(TypedArrayPrototype, TO_STRING_TAG)) {\n  TYPED_ARRAY_TAG_REQIRED = true;\n  defineProperty(TypedArrayPrototype, TO_STRING_TAG, { get: function () {\n    return isObject(this) ? this[TYPED_ARRAY_TAG] : undefined;\n  } });\n  for (NAME in TypedArrayConstructorsList) if (global[NAME]) {\n    createNonEnumerableProperty(global[NAME], TYPED_ARRAY_TAG, NAME);\n  }\n}\n\nmodule.exports = {\n  NATIVE_ARRAY_BUFFER_VIEWS: NATIVE_ARRAY_BUFFER_VIEWS,\n  TYPED_ARRAY_TAG: TYPED_ARRAY_TAG_REQIRED && TYPED_ARRAY_TAG,\n  aTypedArray: aTypedArray,\n  aTypedArrayConstructor: aTypedArrayConstructor,\n  exportTypedArrayMethod: exportTypedArrayMethod,\n  exportTypedArrayStaticMethod: exportTypedArrayStaticMethod,\n  isView: isView,\n  isTypedArray: isTypedArray,\n  TypedArray: TypedArray,\n  TypedArrayPrototype: TypedArrayPrototype\n};\n","'use strict';\nvar global = require('../internals/global');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar NATIVE_ARRAY_BUFFER = require('../internals/array-buffer-native');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefineAll = require('../internals/redefine-all');\nvar fails = require('../internals/fails');\nvar anInstance = require('../internals/an-instance');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toIndex = require('../internals/to-index');\nvar IEEE754 = require('../internals/ieee754');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar arrayFill = require('../internals/array-fill');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar ARRAY_BUFFER = 'ArrayBuffer';\nvar DATA_VIEW = 'DataView';\nvar PROTOTYPE = 'prototype';\nvar WRONG_LENGTH = 'Wrong length';\nvar WRONG_INDEX = 'Wrong index';\nvar NativeArrayBuffer = global[ARRAY_BUFFER];\nvar $ArrayBuffer = NativeArrayBuffer;\nvar $DataView = global[DATA_VIEW];\nvar $DataViewPrototype = $DataView && $DataView[PROTOTYPE];\nvar ObjectPrototype = Object.prototype;\nvar RangeError = global.RangeError;\n\nvar packIEEE754 = IEEE754.pack;\nvar unpackIEEE754 = IEEE754.unpack;\n\nvar packInt8 = function (number) {\n  return [number & 0xFF];\n};\n\nvar packInt16 = function (number) {\n  return [number & 0xFF, number >> 8 & 0xFF];\n};\n\nvar packInt32 = function (number) {\n  return [number & 0xFF, number >> 8 & 0xFF, number >> 16 & 0xFF, number >> 24 & 0xFF];\n};\n\nvar unpackInt32 = function (buffer) {\n  return buffer[3] << 24 | buffer[2] << 16 | buffer[1] << 8 | buffer[0];\n};\n\nvar packFloat32 = function (number) {\n  return packIEEE754(number, 23, 4);\n};\n\nvar packFloat64 = function (number) {\n  return packIEEE754(number, 52, 8);\n};\n\nvar addGetter = function (Constructor, key) {\n  defineProperty(Constructor[PROTOTYPE], key, { get: function () { return getInternalState(this)[key]; } });\n};\n\nvar get = function (view, count, index, isLittleEndian) {\n  var intIndex = toIndex(index);\n  var store = getInternalState(view);\n  if (intIndex + count > store.byteLength) throw RangeError(WRONG_INDEX);\n  var bytes = getInternalState(store.buffer).bytes;\n  var start = intIndex + store.byteOffset;\n  var pack = bytes.slice(start, start + count);\n  return isLittleEndian ? pack : pack.reverse();\n};\n\nvar set = function (view, count, index, conversion, value, isLittleEndian) {\n  var intIndex = toIndex(index);\n  var store = getInternalState(view);\n  if (intIndex + count > store.byteLength) throw RangeError(WRONG_INDEX);\n  var bytes = getInternalState(store.buffer).bytes;\n  var start = intIndex + store.byteOffset;\n  var pack = conversion(+value);\n  for (var i = 0; i < count; i++) bytes[start + i] = pack[isLittleEndian ? i : count - i - 1];\n};\n\nif (!NATIVE_ARRAY_BUFFER) {\n  $ArrayBuffer = function ArrayBuffer(length) {\n    anInstance(this, $ArrayBuffer, ARRAY_BUFFER);\n    var byteLength = toIndex(length);\n    setInternalState(this, {\n      bytes: arrayFill.call(new Array(byteLength), 0),\n      byteLength: byteLength\n    });\n    if (!DESCRIPTORS) this.byteLength = byteLength;\n  };\n\n  $DataView = function DataView(buffer, byteOffset, byteLength) {\n    anInstance(this, $DataView, DATA_VIEW);\n    anInstance(buffer, $ArrayBuffer, DATA_VIEW);\n    var bufferLength = getInternalState(buffer).byteLength;\n    var offset = toInteger(byteOffset);\n    if (offset < 0 || offset > bufferLength) throw RangeError('Wrong offset');\n    byteLength = byteLength === undefined ? bufferLength - offset : toLength(byteLength);\n    if (offset + byteLength > bufferLength) throw RangeError(WRONG_LENGTH);\n    setInternalState(this, {\n      buffer: buffer,\n      byteLength: byteLength,\n      byteOffset: offset\n    });\n    if (!DESCRIPTORS) {\n      this.buffer = buffer;\n      this.byteLength = byteLength;\n      this.byteOffset = offset;\n    }\n  };\n\n  if (DESCRIPTORS) {\n    addGetter($ArrayBuffer, 'byteLength');\n    addGetter($DataView, 'buffer');\n    addGetter($DataView, 'byteLength');\n    addGetter($DataView, 'byteOffset');\n  }\n\n  redefineAll($DataView[PROTOTYPE], {\n    getInt8: function getInt8(byteOffset) {\n      return get(this, 1, byteOffset)[0] << 24 >> 24;\n    },\n    getUint8: function getUint8(byteOffset) {\n      return get(this, 1, byteOffset)[0];\n    },\n    getInt16: function getInt16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments.length > 1 ? arguments[1] : undefined);\n      return (bytes[1] << 8 | bytes[0]) << 16 >> 16;\n    },\n    getUint16: function getUint16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments.length > 1 ? arguments[1] : undefined);\n      return bytes[1] << 8 | bytes[0];\n    },\n    getInt32: function getInt32(byteOffset /* , littleEndian */) {\n      return unpackInt32(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : undefined));\n    },\n    getUint32: function getUint32(byteOffset /* , littleEndian */) {\n      return unpackInt32(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : undefined)) >>> 0;\n    },\n    getFloat32: function getFloat32(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : undefined), 23);\n    },\n    getFloat64: function getFloat64(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 8, byteOffset, arguments.length > 1 ? arguments[1] : undefined), 52);\n    },\n    setInt8: function setInt8(byteOffset, value) {\n      set(this, 1, byteOffset, packInt8, value);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      set(this, 1, byteOffset, packInt8, value);\n    },\n    setInt16: function setInt16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packInt16, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setUint16: function setUint16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packInt16, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setInt32: function setInt32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packInt32, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setUint32: function setUint32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packInt32, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setFloat32: function setFloat32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packFloat32, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setFloat64: function setFloat64(byteOffset, value /* , littleEndian */) {\n      set(this, 8, byteOffset, packFloat64, value, arguments.length > 2 ? arguments[2] : undefined);\n    }\n  });\n} else {\n  /* eslint-disable no-new -- required for testing */\n  if (!fails(function () {\n    NativeArrayBuffer(1);\n  }) || !fails(function () {\n    new NativeArrayBuffer(-1);\n  }) || fails(function () {\n    new NativeArrayBuffer();\n    new NativeArrayBuffer(1.5);\n    new NativeArrayBuffer(NaN);\n    return NativeArrayBuffer.name != ARRAY_BUFFER;\n  })) {\n  /* eslint-enable no-new -- required for testing */\n    $ArrayBuffer = function ArrayBuffer(length) {\n      anInstance(this, $ArrayBuffer);\n      return new NativeArrayBuffer(toIndex(length));\n    };\n    var ArrayBufferPrototype = $ArrayBuffer[PROTOTYPE] = NativeArrayBuffer[PROTOTYPE];\n    for (var keys = getOwnPropertyNames(NativeArrayBuffer), j = 0, key; keys.length > j;) {\n      if (!((key = keys[j++]) in $ArrayBuffer)) {\n        createNonEnumerableProperty($ArrayBuffer, key, NativeArrayBuffer[key]);\n      }\n    }\n    ArrayBufferPrototype.constructor = $ArrayBuffer;\n  }\n\n  // WebKit bug - the same parent prototype for typed arrays and data view\n  if (setPrototypeOf && getPrototypeOf($DataViewPrototype) !== ObjectPrototype) {\n    setPrototypeOf($DataViewPrototype, ObjectPrototype);\n  }\n\n  // iOS Safari 7.x bug\n  var testView = new $DataView(new $ArrayBuffer(2));\n  var $setInt8 = $DataViewPrototype.setInt8;\n  testView.setInt8(0, 2147483648);\n  testView.setInt8(1, 2147483649);\n  if (testView.getInt8(0) || !testView.getInt8(1)) redefineAll($DataViewPrototype, {\n    setInt8: function setInt8(byteOffset, value) {\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    }\n  }, { unsafe: true });\n}\n\nsetToStringTag($ArrayBuffer, ARRAY_BUFFER);\nsetToStringTag($DataView, DATA_VIEW);\n\nmodule.exports = {\n  ArrayBuffer: $ArrayBuffer,\n  DataView: $DataView\n};\n","'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\n\nvar min = Math.min;\n\n// `Array.prototype.copyWithin` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.copywithin\n// eslint-disable-next-line es/no-array-prototype-copywithin -- safe\nmodule.exports = [].copyWithin || function copyWithin(target /* = 0 */, start /* = 0, end = @length */) {\n  var O = toObject(this);\n  var len = toLength(O.length);\n  var to = toAbsoluteIndex(target, len);\n  var from = toAbsoluteIndex(start, len);\n  var end = arguments.length > 2 ? arguments[2] : undefined;\n  var count = min((end === undefined ? len : toAbsoluteIndex(end, len)) - from, len - to);\n  var inc = 1;\n  if (from < to && to < from + count) {\n    inc = -1;\n    from += count - 1;\n    to += count - 1;\n  }\n  while (count-- > 0) {\n    if (from in O) O[to] = O[from];\n    else delete O[to];\n    to += inc;\n    from += inc;\n  } return O;\n};\n","'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.fill` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.fill\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var argumentsLength = arguments.length;\n  var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : undefined, length);\n  var end = argumentsLength > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","'use strict';\nvar bind = require('../internals/function-bind-context');\nvar toObject = require('../internals/to-object');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\n// `Array.from` method implementation\n// https://tc39.es/ecma262/#sec-array.from\nmodule.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n  var O = toObject(arrayLike);\n  var C = typeof this == 'function' ? this : Array;\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var index = 0;\n  var length, result, step, iterator, next, value;\n  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined, 2);\n  // if the target is not iterable or it's an array with the default iterator - use a simple case\n  if (iteratorMethod != undefined && !(C == Array && isArrayIteratorMethod(iteratorMethod))) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    result = new C();\n    for (;!(step = next.call(iterator)).done; index++) {\n      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;\n      createProperty(result, index, value);\n    }\n  } else {\n    length = toLength(O.length);\n    result = new C(length);\n    for (;length > index; index++) {\n      value = mapping ? mapfn(O[index], index) : O[index];\n      createProperty(result, index, value);\n    }\n  }\n  result.length = index;\n  return result;\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var bind = require('../internals/function-bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterOut }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var IS_FILTER_OUT = TYPE == 7;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_OUT ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else switch (TYPE) {\n          case 4: return false;             // every\n          case 7: push.call(target, value); // filterOut\n        }\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.es/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.es/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.es/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.es/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.es/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.es/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.es/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6),\n  // `Array.prototype.filterOut` method\n  // https://github.com/tc39/proposal-array-filtering\n  filterOut: createMethod(7)\n};\n","'use strict';\n/* eslint-disable es/no-array-prototype-lastindexof -- safe */\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar min = Math.min;\nvar $lastIndexOf = [].lastIndexOf;\nvar NEGATIVE_ZERO = !!$lastIndexOf && 1 / [1].lastIndexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('lastIndexOf');\nvar FORCED = NEGATIVE_ZERO || !STRICT_METHOD;\n\n// `Array.prototype.lastIndexOf` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.lastindexof\nmodule.exports = FORCED ? function lastIndexOf(searchElement /* , fromIndex = @[*-1] */) {\n  // convert -0 to +0\n  if (NEGATIVE_ZERO) return $lastIndexOf.apply(this, arguments) || 0;\n  var O = toIndexedObject(this);\n  var length = toLength(O.length);\n  var index = length - 1;\n  if (arguments.length > 1) index = min(index, toInteger(arguments[1]));\n  if (index < 0) index = length + index;\n  for (;index >= 0; index--) if (index in O && O[index] === searchElement) return index || 0;\n  return -1;\n} : $lastIndexOf;\n","var fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (METHOD_NAME) {\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/677\n  return V8_VERSION >= 51 || !fails(function () {\n    var array = [];\n    var constructor = array.constructor = {};\n    constructor[SPECIES] = function () {\n      return { foo: 1 };\n    };\n    return array[METHOD_NAME](Boolean).foo !== 1;\n  });\n};\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal -- required for testing\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aFunction(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = toLength(O.length);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.es/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","var anObject = require('../internals/an-object');\nvar iteratorClose = require('../internals/iterator-close');\n\n// call something on iterator step with safe closing on error\nmodule.exports = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (error) {\n    iteratorClose(iterator);\n    throw error;\n  }\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var called = 0;\n  var iteratorWithReturn = {\n    next: function () {\n      return { done: !!called++ };\n    },\n    'return': function () {\n      SAFE_CLOSING = true;\n    }\n  };\n  iteratorWithReturn[ITERATOR] = function () {\n    return this;\n  };\n  // eslint-disable-next-line es/no-array-from, no-throw-literal -- required for testing\n  Array.from(iteratorWithReturn, function () { throw 2; });\n} catch (error) { /* empty */ }\n\nmodule.exports = function (exec, SKIP_CLOSING) {\n  if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n  var ITERATION_SUPPORT = false;\n  try {\n    var object = {};\n    object[ITERATOR] = function () {\n      return {\n        next: function () {\n          return { done: ITERATION_SUPPORT = true };\n        }\n      };\n    };\n    exec(object);\n  } catch (error) { /* empty */ }\n  return ITERATION_SUPPORT;\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n};\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  // eslint-disable-next-line es/no-object-getprototypeof -- required for testing\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar quot = /\"/g;\n\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\n// https://tc39.es/ecma262/#sec-createhtml\nmodule.exports = function (string, tag, attribute, value) {\n  var S = String(requireObjectCoercible(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\n","'use strict';\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar Iterators = require('../internals/iterators');\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (IteratorConstructor, NAME, next) {\n  var TO_STRING_TAG = NAME + ' Iterator';\n  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(1, next) });\n  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n  Iterators[TO_STRING_TAG] = returnThis;\n  return IteratorConstructor;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar createIteratorConstructor = require('../internals/create-iterator-constructor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\nvar Iterators = require('../internals/iterators');\nvar IteratorsCore = require('../internals/iterators-core');\n\nvar IteratorPrototype = IteratorsCore.IteratorPrototype;\nvar BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\nvar ITERATOR = wellKnownSymbol('iterator');\nvar KEYS = 'keys';\nvar VALUES = 'values';\nvar ENTRIES = 'entries';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n  createIteratorConstructor(IteratorConstructor, NAME, next);\n\n  var getIterationMethod = function (KIND) {\n    if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n    if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];\n    switch (KIND) {\n      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };\n      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };\n      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };\n    } return function () { return new IteratorConstructor(this); };\n  };\n\n  var TO_STRING_TAG = NAME + ' Iterator';\n  var INCORRECT_VALUES_NAME = false;\n  var IterablePrototype = Iterable.prototype;\n  var nativeIterator = IterablePrototype[ITERATOR]\n    || IterablePrototype['@@iterator']\n    || DEFAULT && IterablePrototype[DEFAULT];\n  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n  var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n  var CurrentIteratorPrototype, methods, KEY;\n\n  // fix native\n  if (anyNativeIterator) {\n    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n    if (IteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n        if (setPrototypeOf) {\n          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);\n        } else if (typeof CurrentIteratorPrototype[ITERATOR] != 'function') {\n          createNonEnumerableProperty(CurrentIteratorPrototype, ITERATOR, returnThis);\n        }\n      }\n      // Set @@toStringTag to native iterators\n      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\n      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;\n    }\n  }\n\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n    INCORRECT_VALUES_NAME = true;\n    defaultIterator = function values() { return nativeIterator.call(this); };\n  }\n\n  // define iterator\n  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {\n    createNonEnumerableProperty(IterablePrototype, ITERATOR, defaultIterator);\n  }\n  Iterators[NAME] = defaultIterator;\n\n  // export additional methods\n  if (DEFAULT) {\n    methods = {\n      values: getIterationMethod(VALUES),\n      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n      entries: getIterationMethod(ENTRIES)\n    };\n    if (FORCED) for (KEY in methods) {\n      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n        redefine(IterablePrototype, KEY, methods[KEY]);\n      }\n    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);\n  }\n\n  return methods;\n};\n","var fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n","module.exports = typeof window == 'object';\n","var userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /(?:iphone|ipod|ipad).*applewebkit/i.test(userAgent);\n","var classof = require('../internals/classof-raw');\nvar global = require('../internals/global');\n\nmodule.exports = classof(global.process) == 'process';\n","var userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /web0s(?!.*chrome)/i.test(userAgent);\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] < 4 ? 1 : match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar redefine = require('../internals/redefine');\nvar regexpExec = require('../internals/regexp-exec');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar SPECIES = wellKnownSymbol('species');\nvar RegExpPrototype = RegExp.prototype;\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  // #replace needs built-in support for named groups.\n  // #match works fine because it just return the exec results, even if it has\n  // a \"grops\" property.\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// IE <= 11 replaces $0 with the whole match, as if it was $&\n// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\nvar REPLACE_KEEPS_$0 = (function () {\n  // eslint-disable-next-line regexp/prefer-escape-replacement-dollar-char -- required for testing\n  return 'a'.replace(/./, '$0') === '$0';\n})();\n\nvar REPLACE = wellKnownSymbol('replace');\n// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\nvar REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n  if (/./[REPLACE]) {\n    return /./[REPLACE]('a', '$0') === '';\n  }\n  return false;\n})();\n\n// Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n// Weex JS has frozen built-in prototypes, so use try / catch wrapper\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n  // eslint-disable-next-line regexp/no-empty-group -- required for testing\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n});\n\nmodule.exports = function (KEY, length, exec, sham) {\n  var SYMBOL = wellKnownSymbol(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n\n    if (KEY === 'split') {\n      // We can't use real regex here since it causes deoptimization\n      // and serious performance degradation in V8\n      // https://github.com/zloirock/core-js/issues/306\n      re = {};\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n      re.flags = '';\n      re[SYMBOL] = /./[SYMBOL];\n    }\n\n    re.exec = function () { execCalled = true; return null; };\n\n    re[SYMBOL]('');\n    return !execCalled;\n  });\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    (KEY === 'replace' && !(\n      REPLACE_SUPPORTS_NAMED_GROUPS &&\n      REPLACE_KEEPS_$0 &&\n      !REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    )) ||\n    (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n      var $exec = regexp.exec;\n      if ($exec === regexpExec || $exec === RegExpPrototype.exec) {\n        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n          // The native String method already delegates to @@method (this\n          // polyfilled function), leasing to infinite recursion.\n          // We avoid it by directly calling the native @@method method.\n          return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n        }\n        return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n      }\n      return { done: false };\n    }, {\n      REPLACE_KEEPS_$0: REPLACE_KEEPS_$0,\n      REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE: REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    });\n    var stringMethod = methods[0];\n    var regexMethod = methods[1];\n\n    redefine(String.prototype, KEY, stringMethod);\n    redefine(RegExpPrototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return regexMethod.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return regexMethod.call(string, this); }\n    );\n  }\n\n  if (sham) createNonEnumerableProperty(RegExpPrototype[SYMBOL], 'sham', true);\n};\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","var classof = require('../internals/classof');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","var toObject = require('../internals/to-object');\n\nvar floor = Math.floor;\nvar replace = ''.replace;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d{1,2}|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d{1,2})/g;\n\n// https://tc39.es/ecma262/#sec-getsubstitution\nmodule.exports = function (matched, str, position, captures, namedCaptures, replacement) {\n  var tailPos = position + matched.length;\n  var m = captures.length;\n  var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n  if (namedCaptures !== undefined) {\n    namedCaptures = toObject(namedCaptures);\n    symbols = SUBSTITUTION_SYMBOLS;\n  }\n  return replace.call(replacement, symbols, function (match, ch) {\n    var capture;\n    switch (ch.charAt(0)) {\n      case '$': return '$';\n      case '&': return matched;\n      case '`': return str.slice(0, position);\n      case \"'\": return str.slice(tailPos);\n      case '<':\n        capture = namedCaptures[ch.slice(1, -1)];\n        break;\n      default: // \\d\\d?\n        var n = +ch;\n        if (n === 0) return match;\n        if (n > m) {\n          var f = floor(n / 10);\n          if (f === 0) return match;\n          if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n          return match;\n        }\n        capture = captures[n - 1];\n    }\n    return capture === undefined ? '' : capture;\n  });\n};\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n","var toObject = require('../internals/to-object');\n\nvar hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function hasOwn(it, key) {\n  return hasOwnProperty.call(toObject(it), key);\n};\n","module.exports = {};\n","var global = require('../internals/global');\n\nmodule.exports = function (a, b) {\n  var console = global.console;\n  if (console && console.error) {\n    arguments.length === 1 ? console.error(a) : console.error(a, b);\n  }\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- requied for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","// IEEE754 conversions based on https://github.com/feross/ieee754\nvar abs = Math.abs;\nvar pow = Math.pow;\nvar floor = Math.floor;\nvar log = Math.log;\nvar LN2 = Math.LN2;\n\nvar pack = function (number, mantissaLength, bytes) {\n  var buffer = new Array(bytes);\n  var exponentLength = bytes * 8 - mantissaLength - 1;\n  var eMax = (1 << exponentLength) - 1;\n  var eBias = eMax >> 1;\n  var rt = mantissaLength === 23 ? pow(2, -24) - pow(2, -77) : 0;\n  var sign = number < 0 || number === 0 && 1 / number < 0 ? 1 : 0;\n  var index = 0;\n  var exponent, mantissa, c;\n  number = abs(number);\n  // eslint-disable-next-line no-self-compare -- NaN check\n  if (number != number || number === Infinity) {\n    // eslint-disable-next-line no-self-compare -- NaN check\n    mantissa = number != number ? 1 : 0;\n    exponent = eMax;\n  } else {\n    exponent = floor(log(number) / LN2);\n    if (number * (c = pow(2, -exponent)) < 1) {\n      exponent--;\n      c *= 2;\n    }\n    if (exponent + eBias >= 1) {\n      number += rt / c;\n    } else {\n      number += rt * pow(2, 1 - eBias);\n    }\n    if (number * c >= 2) {\n      exponent++;\n      c /= 2;\n    }\n    if (exponent + eBias >= eMax) {\n      mantissa = 0;\n      exponent = eMax;\n    } else if (exponent + eBias >= 1) {\n      mantissa = (number * c - 1) * pow(2, mantissaLength);\n      exponent = exponent + eBias;\n    } else {\n      mantissa = number * pow(2, eBias - 1) * pow(2, mantissaLength);\n      exponent = 0;\n    }\n  }\n  for (; mantissaLength >= 8; buffer[index++] = mantissa & 255, mantissa /= 256, mantissaLength -= 8);\n  exponent = exponent << mantissaLength | mantissa;\n  exponentLength += mantissaLength;\n  for (; exponentLength > 0; buffer[index++] = exponent & 255, exponent /= 256, exponentLength -= 8);\n  buffer[--index] |= sign * 128;\n  return buffer;\n};\n\nvar unpack = function (buffer, mantissaLength) {\n  var bytes = buffer.length;\n  var exponentLength = bytes * 8 - mantissaLength - 1;\n  var eMax = (1 << exponentLength) - 1;\n  var eBias = eMax >> 1;\n  var nBits = exponentLength - 7;\n  var index = bytes - 1;\n  var sign = buffer[index--];\n  var exponent = sign & 127;\n  var mantissa;\n  sign >>= 7;\n  for (; nBits > 0; exponent = exponent * 256 + buffer[index], index--, nBits -= 8);\n  mantissa = exponent & (1 << -nBits) - 1;\n  exponent >>= -nBits;\n  nBits += mantissaLength;\n  for (; nBits > 0; mantissa = mantissa * 256 + buffer[index], index--, nBits -= 8);\n  if (exponent === 0) {\n    exponent = 1 - eBias;\n  } else if (exponent === eMax) {\n    return mantissa ? NaN : sign ? -Infinity : Infinity;\n  } else {\n    mantissa = mantissa + pow(2, mantissaLength);\n    exponent = exponent - eBias;\n  } return (sign ? -1 : 1) * mantissa * pow(2, exponent - mantissaLength);\n};\n\nmodule.exports = {\n  pack: pack,\n  unpack: unpack\n};\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","var isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    typeof (NewTarget = dummy.constructor) == 'function' &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    if (wmhas.call(store, it)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (objectHas(it, STATE)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\n// eslint-disable-next-line es/no-array-isarray -- safe\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","module.exports = false;\n","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.es/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","var anObject = require('../internals/an-object');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/function-bind-context');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar iteratorClose = require('../internals/iterator-close');\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nmodule.exports = function (iterable, unboundFunction, options) {\n  var that = options && options.that;\n  var AS_ENTRIES = !!(options && options.AS_ENTRIES);\n  var IS_ITERATOR = !!(options && options.IS_ITERATOR);\n  var INTERRUPTED = !!(options && options.INTERRUPTED);\n  var fn = bind(unboundFunction, that, 1 + AS_ENTRIES + INTERRUPTED);\n  var iterator, iterFn, index, length, result, next, step;\n\n  var stop = function (condition) {\n    if (iterator) iteratorClose(iterator);\n    return new Result(true, condition);\n  };\n\n  var callFn = function (value) {\n    if (AS_ENTRIES) {\n      anObject(value);\n      return INTERRUPTED ? fn(value[0], value[1], stop) : fn(value[0], value[1]);\n    } return INTERRUPTED ? fn(value, stop) : fn(value);\n  };\n\n  if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (typeof iterFn != 'function') throw TypeError('Target is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = toLength(iterable.length); length > index; index++) {\n        result = callFn(iterable[index]);\n        if (result && result instanceof Result) return result;\n      } return new Result(false);\n    }\n    iterator = iterFn.call(iterable);\n  }\n\n  next = iterator.next;\n  while (!(step = next.call(iterator)).done) {\n    try {\n      result = callFn(step.value);\n    } catch (error) {\n      iteratorClose(iterator);\n      throw error;\n    }\n    if (typeof result == 'object' && result && result instanceof Result) return result;\n  } return new Result(false);\n};\n","var anObject = require('../internals/an-object');\n\nmodule.exports = function (iterator) {\n  var returnMethod = iterator['return'];\n  if (returnMethod !== undefined) {\n    return anObject(returnMethod.call(iterator)).value;\n  }\n};\n","'use strict';\nvar fails = require('../internals/fails');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\nvar returnThis = function () { return this; };\n\n// `%IteratorPrototype%` object\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\n/* eslint-disable es/no-array-prototype-keys -- safe */\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nvar NEW_ITERATOR_PROTOTYPE = IteratorPrototype == undefined || fails(function () {\n  var test = {};\n  // FF44- legacy iterators case\n  return IteratorPrototype[ITERATOR].call(test) !== test;\n});\n\nif (NEW_ITERATOR_PROTOTYPE) IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nif ((!IS_PURE || NEW_ITERATOR_PROTOTYPE) && !has(IteratorPrototype, ITERATOR)) {\n  createNonEnumerableProperty(IteratorPrototype, ITERATOR, returnThis);\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n","module.exports = {};\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar macrotask = require('../internals/task').set;\nvar IS_IOS = require('../internals/engine-is-ios');\nvar IS_WEBOS_WEBKIT = require('../internals/engine-is-webos-webkit');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar MutationObserver = global.MutationObserver || global.WebKitMutationObserver;\nvar document = global.document;\nvar process = global.process;\nvar Promise = global.Promise;\n// Node.js 11 shows ExperimentalWarning on getting `queueMicrotask`\nvar queueMicrotaskDescriptor = getOwnPropertyDescriptor(global, 'queueMicrotask');\nvar queueMicrotask = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;\n\nvar flush, head, last, notify, toggle, node, promise, then;\n\n// modern engines have queueMicrotask method\nif (!queueMicrotask) {\n  flush = function () {\n    var parent, fn;\n    if (IS_NODE && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (error) {\n        if (head) notify();\n        else last = undefined;\n        throw error;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339\n  // also except WebOS Webkit https://github.com/zloirock/core-js/issues/898\n  if (!IS_IOS && !IS_NODE && !IS_WEBOS_WEBKIT && MutationObserver && document) {\n    toggle = true;\n    node = document.createTextNode('');\n    new MutationObserver(flush).observe(node, { characterData: true });\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    promise = Promise.resolve(undefined);\n    // workaround of WebKit ~ iOS Safari 10.1 bug\n    promise.constructor = Promise;\n    then = promise.then;\n    notify = function () {\n      then.call(promise, flush);\n    };\n  // Node.js without promises\n  } else if (IS_NODE) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n}\n\nmodule.exports = queueMicrotask || function (fn) {\n  var task = { fn: fn, next: undefined };\n  if (last) last.next = task;\n  if (!head) {\n    head = task;\n    notify();\n  } last = task;\n};\n","var global = require('../internals/global');\n\nmodule.exports = global.Promise;\n","/* eslint-disable es/no-symbol -- required for testing */\nvar V8_VERSION = require('../internals/engine-v8-version');\nvar fails = require('../internals/fails');\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  return !String(Symbol()) ||\n    // Chrome 38 Symbol has incorrect toString conversion\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","'use strict';\nvar aFunction = require('../internals/a-function');\n\nvar PromiseCapability = function (C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n};\n\n// 25.4.1.5 NewPromiseCapability(C)\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\n\n// eslint-disable-next-line es/no-object-assign -- safe\nvar $assign = Object.assign;\n// eslint-disable-next-line es/no-object-defineproperty -- required for testing\nvar defineProperty = Object.defineProperty;\n\n// `Object.assign` method\n// https://tc39.es/ecma262/#sec-object.assign\nmodule.exports = !$assign || fails(function () {\n  // should have correct order of operations (Edge bug)\n  if (DESCRIPTORS && $assign({ b: 1 }, $assign(defineProperty({}, 'a', {\n    enumerable: true,\n    get: function () {\n      defineProperty(this, 'b', {\n        value: 3,\n        enumerable: false\n      });\n    }\n  }), { b: 2 })).b !== 1) return true;\n  // should work with symbols and should have deterministic property order (V8 bug)\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line es/no-symbol -- safe\n  var symbol = Symbol();\n  var alphabet = 'abcdefghijklmnopqrst';\n  A[symbol] = 7;\n  alphabet.split('').forEach(function (chr) { B[chr] = chr; });\n  return $assign({}, A)[symbol] != 7 || objectKeys($assign({}, B)).join('') != alphabet;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars -- required for `.length`\n  var T = toObject(target);\n  var argumentsLength = arguments.length;\n  var index = 1;\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  var propertyIsEnumerable = propertyIsEnumerableModule.f;\n  while (argumentsLength > index) {\n    var S = IndexedObject(arguments[index++]);\n    var keys = getOwnPropertySymbols ? objectKeys(S).concat(getOwnPropertySymbols(S)) : objectKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n","var anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    /* global ActiveXObject -- old IE */\n    activeXDocument = document.domain && new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es/no-object-defineproperties -- safe\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n","var has = require('../internals/has');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar ObjectPrototype = Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\n// eslint-disable-next-line es/no-object-getprototypeof -- safe\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectPrototype : null;\n};\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","'use strict';\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n","/* eslint-disable no-proto -- safe */\nvar anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n// eslint-disable-next-line es/no-object-setprototypeof -- safe\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n    setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n    setter.call(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter.call(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classof = require('../internals/classof');\n\n// `Object.prototype.toString` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nmodule.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n  return '[object ' + classof(this) + ']';\n};\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","var global = require('../internals/global');\n\nmodule.exports = global;\n","module.exports = function (exec) {\n  try {\n    return { error: false, value: exec() };\n  } catch (error) {\n    return { error: true, value: error };\n  }\n};\n","var anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar newPromiseCapability = require('../internals/new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","var redefine = require('../internals/redefine');\n\nmodule.exports = function (target, src, options) {\n  for (var key in src) redefine(target, key, src[key], options);\n  return target;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  var state;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) {\n      createNonEnumerableProperty(value, 'name', key);\n    }\n    state = enforceInternalState(value);\n    if (!state.source) {\n      state.source = TEMPLATE.join(typeof key == 'string' ? key : '');\n    }\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n","var classof = require('./classof-raw');\nvar regexpExec = require('./regexp-exec');\n\n// `RegExpExec` abstract operation\n// https://tc39.es/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n\n  if (classof(R) !== 'RegExp') {\n    throw TypeError('RegExp#exec called on incompatible receiver');\n  }\n\n  return regexpExec.call(R, S);\n};\n\n","'use strict';\n/* eslint-disable regexp/no-assertion-capturing-group, regexp/no-empty-group, regexp/no-lazy-ends -- testing */\n/* eslint-disable regexp/no-useless-quantifier -- testing */\nvar regexpFlags = require('./regexp-flags');\nvar stickyHelpers = require('./regexp-sticky-helpers');\nvar shared = require('./shared');\n\nvar nativeExec = RegExp.prototype.exec;\nvar nativeReplace = shared('native-string-replace', String.prototype.replace);\n\nvar patchedExec = nativeExec;\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y || stickyHelpers.BROKEN_CARET;\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y;\n\nif (PATCH) {\n  patchedExec = function exec(str) {\n    var re = this;\n    var lastIndex, reCopy, match, i;\n    var sticky = UNSUPPORTED_Y && re.sticky;\n    var flags = regexpFlags.call(re);\n    var source = re.source;\n    var charsAdded = 0;\n    var strCopy = str;\n\n    if (sticky) {\n      flags = flags.replace('y', '');\n      if (flags.indexOf('g') === -1) {\n        flags += 'g';\n      }\n\n      strCopy = String(str).slice(re.lastIndex);\n      // Support anchored sticky behavior.\n      if (re.lastIndex > 0 && (!re.multiline || re.multiline && str[re.lastIndex - 1] !== '\\n')) {\n        source = '(?: ' + source + ')';\n        strCopy = ' ' + strCopy;\n        charsAdded++;\n      }\n      // ^(? + rx + ) is needed, in combination with some str slicing, to\n      // simulate the 'y' flag.\n      reCopy = new RegExp('^(?:' + source + ')', flags);\n    }\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = nativeExec.call(sticky ? reCopy : re, strCopy);\n\n    if (sticky) {\n      if (match) {\n        match.input = match.input.slice(charsAdded);\n        match[0] = match[0].slice(charsAdded);\n        match.index = re.lastIndex;\n        re.lastIndex += match[0].length;\n      } else re.lastIndex = 0;\n    } else if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","'use strict';\n\nvar fails = require('./fails');\n\n// babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError,\n// so we use an intermediate function.\nfunction RE(s, f) {\n  return RegExp(s, f);\n}\n\nexports.UNSUPPORTED_Y = fails(function () {\n  // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\n  var re = RE('a', 'y');\n  re.lastIndex = 2;\n  return re.exec('abcd') != null;\n});\n\nexports.BROKEN_CARET = fails(function () {\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n  var re = RE('^r', 'gy');\n  re.lastIndex = 2;\n  return re.exec('str') != null;\n});\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar definePropertyModule = require('../internals/object-define-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n  var defineProperty = definePropertyModule.f;\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n    defineProperty(Constructor, SPECIES, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n","var defineProperty = require('../internals/object-define-property').f;\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (it, TAG, STATIC) {\n  if (it && !has(it = STATIC ? it : it.prototype, TO_STRING_TAG)) {\n    defineProperty(it, TO_STRING_TAG, { configurable: true, value: TAG });\n  }\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.12.1',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2021 Denis Pushkarev (zloirock.ru)'\n});\n","var anObject = require('../internals/an-object');\nvar aFunction = require('../internals/a-function');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.es/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aFunction(S);\n};\n","var fails = require('../internals/fails');\n\n// check the existence of a method, lowercase\n// of a tag and escaping quotes in arguments\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    var test = ''[METHOD_NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  });\n};\n","var toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.{ codePointAt, at }` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = String(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.es/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","'use strict';\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.repeat` method implementation\n// https://tc39.es/ecma262/#sec-string.prototype.repeat\nmodule.exports = function repeat(count) {\n  var str = String(requireObjectCoercible(this));\n  var result = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError('Wrong number of repetitions');\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;\n  return result;\n};\n","var global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar bind = require('../internals/function-bind-context');\nvar html = require('../internals/html');\nvar createElement = require('../internals/document-create-element');\nvar IS_IOS = require('../internals/engine-is-ios');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar location = global.location;\nvar set = global.setImmediate;\nvar clear = global.clearImmediate;\nvar process = global.process;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\n\nvar run = function (id) {\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\n\nvar runner = function (id) {\n  return function () {\n    run(id);\n  };\n};\n\nvar listener = function (event) {\n  run(event.data);\n};\n\nvar post = function (id) {\n  // old engines have not location.origin\n  global.postMessage(id + '', location.protocol + '//' + location.host);\n};\n\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!set || !clear) {\n  set = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func -- spec requirement\n      (typeof fn == 'function' ? fn : Function(fn)).apply(undefined, args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clear = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (IS_NODE) {\n    defer = function (id) {\n      process.nextTick(runner(id));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(runner(id));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  // except iOS - https://github.com/zloirock/core-js/issues/624\n  } else if (MessageChannel && !IS_IOS) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = bind(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (\n    global.addEventListener &&\n    typeof postMessage == 'function' &&\n    !global.importScripts &&\n    location && location.protocol !== 'file:' &&\n    !fails(post)\n  ) {\n    defer = post;\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in createElement('script')) {\n    defer = function (id) {\n      html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(runner(id), 0);\n    };\n  }\n}\n\nmodule.exports = {\n  set: set,\n  clear: clear\n};\n","var classof = require('../internals/classof-raw');\n\n// `thisNumberValue` abstract operation\n// https://tc39.es/ecma262/#sec-thisnumbervalue\nmodule.exports = function (value) {\n  if (typeof value != 'number' && classof(value) != 'Number') {\n    throw TypeError('Incorrect invocation');\n  }\n  return +value;\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","var toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\n\n// `ToIndex` abstract operation\n// https://tc39.es/ecma262/#sec-toindex\nmodule.exports = function (it) {\n  if (it === undefined) return 0;\n  var number = toInteger(it);\n  var length = toLength(number);\n  if (number !== length) throw RangeError('Wrong length or index');\n  return length;\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.es/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","var toPositiveInteger = require('../internals/to-positive-integer');\n\nmodule.exports = function (it, BYTES) {\n  var offset = toPositiveInteger(it);\n  if (offset % BYTES) throw RangeError('Wrong offset');\n  return offset;\n};\n","var toInteger = require('../internals/to-integer');\n\nmodule.exports = function (it) {\n  var result = toInteger(it);\n  if (result < 0) throw RangeError(\"The argument can't be less than 0\");\n  return result;\n};\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS = require('../internals/typed-array-constructors-require-wrappers');\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar ArrayBufferModule = require('../internals/array-buffer');\nvar anInstance = require('../internals/an-instance');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar toLength = require('../internals/to-length');\nvar toIndex = require('../internals/to-index');\nvar toOffset = require('../internals/to-offset');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof');\nvar isObject = require('../internals/is-object');\nvar create = require('../internals/object-create');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar typedArrayFrom = require('../internals/typed-array-from');\nvar forEach = require('../internals/array-iteration').forEach;\nvar setSpecies = require('../internals/set-species');\nvar definePropertyModule = require('../internals/object-define-property');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar InternalStateModule = require('../internals/internal-state');\nvar inheritIfRequired = require('../internals/inherit-if-required');\n\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar nativeDefineProperty = definePropertyModule.f;\nvar nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\nvar round = Math.round;\nvar RangeError = global.RangeError;\nvar ArrayBuffer = ArrayBufferModule.ArrayBuffer;\nvar DataView = ArrayBufferModule.DataView;\nvar NATIVE_ARRAY_BUFFER_VIEWS = ArrayBufferViewCore.NATIVE_ARRAY_BUFFER_VIEWS;\nvar TYPED_ARRAY_TAG = ArrayBufferViewCore.TYPED_ARRAY_TAG;\nvar TypedArray = ArrayBufferViewCore.TypedArray;\nvar TypedArrayPrototype = ArrayBufferViewCore.TypedArrayPrototype;\nvar aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;\nvar isTypedArray = ArrayBufferViewCore.isTypedArray;\nvar BYTES_PER_ELEMENT = 'BYTES_PER_ELEMENT';\nvar WRONG_LENGTH = 'Wrong length';\n\nvar fromList = function (C, list) {\n  var index = 0;\n  var length = list.length;\n  var result = new (aTypedArrayConstructor(C))(length);\n  while (length > index) result[index] = list[index++];\n  return result;\n};\n\nvar addGetter = function (it, key) {\n  nativeDefineProperty(it, key, { get: function () {\n    return getInternalState(this)[key];\n  } });\n};\n\nvar isArrayBuffer = function (it) {\n  var klass;\n  return it instanceof ArrayBuffer || (klass = classof(it)) == 'ArrayBuffer' || klass == 'SharedArrayBuffer';\n};\n\nvar isTypedArrayIndex = function (target, key) {\n  return isTypedArray(target)\n    && typeof key != 'symbol'\n    && key in target\n    && String(+key) == String(key);\n};\n\nvar wrappedGetOwnPropertyDescriptor = function getOwnPropertyDescriptor(target, key) {\n  return isTypedArrayIndex(target, key = toPrimitive(key, true))\n    ? createPropertyDescriptor(2, target[key])\n    : nativeGetOwnPropertyDescriptor(target, key);\n};\n\nvar wrappedDefineProperty = function defineProperty(target, key, descriptor) {\n  if (isTypedArrayIndex(target, key = toPrimitive(key, true))\n    && isObject(descriptor)\n    && has(descriptor, 'value')\n    && !has(descriptor, 'get')\n    && !has(descriptor, 'set')\n    // TODO: add validation descriptor w/o calling accessors\n    && !descriptor.configurable\n    && (!has(descriptor, 'writable') || descriptor.writable)\n    && (!has(descriptor, 'enumerable') || descriptor.enumerable)\n  ) {\n    target[key] = descriptor.value;\n    return target;\n  } return nativeDefineProperty(target, key, descriptor);\n};\n\nif (DESCRIPTORS) {\n  if (!NATIVE_ARRAY_BUFFER_VIEWS) {\n    getOwnPropertyDescriptorModule.f = wrappedGetOwnPropertyDescriptor;\n    definePropertyModule.f = wrappedDefineProperty;\n    addGetter(TypedArrayPrototype, 'buffer');\n    addGetter(TypedArrayPrototype, 'byteOffset');\n    addGetter(TypedArrayPrototype, 'byteLength');\n    addGetter(TypedArrayPrototype, 'length');\n  }\n\n  $({ target: 'Object', stat: true, forced: !NATIVE_ARRAY_BUFFER_VIEWS }, {\n    getOwnPropertyDescriptor: wrappedGetOwnPropertyDescriptor,\n    defineProperty: wrappedDefineProperty\n  });\n\n  module.exports = function (TYPE, wrapper, CLAMPED) {\n    var BYTES = TYPE.match(/\\d+$/)[0] / 8;\n    var CONSTRUCTOR_NAME = TYPE + (CLAMPED ? 'Clamped' : '') + 'Array';\n    var GETTER = 'get' + TYPE;\n    var SETTER = 'set' + TYPE;\n    var NativeTypedArrayConstructor = global[CONSTRUCTOR_NAME];\n    var TypedArrayConstructor = NativeTypedArrayConstructor;\n    var TypedArrayConstructorPrototype = TypedArrayConstructor && TypedArrayConstructor.prototype;\n    var exported = {};\n\n    var getter = function (that, index) {\n      var data = getInternalState(that);\n      return data.view[GETTER](index * BYTES + data.byteOffset, true);\n    };\n\n    var setter = function (that, index, value) {\n      var data = getInternalState(that);\n      if (CLAMPED) value = (value = round(value)) < 0 ? 0 : value > 0xFF ? 0xFF : value & 0xFF;\n      data.view[SETTER](index * BYTES + data.byteOffset, value, true);\n    };\n\n    var addElement = function (that, index) {\n      nativeDefineProperty(that, index, {\n        get: function () {\n          return getter(this, index);\n        },\n        set: function (value) {\n          return setter(this, index, value);\n        },\n        enumerable: true\n      });\n    };\n\n    if (!NATIVE_ARRAY_BUFFER_VIEWS) {\n      TypedArrayConstructor = wrapper(function (that, data, offset, $length) {\n        anInstance(that, TypedArrayConstructor, CONSTRUCTOR_NAME);\n        var index = 0;\n        var byteOffset = 0;\n        var buffer, byteLength, length;\n        if (!isObject(data)) {\n          length = toIndex(data);\n          byteLength = length * BYTES;\n          buffer = new ArrayBuffer(byteLength);\n        } else if (isArrayBuffer(data)) {\n          buffer = data;\n          byteOffset = toOffset(offset, BYTES);\n          var $len = data.byteLength;\n          if ($length === undefined) {\n            if ($len % BYTES) throw RangeError(WRONG_LENGTH);\n            byteLength = $len - byteOffset;\n            if (byteLength < 0) throw RangeError(WRONG_LENGTH);\n          } else {\n            byteLength = toLength($length) * BYTES;\n            if (byteLength + byteOffset > $len) throw RangeError(WRONG_LENGTH);\n          }\n          length = byteLength / BYTES;\n        } else if (isTypedArray(data)) {\n          return fromList(TypedArrayConstructor, data);\n        } else {\n          return typedArrayFrom.call(TypedArrayConstructor, data);\n        }\n        setInternalState(that, {\n          buffer: buffer,\n          byteOffset: byteOffset,\n          byteLength: byteLength,\n          length: length,\n          view: new DataView(buffer)\n        });\n        while (index < length) addElement(that, index++);\n      });\n\n      if (setPrototypeOf) setPrototypeOf(TypedArrayConstructor, TypedArray);\n      TypedArrayConstructorPrototype = TypedArrayConstructor.prototype = create(TypedArrayPrototype);\n    } else if (TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS) {\n      TypedArrayConstructor = wrapper(function (dummy, data, typedArrayOffset, $length) {\n        anInstance(dummy, TypedArrayConstructor, CONSTRUCTOR_NAME);\n        return inheritIfRequired(function () {\n          if (!isObject(data)) return new NativeTypedArrayConstructor(toIndex(data));\n          if (isArrayBuffer(data)) return $length !== undefined\n            ? new NativeTypedArrayConstructor(data, toOffset(typedArrayOffset, BYTES), $length)\n            : typedArrayOffset !== undefined\n              ? new NativeTypedArrayConstructor(data, toOffset(typedArrayOffset, BYTES))\n              : new NativeTypedArrayConstructor(data);\n          if (isTypedArray(data)) return fromList(TypedArrayConstructor, data);\n          return typedArrayFrom.call(TypedArrayConstructor, data);\n        }(), dummy, TypedArrayConstructor);\n      });\n\n      if (setPrototypeOf) setPrototypeOf(TypedArrayConstructor, TypedArray);\n      forEach(getOwnPropertyNames(NativeTypedArrayConstructor), function (key) {\n        if (!(key in TypedArrayConstructor)) {\n          createNonEnumerableProperty(TypedArrayConstructor, key, NativeTypedArrayConstructor[key]);\n        }\n      });\n      TypedArrayConstructor.prototype = TypedArrayConstructorPrototype;\n    }\n\n    if (TypedArrayConstructorPrototype.constructor !== TypedArrayConstructor) {\n      createNonEnumerableProperty(TypedArrayConstructorPrototype, 'constructor', TypedArrayConstructor);\n    }\n\n    if (TYPED_ARRAY_TAG) {\n      createNonEnumerableProperty(TypedArrayConstructorPrototype, TYPED_ARRAY_TAG, CONSTRUCTOR_NAME);\n    }\n\n    exported[CONSTRUCTOR_NAME] = TypedArrayConstructor;\n\n    $({\n      global: true, forced: TypedArrayConstructor != NativeTypedArrayConstructor, sham: !NATIVE_ARRAY_BUFFER_VIEWS\n    }, exported);\n\n    if (!(BYTES_PER_ELEMENT in TypedArrayConstructor)) {\n      createNonEnumerableProperty(TypedArrayConstructor, BYTES_PER_ELEMENT, BYTES);\n    }\n\n    if (!(BYTES_PER_ELEMENT in TypedArrayConstructorPrototype)) {\n      createNonEnumerableProperty(TypedArrayConstructorPrototype, BYTES_PER_ELEMENT, BYTES);\n    }\n\n    setSpecies(CONSTRUCTOR_NAME);\n  };\n} else module.exports = function () { /* empty */ };\n","/* eslint-disable no-new -- required for testing */\nvar global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar NATIVE_ARRAY_BUFFER_VIEWS = require('../internals/array-buffer-view-core').NATIVE_ARRAY_BUFFER_VIEWS;\n\nvar ArrayBuffer = global.ArrayBuffer;\nvar Int8Array = global.Int8Array;\n\nmodule.exports = !NATIVE_ARRAY_BUFFER_VIEWS || !fails(function () {\n  Int8Array(1);\n}) || !fails(function () {\n  new Int8Array(-1);\n}) || !checkCorrectnessOfIteration(function (iterable) {\n  new Int8Array();\n  new Int8Array(null);\n  new Int8Array(1.5);\n  new Int8Array(iterable);\n}, true) || fails(function () {\n  // Safari (11+) bug - a reason why even Safari 13 should load a typed array polyfill\n  return new Int8Array(new ArrayBuffer(2), 1, undefined).length !== 1;\n});\n","var aTypedArrayConstructor = require('../internals/array-buffer-view-core').aTypedArrayConstructor;\nvar speciesConstructor = require('../internals/species-constructor');\n\nmodule.exports = function (instance, list) {\n  var C = speciesConstructor(instance, instance.constructor);\n  var index = 0;\n  var length = list.length;\n  var result = new (aTypedArrayConstructor(C))(length);\n  while (length > index) result[index] = list[index++];\n  return result;\n};\n","var toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar bind = require('../internals/function-bind-context');\nvar aTypedArrayConstructor = require('../internals/array-buffer-view-core').aTypedArrayConstructor;\n\nmodule.exports = function from(source /* , mapfn, thisArg */) {\n  var O = toObject(source);\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var i, length, result, step, iterator, next;\n  if (iteratorMethod != undefined && !isArrayIteratorMethod(iteratorMethod)) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    O = [];\n    while (!(step = next.call(iterator)).done) {\n      O.push(step.value);\n    }\n  }\n  if (mapping && argumentsLength > 2) {\n    mapfn = bind(mapfn, arguments[2], 2);\n  }\n  length = toLength(O.length);\n  result = new (aTypedArrayConstructor(this))(length);\n  for (i = 0; length > i; i++) {\n    result[i] = mapping ? mapfn(O[i], i) : O[i];\n  }\n  return result;\n};\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name) || !(NATIVE_SYMBOL || typeof WellKnownSymbolsStore[name] == 'string')) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) {\n      WellKnownSymbolsStore[name] = Symbol[name];\n    } else {\n      WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n    }\n  } return WellKnownSymbolsStore[name];\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar arrayBufferModule = require('../internals/array-buffer');\nvar setSpecies = require('../internals/set-species');\n\nvar ARRAY_BUFFER = 'ArrayBuffer';\nvar ArrayBuffer = arrayBufferModule[ARRAY_BUFFER];\nvar NativeArrayBuffer = global[ARRAY_BUFFER];\n\n// `ArrayBuffer` constructor\n// https://tc39.es/ecma262/#sec-arraybuffer-constructor\n$({ global: true, forced: NativeArrayBuffer !== ArrayBuffer }, {\n  ArrayBuffer: ArrayBuffer\n});\n\nsetSpecies(ARRAY_BUFFER);\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.es/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  concat: function concat(arg) {\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.es/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var $ = require('../internals/export');\nvar from = require('../internals/array-from');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  // eslint-disable-next-line es/no-array-from -- required for testing\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.es/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n","'use strict';\n/* eslint-disable es/no-array-prototype-indexof -- required for testing */\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('indexOf');\n\n// `Array.prototype.indexOf` method\n// https://tc39.es/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar Iterators = require('../internals/iterators');\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar ARRAY_ITERATOR = 'Array Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);\n\n// `Array.prototype.entries` method\n// https://tc39.es/ecma262/#sec-array.prototype.entries\n// `Array.prototype.keys` method\n// https://tc39.es/ecma262/#sec-array.prototype.keys\n// `Array.prototype.values` method\n// https://tc39.es/ecma262/#sec-array.prototype.values\n// `Array.prototype[@@iterator]` method\n// https://tc39.es/ecma262/#sec-array.prototype-@@iterator\n// `CreateArrayIterator` internal method\n// https://tc39.es/ecma262/#sec-createarrayiterator\nmodule.exports = defineIterator(Array, 'Array', function (iterated, kind) {\n  setInternalState(this, {\n    type: ARRAY_ITERATOR,\n    target: toIndexedObject(iterated), // target\n    index: 0,                          // next index\n    kind: kind                         // kind\n  });\n// `%ArrayIteratorPrototype%.next` method\n// https://tc39.es/ecma262/#sec-%arrayiteratorprototype%.next\n}, function () {\n  var state = getInternalState(this);\n  var target = state.target;\n  var kind = state.kind;\n  var index = state.index++;\n  if (!target || index >= target.length) {\n    state.target = undefined;\n    return { value: undefined, done: true };\n  }\n  if (kind == 'keys') return { value: index, done: false };\n  if (kind == 'values') return { value: target[index], done: false };\n  return { value: [index, target[index]], done: false };\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values%\n// https://tc39.es/ecma262/#sec-createunmappedargumentsobject\n// https://tc39.es/ecma262/#sec-createmappedargumentsobject\nIterators.Arguments = Iterators.Array;\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar CHROME_VERSION = require('../internals/engine-v8-version');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduce');\n// Chrome 80-82 has a critical bug\n// https://bugs.chromium.org/p/chromium/issues/detail?id=1049982\nvar CHROME_BUG = !IS_NODE && CHROME_VERSION > 79 && CHROME_VERSION < 83;\n\n// `Array.prototype.reduce` method\n// https://tc39.es/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || CHROME_BUG }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.es/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.es/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar toInteger = require('../internals/to-integer');\nvar thisNumberValue = require('../internals/this-number-value');\nvar repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar nativeToFixed = 1.0.toFixed;\nvar floor = Math.floor;\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar multiply = function (data, n, c) {\n  var index = -1;\n  var c2 = c;\n  while (++index < 6) {\n    c2 += n * data[index];\n    data[index] = c2 % 1e7;\n    c2 = floor(c2 / 1e7);\n  }\n};\n\nvar divide = function (data, n) {\n  var index = 6;\n  var c = 0;\n  while (--index >= 0) {\n    c += data[index];\n    data[index] = floor(c / n);\n    c = (c % n) * 1e7;\n  }\n};\n\nvar dataToString = function (data) {\n  var index = 6;\n  var s = '';\n  while (--index >= 0) {\n    if (s !== '' || index === 0 || data[index] !== 0) {\n      var t = String(data[index]);\n      s = s === '' ? t : s + repeat.call('0', 7 - t.length) + t;\n    }\n  } return s;\n};\n\nvar FORCED = nativeToFixed && (\n  0.00008.toFixed(3) !== '0.000' ||\n  0.9.toFixed(0) !== '1' ||\n  1.255.toFixed(2) !== '1.25' ||\n  1000000000000000128.0.toFixed(0) !== '1000000000000000128'\n) || !fails(function () {\n  // V8 ~ Android 4.3-\n  nativeToFixed.call({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.es/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toInteger(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    if (fractDigits < 0 || fractDigits > 20) throw RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (number != number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(data, 0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(data, 1e7, 0);\n          j -= 7;\n        }\n        multiply(data, pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(data, 1 << 23);\n          j -= 23;\n        }\n        divide(data, 1 << j);\n        multiply(data, 1, 1);\n        divide(data, 2);\n        result = dataToString(data);\n      } else {\n        multiply(data, 0, z);\n        multiply(data, 1 << -e, 0);\n        result = dataToString(data) + repeat.call('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat.call('0', fractDigits - k) + result\n        : result.slice(0, k - fractDigits) + '.' + result.slice(k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n","var $ = require('../internals/export');\nvar assign = require('../internals/object-assign');\n\n// `Object.assign` method\n// https://tc39.es/ecma262/#sec-object.assign\n// eslint-disable-next-line es/no-object-assign -- required for testing\n$({ target: 'Object', stat: true, forced: Object.assign !== assign }, {\n  assign: assign\n});\n","var $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar nativeKeys = require('../internals/object-keys');\nvar fails = require('../internals/fails');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar redefine = require('../internals/redefine');\nvar toString = require('../internals/object-to-string');\n\n// `Object.prototype.toString` method\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nif (!TO_STRING_TAG_SUPPORT) {\n  redefine(Object.prototype, 'toString', toString, { unsafe: true });\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar redefine = require('../internals/redefine');\nvar redefineAll = require('../internals/redefine-all');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar setSpecies = require('../internals/set-species');\nvar isObject = require('../internals/is-object');\nvar aFunction = require('../internals/a-function');\nvar anInstance = require('../internals/an-instance');\nvar inspectSource = require('../internals/inspect-source');\nvar iterate = require('../internals/iterate');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar speciesConstructor = require('../internals/species-constructor');\nvar task = require('../internals/task').set;\nvar microtask = require('../internals/microtask');\nvar promiseResolve = require('../internals/promise-resolve');\nvar hostReportErrors = require('../internals/host-report-errors');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar InternalStateModule = require('../internals/internal-state');\nvar isForced = require('../internals/is-forced');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_BROWSER = require('../internals/engine-is-browser');\nvar IS_NODE = require('../internals/engine-is-node');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\nvar PROMISE = 'Promise';\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar getInternalPromiseState = InternalStateModule.getterFor(PROMISE);\nvar NativePromisePrototype = NativePromise && NativePromise.prototype;\nvar PromiseConstructor = NativePromise;\nvar PromiseConstructorPrototype = NativePromisePrototype;\nvar TypeError = global.TypeError;\nvar document = global.document;\nvar process = global.process;\nvar newPromiseCapability = newPromiseCapabilityModule.f;\nvar newGenericPromiseCapability = newPromiseCapability;\nvar DISPATCH_EVENT = !!(document && document.createEvent && global.dispatchEvent);\nvar NATIVE_REJECTION_EVENT = typeof PromiseRejectionEvent == 'function';\nvar UNHANDLED_REJECTION = 'unhandledrejection';\nvar REJECTION_HANDLED = 'rejectionhandled';\nvar PENDING = 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\nvar HANDLED = 1;\nvar UNHANDLED = 2;\nvar SUBCLASSING = false;\nvar Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;\n\nvar FORCED = isForced(PROMISE, function () {\n  var GLOBAL_CORE_JS_PROMISE = inspectSource(PromiseConstructor) !== String(PromiseConstructor);\n  // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n  // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n  // We can't detect it synchronously, so just check versions\n  if (!GLOBAL_CORE_JS_PROMISE && V8_VERSION === 66) return true;\n  // We need Promise#finally in the pure version for preventing prototype pollution\n  if (IS_PURE && !PromiseConstructorPrototype['finally']) return true;\n  // We can't use @@species feature detection in V8 since it causes\n  // deoptimization and performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  if (V8_VERSION >= 51 && /native code/.test(PromiseConstructor)) return false;\n  // Detect correctness of subclassing with @@species support\n  var promise = new PromiseConstructor(function (resolve) { resolve(1); });\n  var FakePromise = function (exec) {\n    exec(function () { /* empty */ }, function () { /* empty */ });\n  };\n  var constructor = promise.constructor = {};\n  constructor[SPECIES] = FakePromise;\n  SUBCLASSING = promise.then(function () { /* empty */ }) instanceof FakePromise;\n  if (!SUBCLASSING) return true;\n  // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n  return !GLOBAL_CORE_JS_PROMISE && IS_BROWSER && !NATIVE_REJECTION_EVENT;\n});\n\nvar INCORRECT_ITERATION = FORCED || !checkCorrectnessOfIteration(function (iterable) {\n  PromiseConstructor.all(iterable)['catch'](function () { /* empty */ });\n});\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\n\nvar notify = function (state, isReject) {\n  if (state.notified) return;\n  state.notified = true;\n  var chain = state.reactions;\n  microtask(function () {\n    var value = state.value;\n    var ok = state.state == FULFILLED;\n    var index = 0;\n    // variable length - can't use forEach\n    while (chain.length > index) {\n      var reaction = chain[index++];\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (state.rejection === UNHANDLED) onHandleUnhandled(state);\n            state.rejection = HANDLED;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // can throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (error) {\n        if (domain && !exited) domain.exit();\n        reject(error);\n      }\n    }\n    state.reactions = [];\n    state.notified = false;\n    if (isReject && !state.rejection) onUnhandled(state);\n  });\n};\n\nvar dispatchEvent = function (name, promise, reason) {\n  var event, handler;\n  if (DISPATCH_EVENT) {\n    event = document.createEvent('Event');\n    event.promise = promise;\n    event.reason = reason;\n    event.initEvent(name, false, true);\n    global.dispatchEvent(event);\n  } else event = { promise: promise, reason: reason };\n  if (!NATIVE_REJECTION_EVENT && (handler = global['on' + name])) handler(event);\n  else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\n};\n\nvar onUnhandled = function (state) {\n  task.call(global, function () {\n    var promise = state.facade;\n    var value = state.value;\n    var IS_UNHANDLED = isUnhandled(state);\n    var result;\n    if (IS_UNHANDLED) {\n      result = perform(function () {\n        if (IS_NODE) {\n          process.emit('unhandledRejection', value, promise);\n        } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;\n      if (result.error) throw result.value;\n    }\n  });\n};\n\nvar isUnhandled = function (state) {\n  return state.rejection !== HANDLED && !state.parent;\n};\n\nvar onHandleUnhandled = function (state) {\n  task.call(global, function () {\n    var promise = state.facade;\n    if (IS_NODE) {\n      process.emit('rejectionHandled', promise);\n    } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n  });\n};\n\nvar bind = function (fn, state, unwrap) {\n  return function (value) {\n    fn(state, value, unwrap);\n  };\n};\n\nvar internalReject = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  state.value = value;\n  state.state = REJECTED;\n  notify(state, true);\n};\n\nvar internalResolve = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  try {\n    if (state.facade === value) throw TypeError(\"Promise can't be resolved itself\");\n    var then = isThenable(value);\n    if (then) {\n      microtask(function () {\n        var wrapper = { done: false };\n        try {\n          then.call(value,\n            bind(internalResolve, wrapper, state),\n            bind(internalReject, wrapper, state)\n          );\n        } catch (error) {\n          internalReject(wrapper, error, state);\n        }\n      });\n    } else {\n      state.value = value;\n      state.state = FULFILLED;\n      notify(state, false);\n    }\n  } catch (error) {\n    internalReject({ done: false }, error, state);\n  }\n};\n\n// constructor polyfill\nif (FORCED) {\n  // 25.4.3.1 Promise(executor)\n  PromiseConstructor = function Promise(executor) {\n    anInstance(this, PromiseConstructor, PROMISE);\n    aFunction(executor);\n    Internal.call(this);\n    var state = getInternalState(this);\n    try {\n      executor(bind(internalResolve, state), bind(internalReject, state));\n    } catch (error) {\n      internalReject(state, error);\n    }\n  };\n  PromiseConstructorPrototype = PromiseConstructor.prototype;\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  Internal = function Promise(executor) {\n    setInternalState(this, {\n      type: PROMISE,\n      done: false,\n      notified: false,\n      parent: false,\n      reactions: [],\n      rejection: false,\n      state: PENDING,\n      value: undefined\n    });\n  };\n  Internal.prototype = redefineAll(PromiseConstructorPrototype, {\n    // `Promise.prototype.then` method\n    // https://tc39.es/ecma262/#sec-promise.prototype.then\n    then: function then(onFulfilled, onRejected) {\n      var state = getInternalPromiseState(this);\n      var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = IS_NODE ? process.domain : undefined;\n      state.parent = true;\n      state.reactions.push(reaction);\n      if (state.state != PENDING) notify(state, false);\n      return reaction.promise;\n    },\n    // `Promise.prototype.catch` method\n    // https://tc39.es/ecma262/#sec-promise.prototype.catch\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    var state = getInternalState(promise);\n    this.promise = promise;\n    this.resolve = bind(internalResolve, state);\n    this.reject = bind(internalReject, state);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === PromiseConstructor || C === PromiseWrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n\n  if (!IS_PURE && typeof NativePromise == 'function' && NativePromisePrototype !== Object.prototype) {\n    nativeThen = NativePromisePrototype.then;\n\n    if (!SUBCLASSING) {\n      // make `Promise#then` return a polyfilled `Promise` for native promise-based APIs\n      redefine(NativePromisePrototype, 'then', function then(onFulfilled, onRejected) {\n        var that = this;\n        return new PromiseConstructor(function (resolve, reject) {\n          nativeThen.call(that, resolve, reject);\n        }).then(onFulfilled, onRejected);\n      // https://github.com/zloirock/core-js/issues/640\n      }, { unsafe: true });\n\n      // makes sure that native promise-based APIs `Promise#catch` properly works with patched `Promise#then`\n      redefine(NativePromisePrototype, 'catch', PromiseConstructorPrototype['catch'], { unsafe: true });\n    }\n\n    // make `.constructor === Promise` work for native promise-based APIs\n    try {\n      delete NativePromisePrototype.constructor;\n    } catch (error) { /* empty */ }\n\n    // make `instanceof Promise` work for native promise-based APIs\n    if (setPrototypeOf) {\n      setPrototypeOf(NativePromisePrototype, PromiseConstructorPrototype);\n    }\n  }\n}\n\n$({ global: true, wrap: true, forced: FORCED }, {\n  Promise: PromiseConstructor\n});\n\nsetToStringTag(PromiseConstructor, PROMISE, false, true);\nsetSpecies(PROMISE);\n\nPromiseWrapper = getBuiltIn(PROMISE);\n\n// statics\n$({ target: PROMISE, stat: true, forced: FORCED }, {\n  // `Promise.reject` method\n  // https://tc39.es/ecma262/#sec-promise.reject\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    capability.reject.call(undefined, r);\n    return capability.promise;\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: IS_PURE || FORCED }, {\n  // `Promise.resolve` method\n  // https://tc39.es/ecma262/#sec-promise.resolve\n  resolve: function resolve(x) {\n    return promiseResolve(IS_PURE && this === PromiseWrapper ? PromiseConstructor : this, x);\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: INCORRECT_ITERATION }, {\n  // `Promise.all` method\n  // https://tc39.es/ecma262/#sec-promise.all\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        $promiseResolve.call(C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  },\n  // `Promise.race` method\n  // https://tc39.es/ecma262/#sec-promise.race\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      iterate(iterable, function (promise) {\n        $promiseResolve.call(C, promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar exec = require('../internals/regexp-exec');\n\n// `RegExp.prototype.exec` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.exec\n$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {\n  exec: exec\n});\n","'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar STRING_ITERATOR = 'String Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);\n\n// `String.prototype[@@iterator]` method\n// https://tc39.es/ecma262/#sec-string.prototype-@@iterator\ndefineIterator(String, 'String', function (iterated) {\n  setInternalState(this, {\n    type: STRING_ITERATOR,\n    string: String(iterated),\n    index: 0\n  });\n// `%StringIteratorPrototype%.next` method\n// https://tc39.es/ecma262/#sec-%stringiteratorprototype%.next\n}, function next() {\n  var state = getInternalState(this);\n  var string = state.string;\n  var index = state.index;\n  var point;\n  if (index >= string.length) return { value: undefined, done: true };\n  point = charAt(string, index);\n  state.index += point.length;\n  return { value: point, done: false };\n});\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toLength = require('../internals/to-length');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@match logic\nfixRegExpWellKnownSymbolLogic('match', 1, function (MATCH, nativeMatch, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.es/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = requireObjectCoercible(this);\n      var matcher = regexp == undefined ? undefined : regexp[MATCH];\n      return matcher !== undefined ? matcher.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@match\n    function (regexp) {\n      var res = maybeCallNative(nativeMatch, regexp, this);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      if (!rx.global) return regExpExec(rx, S);\n\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar getSubstitution = require('../internals/get-substitution');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\nvar max = Math.max;\nvar min = Math.min;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', 2, function (REPLACE, nativeReplace, maybeCallNative, reason) {\n  var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;\n  var REPLACE_KEEPS_$0 = reason.REPLACE_KEEPS_$0;\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.es/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return replacer !== undefined\n        ? replacer.call(searchValue, O, replaceValue)\n        : nativeReplace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      if (\n        (!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE && REPLACE_KEEPS_$0) ||\n        (typeof replaceValue === 'string' && replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1)\n      ) {\n        var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        results.push(result);\n        if (!global) break;\n\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n});\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar isRegExp = require('../internals/is-regexp');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar speciesConstructor = require('../internals/species-constructor');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar toLength = require('../internals/to-length');\nvar callRegExpExec = require('../internals/regexp-exec-abstract');\nvar regexpExec = require('../internals/regexp-exec');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y;\nvar arrayPush = [].push;\nvar min = Math.min;\nvar MAX_UINT32 = 0xFFFFFFFF;\n\n// @@split logic\nfixRegExpWellKnownSymbolLogic('split', 2, function (SPLIT, nativeSplit, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'.split(/(b)*/)[1] == 'c' ||\n    // eslint-disable-next-line regexp/no-empty-group -- required for testing\n    'test'.split(/(?:)/, -1).length != 4 ||\n    'ab'.split(/(?:ab)*/).length != 2 ||\n    '.'.split(/(.?)(.?)/).length != 4 ||\n    // eslint-disable-next-line regexp/no-assertion-capturing-group, regexp/no-empty-group -- required for testing\n    '.'.split(/()()/).length > 1 ||\n    ''.split(/.?/).length\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(requireObjectCoercible(this));\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (separator === undefined) return [string];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) {\n        return nativeSplit.call(string, separator, lim);\n      }\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy.lastIndex;\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match.length > 1 && match.index < string.length) arrayPush.apply(output, match.slice(1));\n          lastLength = match[0].length;\n          lastLastIndex = lastIndex;\n          if (output.length >= lim) break;\n        }\n        if (separatorCopy.lastIndex === match.index) separatorCopy.lastIndex++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string.length) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output.length > lim ? output.slice(0, lim) : output;\n    };\n  // Chakra, V8\n  } else if ('0'.split(undefined, 0).length) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : nativeSplit.call(this, separator, limit);\n    };\n  } else internalSplit = nativeSplit;\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.es/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = requireObjectCoercible(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== nativeSplit);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (UNSUPPORTED_Y ? 'g' : 'y');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(UNSUPPORTED_Y ? '^(?:' + rx.source + ')' : rx, flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = UNSUPPORTED_Y ? 0 : q;\n        var z = callRegExpExec(splitter, UNSUPPORTED_Y ? S.slice(q) : S);\n        var e;\n        if (\n          z === null ||\n          (e = min(toLength(splitter.lastIndex + (UNSUPPORTED_Y ? q : 0)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n}, UNSUPPORTED_Y);\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.sub` method\n// https://tc39.es/ecma262/#sec-string.prototype.sub\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('sub') }, {\n  sub: function sub() {\n    return createHTML(this, 'sub', '', '');\n  }\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $copyWithin = require('../internals/array-copy-within');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.copyWithin` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.copywithin\nexportTypedArrayMethod('copyWithin', function copyWithin(target, start /* , end */) {\n  return $copyWithin.call(aTypedArray(this), target, start, arguments.length > 2 ? arguments[2] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $every = require('../internals/array-iteration').every;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.every` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.every\nexportTypedArrayMethod('every', function every(callbackfn /* , thisArg */) {\n  return $every(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $fill = require('../internals/array-fill');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.fill` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.fill\n// eslint-disable-next-line no-unused-vars -- required for `.length`\nexportTypedArrayMethod('fill', function fill(value /* , start, end */) {\n  return $fill.apply(aTypedArray(this), arguments);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $filter = require('../internals/array-iteration').filter;\nvar fromSpeciesAndList = require('../internals/typed-array-from-species-and-list');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.filter` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.filter\nexportTypedArrayMethod('filter', function filter(callbackfn /* , thisArg */) {\n  var list = $filter(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  return fromSpeciesAndList(this, list);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $findIndex = require('../internals/array-iteration').findIndex;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.findIndex` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.findindex\nexportTypedArrayMethod('findIndex', function findIndex(predicate /* , thisArg */) {\n  return $findIndex(aTypedArray(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $find = require('../internals/array-iteration').find;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.find` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.find\nexportTypedArrayMethod('find', function find(predicate /* , thisArg */) {\n  return $find(aTypedArray(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n});\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Float64Array` constructor\n// https://tc39.es/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Float64', function (init) {\n  return function Float64Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $forEach = require('../internals/array-iteration').forEach;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.forEach` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.foreach\nexportTypedArrayMethod('forEach', function forEach(callbackfn /* , thisArg */) {\n  $forEach(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $includes = require('../internals/array-includes').includes;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.includes` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.includes\nexportTypedArrayMethod('includes', function includes(searchElement /* , fromIndex */) {\n  return $includes(aTypedArray(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $indexOf = require('../internals/array-includes').indexOf;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.indexOf` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.indexof\nexportTypedArrayMethod('indexOf', function indexOf(searchElement /* , fromIndex */) {\n  return $indexOf(aTypedArray(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar global = require('../internals/global');\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar ArrayIterators = require('../modules/es.array.iterator');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar Uint8Array = global.Uint8Array;\nvar arrayValues = ArrayIterators.values;\nvar arrayKeys = ArrayIterators.keys;\nvar arrayEntries = ArrayIterators.entries;\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar nativeTypedArrayIterator = Uint8Array && Uint8Array.prototype[ITERATOR];\n\nvar CORRECT_ITER_NAME = !!nativeTypedArrayIterator\n  && (nativeTypedArrayIterator.name == 'values' || nativeTypedArrayIterator.name == undefined);\n\nvar typedArrayValues = function values() {\n  return arrayValues.call(aTypedArray(this));\n};\n\n// `%TypedArray%.prototype.entries` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.entries\nexportTypedArrayMethod('entries', function entries() {\n  return arrayEntries.call(aTypedArray(this));\n});\n// `%TypedArray%.prototype.keys` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.keys\nexportTypedArrayMethod('keys', function keys() {\n  return arrayKeys.call(aTypedArray(this));\n});\n// `%TypedArray%.prototype.values` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.values\nexportTypedArrayMethod('values', typedArrayValues, !CORRECT_ITER_NAME);\n// `%TypedArray%.prototype[@@iterator]` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype-@@iterator\nexportTypedArrayMethod(ITERATOR, typedArrayValues, !CORRECT_ITER_NAME);\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar $join = [].join;\n\n// `%TypedArray%.prototype.join` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.join\n// eslint-disable-next-line no-unused-vars -- required for `.length`\nexportTypedArrayMethod('join', function join(separator) {\n  return $join.apply(aTypedArray(this), arguments);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $lastIndexOf = require('../internals/array-last-index-of');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.lastIndexOf` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.lastindexof\n// eslint-disable-next-line no-unused-vars -- required for `.length`\nexportTypedArrayMethod('lastIndexOf', function lastIndexOf(searchElement /* , fromIndex */) {\n  return $lastIndexOf.apply(aTypedArray(this), arguments);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $map = require('../internals/array-iteration').map;\nvar speciesConstructor = require('../internals/species-constructor');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.map` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.map\nexportTypedArrayMethod('map', function map(mapfn /* , thisArg */) {\n  return $map(aTypedArray(this), mapfn, arguments.length > 1 ? arguments[1] : undefined, function (O, length) {\n    return new (aTypedArrayConstructor(speciesConstructor(O, O.constructor)))(length);\n  });\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $reduceRight = require('../internals/array-reduce').right;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.reduceRicht` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.reduceright\nexportTypedArrayMethod('reduceRight', function reduceRight(callbackfn /* , initialValue */) {\n  return $reduceRight(aTypedArray(this), callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $reduce = require('../internals/array-reduce').left;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.reduce` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.reduce\nexportTypedArrayMethod('reduce', function reduce(callbackfn /* , initialValue */) {\n  return $reduce(aTypedArray(this), callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar floor = Math.floor;\n\n// `%TypedArray%.prototype.reverse` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.reverse\nexportTypedArrayMethod('reverse', function reverse() {\n  var that = this;\n  var length = aTypedArray(that).length;\n  var middle = floor(length / 2);\n  var index = 0;\n  var value;\n  while (index < middle) {\n    value = that[index];\n    that[index++] = that[--length];\n    that[length] = value;\n  } return that;\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar toLength = require('../internals/to-length');\nvar toOffset = require('../internals/to-offset');\nvar toObject = require('../internals/to-object');\nvar fails = require('../internals/fails');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\nvar FORCED = fails(function () {\n  // eslint-disable-next-line es/no-typed-arrays -- required for testing\n  new Int8Array(1).set({});\n});\n\n// `%TypedArray%.prototype.set` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.set\nexportTypedArrayMethod('set', function set(arrayLike /* , offset */) {\n  aTypedArray(this);\n  var offset = toOffset(arguments.length > 1 ? arguments[1] : undefined, 1);\n  var length = this.length;\n  var src = toObject(arrayLike);\n  var len = toLength(src.length);\n  var index = 0;\n  if (len + offset > length) throw RangeError('Wrong length');\n  while (index < len) this[offset + index] = src[index++];\n}, FORCED);\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar speciesConstructor = require('../internals/species-constructor');\nvar fails = require('../internals/fails');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar $slice = [].slice;\n\nvar FORCED = fails(function () {\n  // eslint-disable-next-line es/no-typed-arrays -- required for testing\n  new Int8Array(1).slice();\n});\n\n// `%TypedArray%.prototype.slice` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.slice\nexportTypedArrayMethod('slice', function slice(start, end) {\n  var list = $slice.call(aTypedArray(this), start, end);\n  var C = speciesConstructor(this, this.constructor);\n  var index = 0;\n  var length = list.length;\n  var result = new (aTypedArrayConstructor(C))(length);\n  while (length > index) result[index] = list[index++];\n  return result;\n}, FORCED);\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $some = require('../internals/array-iteration').some;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.some` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.some\nexportTypedArrayMethod('some', function some(callbackfn /* , thisArg */) {\n  return $some(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar $sort = [].sort;\n\n// `%TypedArray%.prototype.sort` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.sort\nexportTypedArrayMethod('sort', function sort(comparefn) {\n  return $sort.call(aTypedArray(this), comparefn);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar speciesConstructor = require('../internals/species-constructor');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.subarray` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.subarray\nexportTypedArrayMethod('subarray', function subarray(begin, end) {\n  var O = aTypedArray(this);\n  var length = O.length;\n  var beginIndex = toAbsoluteIndex(begin, length);\n  return new (speciesConstructor(O, O.constructor))(\n    O.buffer,\n    O.byteOffset + beginIndex * O.BYTES_PER_ELEMENT,\n    toLength((end === undefined ? length : toAbsoluteIndex(end, length)) - beginIndex)\n  );\n});\n","'use strict';\nvar global = require('../internals/global');\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar fails = require('../internals/fails');\n\nvar Int8Array = global.Int8Array;\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar $toLocaleString = [].toLocaleString;\nvar $slice = [].slice;\n\n// iOS Safari 6.x fails here\nvar TO_LOCALE_STRING_BUG = !!Int8Array && fails(function () {\n  $toLocaleString.call(new Int8Array(1));\n});\n\nvar FORCED = fails(function () {\n  return [1, 2].toLocaleString() != new Int8Array([1, 2]).toLocaleString();\n}) || !fails(function () {\n  Int8Array.prototype.toLocaleString.call([1, 2]);\n});\n\n// `%TypedArray%.prototype.toLocaleString` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.tolocalestring\nexportTypedArrayMethod('toLocaleString', function toLocaleString() {\n  return $toLocaleString.apply(TO_LOCALE_STRING_BUG ? $slice.call(aTypedArray(this)) : aTypedArray(this), arguments);\n}, FORCED);\n","'use strict';\nvar exportTypedArrayMethod = require('../internals/array-buffer-view-core').exportTypedArrayMethod;\nvar fails = require('../internals/fails');\nvar global = require('../internals/global');\n\nvar Uint8Array = global.Uint8Array;\nvar Uint8ArrayPrototype = Uint8Array && Uint8Array.prototype || {};\nvar arrayToString = [].toString;\nvar arrayJoin = [].join;\n\nif (fails(function () { arrayToString.call({}); })) {\n  arrayToString = function toString() {\n    return arrayJoin.call(this);\n  };\n}\n\nvar IS_NOT_ARRAY_METHOD = Uint8ArrayPrototype.toString != arrayToString;\n\n// `%TypedArray%.prototype.toString` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.tostring\nexportTypedArrayMethod('toString', arrayToString, IS_NOT_ARRAY_METHOD);\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Uint32Array` constructor\n// https://tc39.es/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Uint32', function (init) {\n  return function Uint32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar ArrayIteratorMethods = require('../modules/es.array.iterator');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar ArrayValues = ArrayIteratorMethods.values;\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  if (CollectionPrototype) {\n    // some Chrome versions have non-configurable methods on DOMTokenList\n    if (CollectionPrototype[ITERATOR] !== ArrayValues) try {\n      createNonEnumerableProperty(CollectionPrototype, ITERATOR, ArrayValues);\n    } catch (error) {\n      CollectionPrototype[ITERATOR] = ArrayValues;\n    }\n    if (!CollectionPrototype[TO_STRING_TAG]) {\n      createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);\n    }\n    if (DOMIterables[COLLECTION_NAME]) for (var METHOD_NAME in ArrayIteratorMethods) {\n      // some Chrome versions have non-configurable methods on DOMTokenList\n      if (CollectionPrototype[METHOD_NAME] !== ArrayIteratorMethods[METHOD_NAME]) try {\n        createNonEnumerableProperty(CollectionPrototype, METHOD_NAME, ArrayIteratorMethods[METHOD_NAME]);\n      } catch (error) {\n        CollectionPrototype[METHOD_NAME] = ArrayIteratorMethods[METHOD_NAME];\n      }\n    }\n  }\n}\n","var rbush = require('rbush');\nvar helpers = require('@turf/helpers');\nvar meta = require('@turf/meta');\nvar turfBBox = require('@turf/bbox').default;\nvar featureEach = meta.featureEach;\nvar coordEach = meta.coordEach;\nvar polygon = helpers.polygon;\nvar featureCollection = helpers.featureCollection;\n\n/**\n * GeoJSON implementation of [RBush](https://github.com/mourner/rbush#rbush) spatial index.\n *\n * @name rbush\n * @param {number} [maxEntries=9] defines the maximum number of entries in a tree node. 9 (used by default) is a\n * reasonable choice for most applications. Higher value means faster insertion and slower search, and vice versa.\n * @returns {RBush} GeoJSON RBush\n * @example\n * var geojsonRbush = require('geojson-rbush').default;\n * var tree = geojsonRbush();\n */\nfunction geojsonRbush(maxEntries) {\n    var tree = rbush(maxEntries);\n    /**\n     * [insert](https://github.com/mourner/rbush#data-format)\n     *\n     * @param {Feature} feature insert single GeoJSON Feature\n     * @returns {RBush} GeoJSON RBush\n     * @example\n     * var poly = turf.polygon([[[-78, 41], [-67, 41], [-67, 48], [-78, 48], [-78, 41]]]);\n     * tree.insert(poly)\n     */\n    tree.insert = function (feature) {\n        if (feature.type !== 'Feature') throw new Error('invalid feature');\n        feature.bbox = feature.bbox ? feature.bbox : turfBBox(feature);\n        return rbush.prototype.insert.call(this, feature);\n    };\n\n    /**\n     * [load](https://github.com/mourner/rbush#bulk-inserting-data)\n     *\n     * @param {FeatureCollection|Array<Feature>} features load entire GeoJSON FeatureCollection\n     * @returns {RBush} GeoJSON RBush\n     * @example\n     * var polys = turf.polygons([\n     *     [[[-78, 41], [-67, 41], [-67, 48], [-78, 48], [-78, 41]]],\n     *     [[[-93, 32], [-83, 32], [-83, 39], [-93, 39], [-93, 32]]]\n     * ]);\n     * tree.load(polys);\n     */\n    tree.load = function (features) {\n        var load = [];\n        // Load an Array of Features\n        if (Array.isArray(features)) {\n            features.forEach(function (feature) {\n                if (feature.type !== 'Feature') throw new Error('invalid features');\n                feature.bbox = feature.bbox ? feature.bbox : turfBBox(feature);\n                load.push(feature);\n            });\n        } else {\n            // Load a FeatureCollection\n            featureEach(features, function (feature) {\n                if (feature.type !== 'Feature') throw new Error('invalid features');\n                feature.bbox = feature.bbox ? feature.bbox : turfBBox(feature);\n                load.push(feature);\n            });\n        }\n        return rbush.prototype.load.call(this, load);\n    };\n\n    /**\n     * [remove](https://github.com/mourner/rbush#removing-data)\n     *\n     * @param {Feature} feature remove single GeoJSON Feature\n     * @param {Function} equals Pass a custom equals function to compare by value for removal.\n     * @returns {RBush} GeoJSON RBush\n     * @example\n     * var poly = turf.polygon([[[-78, 41], [-67, 41], [-67, 48], [-78, 48], [-78, 41]]]);\n     *\n     * tree.remove(poly);\n     */\n    tree.remove = function (feature, equals) {\n        if (feature.type !== 'Feature') throw new Error('invalid feature');\n        feature.bbox = feature.bbox ? feature.bbox : turfBBox(feature);\n        return rbush.prototype.remove.call(this, feature, equals);\n    };\n\n    /**\n     * [clear](https://github.com/mourner/rbush#removing-data)\n     *\n     * @returns {RBush} GeoJSON Rbush\n     * @example\n     * tree.clear()\n     */\n    tree.clear = function () {\n        return rbush.prototype.clear.call(this);\n    };\n\n    /**\n     * [search](https://github.com/mourner/rbush#search)\n     *\n     * @param {BBox|FeatureCollection|Feature} geojson search with GeoJSON\n     * @returns {FeatureCollection} all features that intersects with the given GeoJSON.\n     * @example\n     * var poly = turf.polygon([[[-78, 41], [-67, 41], [-67, 48], [-78, 48], [-78, 41]]]);\n     *\n     * tree.search(poly);\n     */\n    tree.search = function (geojson) {\n        var features = rbush.prototype.search.call(this, this.toBBox(geojson));\n        return featureCollection(features);\n    };\n\n    /**\n     * [collides](https://github.com/mourner/rbush#collisions)\n     *\n     * @param {BBox|FeatureCollection|Feature} geojson collides with GeoJSON\n     * @returns {boolean} true if there are any items intersecting the given GeoJSON, otherwise false.\n     * @example\n     * var poly = turf.polygon([[[-78, 41], [-67, 41], [-67, 48], [-78, 48], [-78, 41]]]);\n     *\n     * tree.collides(poly);\n     */\n    tree.collides = function (geojson) {\n        return rbush.prototype.collides.call(this, this.toBBox(geojson));\n    };\n\n    /**\n     * [all](https://github.com/mourner/rbush#search)\n     *\n     * @returns {FeatureCollection} all the features in RBush\n     * @example\n     * tree.all()\n     */\n    tree.all = function () {\n        var features = rbush.prototype.all.call(this);\n        return featureCollection(features);\n    };\n\n    /**\n     * [toJSON](https://github.com/mourner/rbush#export-and-import)\n     *\n     * @returns {any} export data as JSON object\n     * @example\n     * var exported = tree.toJSON()\n     */\n    tree.toJSON = function () {\n        return rbush.prototype.toJSON.call(this);\n    };\n\n    /**\n     * [fromJSON](https://github.com/mourner/rbush#export-and-import)\n     *\n     * @param {any} json import previously exported data\n     * @returns {RBush} GeoJSON RBush\n     * @example\n     * var exported = {\n     *   \"children\": [\n     *     {\n     *       \"type\": \"Feature\",\n     *       \"geometry\": {\n     *         \"type\": \"Point\",\n     *         \"coordinates\": [110, 50]\n     *       },\n     *       \"properties\": {},\n     *       \"bbox\": [110, 50, 110, 50]\n     *     }\n     *   ],\n     *   \"height\": 1,\n     *   \"leaf\": true,\n     *   \"minX\": 110,\n     *   \"minY\": 50,\n     *   \"maxX\": 110,\n     *   \"maxY\": 50\n     * }\n     * tree.fromJSON(exported)\n     */\n    tree.fromJSON = function (json) {\n        return rbush.prototype.fromJSON.call(this, json);\n    };\n\n    /**\n     * Converts GeoJSON to {minX, minY, maxX, maxY} schema\n     *\n     * @private\n     * @param {BBox|FeatureCollection|Feature} geojson feature(s) to retrieve BBox from\n     * @returns {Object} converted to {minX, minY, maxX, maxY}\n     */\n    tree.toBBox = function (geojson) {\n        var bbox;\n        if (geojson.bbox) bbox = geojson.bbox;\n        else if (Array.isArray(geojson) && geojson.length === 4) bbox = geojson;\n        else if (Array.isArray(geojson) && geojson.length === 6) bbox = [geojson[0], geojson[1], geojson[3], geojson[4]];\n        else if (geojson.type === 'Feature') bbox = turfBBox(geojson);\n        else if (geojson.type === 'FeatureCollection') bbox = turfBBox(geojson);\n        else throw new Error('invalid geojson')\n\n        return {\n            minX: bbox[0],\n            minY: bbox[1],\n            maxX: bbox[2],\n            maxY: bbox[3]\n        };\n    };\n    return tree;\n}\n\nmodule.exports = geojsonRbush;\nmodule.exports.default = geojsonRbush;\n","module.exports = function pointInPolygonFlat (point, vs, start, end) {\n    var x = point[0], y = point[1];\n    var inside = false;\n    if (start === undefined) start = 0;\n    if (end === undefined) end = vs.length;\n    var len = (end-start)/2;\n    for (var i = 0, j = len - 1; i < len; j = i++) {\n        var xi = vs[start+i*2+0], yi = vs[start+i*2+1];\n        var xj = vs[start+j*2+0], yj = vs[start+j*2+1];\n        var intersect = ((yi > y) !== (yj > y))\n            && (x < (xj - xi) * (y - yi) / (yj - yi) + xi);\n        if (intersect) inside = !inside;\n    }\n    return inside;\n};\n","var pointInPolygonFlat = require('./flat.js')\nvar pointInPolygonNested = require('./nested.js')\n\nmodule.exports = function pointInPolygon (point, vs, start, end) {\n    if (vs.length > 0 && Array.isArray(vs[0])) {\n        return pointInPolygonNested(point, vs, start, end);\n    } else {\n        return pointInPolygonFlat(point, vs, start, end);\n    }\n}\nmodule.exports.nested = pointInPolygonNested\nmodule.exports.flat = pointInPolygonFlat\n","// ray-casting algorithm based on\n// https://wrf.ecse.rpi.edu/Research/Short_Notes/pnpoly.html\n\nmodule.exports = function pointInPolygonNested (point, vs, start, end) {\n    var x = point[0], y = point[1];\n    var inside = false;\n    if (start === undefined) start = 0;\n    if (end === undefined) end = vs.length;\n    var len = end - start;\n    for (var i = 0, j = len - 1; i < len; j = i++) {\n        var xi = vs[i+start][0], yi = vs[i+start][1];\n        var xj = vs[j+start][0], yj = vs[j+start][1];\n        var intersect = ((yi > y) !== (yj > y))\n            && (x < (xj - xi) * (y - yi) / (yj - yi) + xi);\n        if (intersect) inside = !inside;\n    }\n    return inside;\n};\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.polygonClipping = factory());\n}(this, (function () { 'use strict';\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  /**\n   * splaytree v3.1.0\n   * Fast Splay tree for Node and browser\n   *\n   * @author Alexander Milevski <info@w8r.name>\n   * @license MIT\n   * @preserve\n   */\n  var Node =\n  /** @class */\n  function () {\n    function Node(key, data) {\n      this.next = null;\n      this.key = key;\n      this.data = data;\n      this.left = null;\n      this.right = null;\n    }\n\n    return Node;\n  }();\n  /* follows \"An implementation of top-down splaying\"\r\n   * by D. Sleator <sleator@cs.cmu.edu> March 1992\r\n   */\n\n\n  function DEFAULT_COMPARE(a, b) {\n    return a > b ? 1 : a < b ? -1 : 0;\n  }\n  /**\r\n   * Simple top down splay, not requiring i to be in the tree t.\r\n   */\n\n\n  function splay(i, t, comparator) {\n    var N = new Node(null, null);\n    var l = N;\n    var r = N;\n\n    while (true) {\n      var cmp = comparator(i, t.key); //if (i < t.key) {\n\n      if (cmp < 0) {\n        if (t.left === null) break; //if (i < t.left.key) {\n\n        if (comparator(i, t.left.key) < 0) {\n          var y = t.left;\n          /* rotate right */\n\n          t.left = y.right;\n          y.right = t;\n          t = y;\n          if (t.left === null) break;\n        }\n\n        r.left = t;\n        /* link right */\n\n        r = t;\n        t = t.left; //} else if (i > t.key) {\n      } else if (cmp > 0) {\n        if (t.right === null) break; //if (i > t.right.key) {\n\n        if (comparator(i, t.right.key) > 0) {\n          var y = t.right;\n          /* rotate left */\n\n          t.right = y.left;\n          y.left = t;\n          t = y;\n          if (t.right === null) break;\n        }\n\n        l.right = t;\n        /* link left */\n\n        l = t;\n        t = t.right;\n      } else break;\n    }\n    /* assemble */\n\n\n    l.right = t.left;\n    r.left = t.right;\n    t.left = N.right;\n    t.right = N.left;\n    return t;\n  }\n\n  function insert(i, data, t, comparator) {\n    var node = new Node(i, data);\n\n    if (t === null) {\n      node.left = node.right = null;\n      return node;\n    }\n\n    t = splay(i, t, comparator);\n    var cmp = comparator(i, t.key);\n\n    if (cmp < 0) {\n      node.left = t.left;\n      node.right = t;\n      t.left = null;\n    } else if (cmp >= 0) {\n      node.right = t.right;\n      node.left = t;\n      t.right = null;\n    }\n\n    return node;\n  }\n\n  function split(key, v, comparator) {\n    var left = null;\n    var right = null;\n\n    if (v) {\n      v = splay(key, v, comparator);\n      var cmp = comparator(v.key, key);\n\n      if (cmp === 0) {\n        left = v.left;\n        right = v.right;\n      } else if (cmp < 0) {\n        right = v.right;\n        v.right = null;\n        left = v;\n      } else {\n        left = v.left;\n        v.left = null;\n        right = v;\n      }\n    }\n\n    return {\n      left: left,\n      right: right\n    };\n  }\n\n  function merge(left, right, comparator) {\n    if (right === null) return left;\n    if (left === null) return right;\n    right = splay(left.key, right, comparator);\n    right.left = left;\n    return right;\n  }\n  /**\r\n   * Prints level of the tree\r\n   */\n\n\n  function printRow(root, prefix, isTail, out, printNode) {\n    if (root) {\n      out(\"\" + prefix + (isTail ? '└── ' : '├── ') + printNode(root) + \"\\n\");\n      var indent = prefix + (isTail ? '    ' : '│   ');\n      if (root.left) printRow(root.left, indent, false, out, printNode);\n      if (root.right) printRow(root.right, indent, true, out, printNode);\n    }\n  }\n\n  var Tree =\n  /** @class */\n  function () {\n    function Tree(comparator) {\n      if (comparator === void 0) {\n        comparator = DEFAULT_COMPARE;\n      }\n\n      this._root = null;\n      this._size = 0;\n      this._comparator = comparator;\n    }\n    /**\r\n     * Inserts a key, allows duplicates\r\n     */\n\n\n    Tree.prototype.insert = function (key, data) {\n      this._size++;\n      return this._root = insert(key, data, this._root, this._comparator);\n    };\n    /**\r\n     * Adds a key, if it is not present in the tree\r\n     */\n\n\n    Tree.prototype.add = function (key, data) {\n      var node = new Node(key, data);\n\n      if (this._root === null) {\n        node.left = node.right = null;\n        this._size++;\n        this._root = node;\n      }\n\n      var comparator = this._comparator;\n      var t = splay(key, this._root, comparator);\n      var cmp = comparator(key, t.key);\n      if (cmp === 0) this._root = t;else {\n        if (cmp < 0) {\n          node.left = t.left;\n          node.right = t;\n          t.left = null;\n        } else if (cmp > 0) {\n          node.right = t.right;\n          node.left = t;\n          t.right = null;\n        }\n\n        this._size++;\n        this._root = node;\n      }\n      return this._root;\n    };\n    /**\r\n     * @param  {Key} key\r\n     * @return {Node|null}\r\n     */\n\n\n    Tree.prototype.remove = function (key) {\n      this._root = this._remove(key, this._root, this._comparator);\n    };\n    /**\r\n     * Deletes i from the tree if it's there\r\n     */\n\n\n    Tree.prototype._remove = function (i, t, comparator) {\n      var x;\n      if (t === null) return null;\n      t = splay(i, t, comparator);\n      var cmp = comparator(i, t.key);\n\n      if (cmp === 0) {\n        /* found it */\n        if (t.left === null) {\n          x = t.right;\n        } else {\n          x = splay(i, t.left, comparator);\n          x.right = t.right;\n        }\n\n        this._size--;\n        return x;\n      }\n\n      return t;\n      /* It wasn't there */\n    };\n    /**\r\n     * Removes and returns the node with smallest key\r\n     */\n\n\n    Tree.prototype.pop = function () {\n      var node = this._root;\n\n      if (node) {\n        while (node.left) {\n          node = node.left;\n        }\n\n        this._root = splay(node.key, this._root, this._comparator);\n        this._root = this._remove(node.key, this._root, this._comparator);\n        return {\n          key: node.key,\n          data: node.data\n        };\n      }\n\n      return null;\n    };\n    /**\r\n     * Find without splaying\r\n     */\n\n\n    Tree.prototype.findStatic = function (key) {\n      var current = this._root;\n      var compare = this._comparator;\n\n      while (current) {\n        var cmp = compare(key, current.key);\n        if (cmp === 0) return current;else if (cmp < 0) current = current.left;else current = current.right;\n      }\n\n      return null;\n    };\n\n    Tree.prototype.find = function (key) {\n      if (this._root) {\n        this._root = splay(key, this._root, this._comparator);\n        if (this._comparator(key, this._root.key) !== 0) return null;\n      }\n\n      return this._root;\n    };\n\n    Tree.prototype.contains = function (key) {\n      var current = this._root;\n      var compare = this._comparator;\n\n      while (current) {\n        var cmp = compare(key, current.key);\n        if (cmp === 0) return true;else if (cmp < 0) current = current.left;else current = current.right;\n      }\n\n      return false;\n    };\n\n    Tree.prototype.forEach = function (visitor, ctx) {\n      var current = this._root;\n      var Q = [];\n      /* Initialize stack s */\n\n      var done = false;\n\n      while (!done) {\n        if (current !== null) {\n          Q.push(current);\n          current = current.left;\n        } else {\n          if (Q.length !== 0) {\n            current = Q.pop();\n            visitor.call(ctx, current);\n            current = current.right;\n          } else done = true;\n        }\n      }\n\n      return this;\n    };\n    /**\r\n     * Walk key range from `low` to `high`. Stops if `fn` returns a value.\r\n     */\n\n\n    Tree.prototype.range = function (low, high, fn, ctx) {\n      var Q = [];\n      var compare = this._comparator;\n      var node = this._root;\n      var cmp;\n\n      while (Q.length !== 0 || node) {\n        if (node) {\n          Q.push(node);\n          node = node.left;\n        } else {\n          node = Q.pop();\n          cmp = compare(node.key, high);\n\n          if (cmp > 0) {\n            break;\n          } else if (compare(node.key, low) >= 0) {\n            if (fn.call(ctx, node)) return this; // stop if smth is returned\n          }\n\n          node = node.right;\n        }\n      }\n\n      return this;\n    };\n    /**\r\n     * Returns array of keys\r\n     */\n\n\n    Tree.prototype.keys = function () {\n      var keys = [];\n      this.forEach(function (_a) {\n        var key = _a.key;\n        return keys.push(key);\n      });\n      return keys;\n    };\n    /**\r\n     * Returns array of all the data in the nodes\r\n     */\n\n\n    Tree.prototype.values = function () {\n      var values = [];\n      this.forEach(function (_a) {\n        var data = _a.data;\n        return values.push(data);\n      });\n      return values;\n    };\n\n    Tree.prototype.min = function () {\n      if (this._root) return this.minNode(this._root).key;\n      return null;\n    };\n\n    Tree.prototype.max = function () {\n      if (this._root) return this.maxNode(this._root).key;\n      return null;\n    };\n\n    Tree.prototype.minNode = function (t) {\n      if (t === void 0) {\n        t = this._root;\n      }\n\n      if (t) while (t.left) {\n        t = t.left;\n      }\n      return t;\n    };\n\n    Tree.prototype.maxNode = function (t) {\n      if (t === void 0) {\n        t = this._root;\n      }\n\n      if (t) while (t.right) {\n        t = t.right;\n      }\n      return t;\n    };\n    /**\r\n     * Returns node at given index\r\n     */\n\n\n    Tree.prototype.at = function (index) {\n      var current = this._root;\n      var done = false;\n      var i = 0;\n      var Q = [];\n\n      while (!done) {\n        if (current) {\n          Q.push(current);\n          current = current.left;\n        } else {\n          if (Q.length > 0) {\n            current = Q.pop();\n            if (i === index) return current;\n            i++;\n            current = current.right;\n          } else done = true;\n        }\n      }\n\n      return null;\n    };\n\n    Tree.prototype.next = function (d) {\n      var root = this._root;\n      var successor = null;\n\n      if (d.right) {\n        successor = d.right;\n\n        while (successor.left) {\n          successor = successor.left;\n        }\n\n        return successor;\n      }\n\n      var comparator = this._comparator;\n\n      while (root) {\n        var cmp = comparator(d.key, root.key);\n        if (cmp === 0) break;else if (cmp < 0) {\n          successor = root;\n          root = root.left;\n        } else root = root.right;\n      }\n\n      return successor;\n    };\n\n    Tree.prototype.prev = function (d) {\n      var root = this._root;\n      var predecessor = null;\n\n      if (d.left !== null) {\n        predecessor = d.left;\n\n        while (predecessor.right) {\n          predecessor = predecessor.right;\n        }\n\n        return predecessor;\n      }\n\n      var comparator = this._comparator;\n\n      while (root) {\n        var cmp = comparator(d.key, root.key);\n        if (cmp === 0) break;else if (cmp < 0) root = root.left;else {\n          predecessor = root;\n          root = root.right;\n        }\n      }\n\n      return predecessor;\n    };\n\n    Tree.prototype.clear = function () {\n      this._root = null;\n      this._size = 0;\n      return this;\n    };\n\n    Tree.prototype.toList = function () {\n      return toList(this._root);\n    };\n    /**\r\n     * Bulk-load items. Both array have to be same size\r\n     */\n\n\n    Tree.prototype.load = function (keys, values, presort) {\n      if (values === void 0) {\n        values = [];\n      }\n\n      if (presort === void 0) {\n        presort = false;\n      }\n\n      var size = keys.length;\n      var comparator = this._comparator; // sort if needed\n\n      if (presort) sort(keys, values, 0, size - 1, comparator);\n\n      if (this._root === null) {\n        // empty tree\n        this._root = loadRecursive(keys, values, 0, size);\n        this._size = size;\n      } else {\n        // that re-builds the whole tree from two in-order traversals\n        var mergedList = mergeLists(this.toList(), createList(keys, values), comparator);\n        size = this._size + size;\n        this._root = sortedListToBST({\n          head: mergedList\n        }, 0, size);\n      }\n\n      return this;\n    };\n\n    Tree.prototype.isEmpty = function () {\n      return this._root === null;\n    };\n\n    Object.defineProperty(Tree.prototype, \"size\", {\n      get: function get() {\n        return this._size;\n      },\n      enumerable: true,\n      configurable: true\n    });\n    Object.defineProperty(Tree.prototype, \"root\", {\n      get: function get() {\n        return this._root;\n      },\n      enumerable: true,\n      configurable: true\n    });\n\n    Tree.prototype.toString = function (printNode) {\n      if (printNode === void 0) {\n        printNode = function printNode(n) {\n          return String(n.key);\n        };\n      }\n\n      var out = [];\n      printRow(this._root, '', true, function (v) {\n        return out.push(v);\n      }, printNode);\n      return out.join('');\n    };\n\n    Tree.prototype.update = function (key, newKey, newData) {\n      var comparator = this._comparator;\n\n      var _a = split(key, this._root, comparator),\n          left = _a.left,\n          right = _a.right;\n\n      if (comparator(key, newKey) < 0) {\n        right = insert(newKey, newData, right, comparator);\n      } else {\n        left = insert(newKey, newData, left, comparator);\n      }\n\n      this._root = merge(left, right, comparator);\n    };\n\n    Tree.prototype.split = function (key) {\n      return split(key, this._root, this._comparator);\n    };\n\n    return Tree;\n  }();\n\n  function loadRecursive(keys, values, start, end) {\n    var size = end - start;\n\n    if (size > 0) {\n      var middle = start + Math.floor(size / 2);\n      var key = keys[middle];\n      var data = values[middle];\n      var node = new Node(key, data);\n      node.left = loadRecursive(keys, values, start, middle);\n      node.right = loadRecursive(keys, values, middle + 1, end);\n      return node;\n    }\n\n    return null;\n  }\n\n  function createList(keys, values) {\n    var head = new Node(null, null);\n    var p = head;\n\n    for (var i = 0; i < keys.length; i++) {\n      p = p.next = new Node(keys[i], values[i]);\n    }\n\n    p.next = null;\n    return head.next;\n  }\n\n  function toList(root) {\n    var current = root;\n    var Q = [];\n    var done = false;\n    var head = new Node(null, null);\n    var p = head;\n\n    while (!done) {\n      if (current) {\n        Q.push(current);\n        current = current.left;\n      } else {\n        if (Q.length > 0) {\n          current = p = p.next = Q.pop();\n          current = current.right;\n        } else done = true;\n      }\n    }\n\n    p.next = null; // that'll work even if the tree was empty\n\n    return head.next;\n  }\n\n  function sortedListToBST(list, start, end) {\n    var size = end - start;\n\n    if (size > 0) {\n      var middle = start + Math.floor(size / 2);\n      var left = sortedListToBST(list, start, middle);\n      var root = list.head;\n      root.left = left;\n      list.head = list.head.next;\n      root.right = sortedListToBST(list, middle + 1, end);\n      return root;\n    }\n\n    return null;\n  }\n\n  function mergeLists(l1, l2, compare) {\n    var head = new Node(null, null); // dummy\n\n    var p = head;\n    var p1 = l1;\n    var p2 = l2;\n\n    while (p1 !== null && p2 !== null) {\n      if (compare(p1.key, p2.key) < 0) {\n        p.next = p1;\n        p1 = p1.next;\n      } else {\n        p.next = p2;\n        p2 = p2.next;\n      }\n\n      p = p.next;\n    }\n\n    if (p1 !== null) {\n      p.next = p1;\n    } else if (p2 !== null) {\n      p.next = p2;\n    }\n\n    return head.next;\n  }\n\n  function sort(keys, values, left, right, compare) {\n    if (left >= right) return;\n    var pivot = keys[left + right >> 1];\n    var i = left - 1;\n    var j = right + 1;\n\n    while (true) {\n      do {\n        i++;\n      } while (compare(keys[i], pivot) < 0);\n\n      do {\n        j--;\n      } while (compare(keys[j], pivot) > 0);\n\n      if (i >= j) break;\n      var tmp = keys[i];\n      keys[i] = keys[j];\n      keys[j] = tmp;\n      tmp = values[i];\n      values[i] = values[j];\n      values[j] = tmp;\n    }\n\n    sort(keys, values, left, j, compare);\n    sort(keys, values, j + 1, right, compare);\n  }\n\n  /**\n   * A bounding box has the format:\n   *\n   *  { ll: { x: xmin, y: ymin }, ur: { x: xmax, y: ymax } }\n   *\n   */\n  var isInBbox = function isInBbox(bbox, point) {\n    return bbox.ll.x <= point.x && point.x <= bbox.ur.x && bbox.ll.y <= point.y && point.y <= bbox.ur.y;\n  };\n  /* Returns either null, or a bbox (aka an ordered pair of points)\n   * If there is only one point of overlap, a bbox with identical points\n   * will be returned */\n\n  var getBboxOverlap = function getBboxOverlap(b1, b2) {\n    // check if the bboxes overlap at all\n    if (b2.ur.x < b1.ll.x || b1.ur.x < b2.ll.x || b2.ur.y < b1.ll.y || b1.ur.y < b2.ll.y) return null; // find the middle two X values\n\n    var lowerX = b1.ll.x < b2.ll.x ? b2.ll.x : b1.ll.x;\n    var upperX = b1.ur.x < b2.ur.x ? b1.ur.x : b2.ur.x; // find the middle two Y values\n\n    var lowerY = b1.ll.y < b2.ll.y ? b2.ll.y : b1.ll.y;\n    var upperY = b1.ur.y < b2.ur.y ? b1.ur.y : b2.ur.y; // put those middle values together to get the overlap\n\n    return {\n      ll: {\n        x: lowerX,\n        y: lowerY\n      },\n      ur: {\n        x: upperX,\n        y: upperY\n      }\n    };\n  };\n\n  /* Javascript doesn't do integer math. Everything is\n   * floating point with percision Number.EPSILON.\n   *\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/EPSILON\n   */\n  var epsilon = Number.EPSILON; // IE Polyfill\n\n  if (epsilon === undefined) epsilon = Math.pow(2, -52);\n  var EPSILON_SQ = epsilon * epsilon;\n  /* FLP comparator */\n\n  var cmp = function cmp(a, b) {\n    // check if they're both 0\n    if (-epsilon < a && a < epsilon) {\n      if (-epsilon < b && b < epsilon) {\n        return 0;\n      }\n    } // check if they're flp equal\n\n\n    var ab = a - b;\n\n    if (ab * ab < EPSILON_SQ * a * b) {\n      return 0;\n    } // normal comparison\n\n\n    return a < b ? -1 : 1;\n  };\n\n  /**\n   * This class rounds incoming values sufficiently so that\n   * floating points problems are, for the most part, avoided.\n   *\n   * Incoming points are have their x & y values tested against\n   * all previously seen x & y values. If either is 'too close'\n   * to a previously seen value, it's value is 'snapped' to the\n   * previously seen value.\n   *\n   * All points should be rounded by this class before being\n   * stored in any data structures in the rest of this algorithm.\n   */\n\n  var PtRounder = /*#__PURE__*/function () {\n    function PtRounder() {\n      _classCallCheck(this, PtRounder);\n\n      this.reset();\n    }\n\n    _createClass(PtRounder, [{\n      key: \"reset\",\n      value: function reset() {\n        this.xRounder = new CoordRounder();\n        this.yRounder = new CoordRounder();\n      }\n    }, {\n      key: \"round\",\n      value: function round(x, y) {\n        return {\n          x: this.xRounder.round(x),\n          y: this.yRounder.round(y)\n        };\n      }\n    }]);\n\n    return PtRounder;\n  }();\n\n  var CoordRounder = /*#__PURE__*/function () {\n    function CoordRounder() {\n      _classCallCheck(this, CoordRounder);\n\n      this.tree = new Tree(); // preseed with 0 so we don't end up with values < Number.EPSILON\n\n      this.round(0);\n    } // Note: this can rounds input values backwards or forwards.\n    //       You might ask, why not restrict this to just rounding\n    //       forwards? Wouldn't that allow left endpoints to always\n    //       remain left endpoints during splitting (never change to\n    //       right). No - it wouldn't, because we snap intersections\n    //       to endpoints (to establish independence from the segment\n    //       angle for t-intersections).\n\n\n    _createClass(CoordRounder, [{\n      key: \"round\",\n      value: function round(coord) {\n        var node = this.tree.add(coord);\n        var prevNode = this.tree.prev(node);\n\n        if (prevNode !== null && cmp(node.key, prevNode.key) === 0) {\n          this.tree.remove(coord);\n          return prevNode.key;\n        }\n\n        var nextNode = this.tree.next(node);\n\n        if (nextNode !== null && cmp(node.key, nextNode.key) === 0) {\n          this.tree.remove(coord);\n          return nextNode.key;\n        }\n\n        return coord;\n      }\n    }]);\n\n    return CoordRounder;\n  }(); // singleton available by import\n\n\n  var rounder = new PtRounder();\n\n  /* Cross Product of two vectors with first point at origin */\n\n  var crossProduct = function crossProduct(a, b) {\n    return a.x * b.y - a.y * b.x;\n  };\n  /* Dot Product of two vectors with first point at origin */\n\n  var dotProduct = function dotProduct(a, b) {\n    return a.x * b.x + a.y * b.y;\n  };\n  /* Comparator for two vectors with same starting point */\n\n  var compareVectorAngles = function compareVectorAngles(basePt, endPt1, endPt2) {\n    var v1 = {\n      x: endPt1.x - basePt.x,\n      y: endPt1.y - basePt.y\n    };\n    var v2 = {\n      x: endPt2.x - basePt.x,\n      y: endPt2.y - basePt.y\n    };\n    var kross = crossProduct(v1, v2);\n    return cmp(kross, 0);\n  };\n  var length = function length(v) {\n    return Math.sqrt(dotProduct(v, v));\n  };\n  /* Get the sine of the angle from pShared -> pAngle to pShaed -> pBase */\n\n  var sineOfAngle = function sineOfAngle(pShared, pBase, pAngle) {\n    var vBase = {\n      x: pBase.x - pShared.x,\n      y: pBase.y - pShared.y\n    };\n    var vAngle = {\n      x: pAngle.x - pShared.x,\n      y: pAngle.y - pShared.y\n    };\n    return crossProduct(vAngle, vBase) / length(vAngle) / length(vBase);\n  };\n  /* Get the cosine of the angle from pShared -> pAngle to pShaed -> pBase */\n\n  var cosineOfAngle = function cosineOfAngle(pShared, pBase, pAngle) {\n    var vBase = {\n      x: pBase.x - pShared.x,\n      y: pBase.y - pShared.y\n    };\n    var vAngle = {\n      x: pAngle.x - pShared.x,\n      y: pAngle.y - pShared.y\n    };\n    return dotProduct(vAngle, vBase) / length(vAngle) / length(vBase);\n  };\n  /* Get the x coordinate where the given line (defined by a point and vector)\n   * crosses the horizontal line with the given y coordiante.\n   * In the case of parrallel lines (including overlapping ones) returns null. */\n\n  var horizontalIntersection = function horizontalIntersection(pt, v, y) {\n    if (v.y === 0) return null;\n    return {\n      x: pt.x + v.x / v.y * (y - pt.y),\n      y: y\n    };\n  };\n  /* Get the y coordinate where the given line (defined by a point and vector)\n   * crosses the vertical line with the given x coordiante.\n   * In the case of parrallel lines (including overlapping ones) returns null. */\n\n  var verticalIntersection = function verticalIntersection(pt, v, x) {\n    if (v.x === 0) return null;\n    return {\n      x: x,\n      y: pt.y + v.y / v.x * (x - pt.x)\n    };\n  };\n  /* Get the intersection of two lines, each defined by a base point and a vector.\n   * In the case of parrallel lines (including overlapping ones) returns null. */\n\n  var intersection = function intersection(pt1, v1, pt2, v2) {\n    // take some shortcuts for vertical and horizontal lines\n    // this also ensures we don't calculate an intersection and then discover\n    // it's actually outside the bounding box of the line\n    if (v1.x === 0) return verticalIntersection(pt2, v2, pt1.x);\n    if (v2.x === 0) return verticalIntersection(pt1, v1, pt2.x);\n    if (v1.y === 0) return horizontalIntersection(pt2, v2, pt1.y);\n    if (v2.y === 0) return horizontalIntersection(pt1, v1, pt2.y); // General case for non-overlapping segments.\n    // This algorithm is based on Schneider and Eberly.\n    // http://www.cimec.org.ar/~ncalvo/Schneider_Eberly.pdf - pg 244\n\n    var kross = crossProduct(v1, v2);\n    if (kross == 0) return null;\n    var ve = {\n      x: pt2.x - pt1.x,\n      y: pt2.y - pt1.y\n    };\n    var d1 = crossProduct(ve, v1) / kross;\n    var d2 = crossProduct(ve, v2) / kross; // take the average of the two calculations to minimize rounding error\n\n    var x1 = pt1.x + d2 * v1.x,\n        x2 = pt2.x + d1 * v2.x;\n    var y1 = pt1.y + d2 * v1.y,\n        y2 = pt2.y + d1 * v2.y;\n    var x = (x1 + x2) / 2;\n    var y = (y1 + y2) / 2;\n    return {\n      x: x,\n      y: y\n    };\n  };\n\n  var SweepEvent = /*#__PURE__*/function () {\n    _createClass(SweepEvent, null, [{\n      key: \"compare\",\n      // for ordering sweep events in the sweep event queue\n      value: function compare(a, b) {\n        // favor event with a point that the sweep line hits first\n        var ptCmp = SweepEvent.comparePoints(a.point, b.point);\n        if (ptCmp !== 0) return ptCmp; // the points are the same, so link them if needed\n\n        if (a.point !== b.point) a.link(b); // favor right events over left\n\n        if (a.isLeft !== b.isLeft) return a.isLeft ? 1 : -1; // we have two matching left or right endpoints\n        // ordering of this case is the same as for their segments\n\n        return Segment.compare(a.segment, b.segment);\n      } // for ordering points in sweep line order\n\n    }, {\n      key: \"comparePoints\",\n      value: function comparePoints(aPt, bPt) {\n        if (aPt.x < bPt.x) return -1;\n        if (aPt.x > bPt.x) return 1;\n        if (aPt.y < bPt.y) return -1;\n        if (aPt.y > bPt.y) return 1;\n        return 0;\n      } // Warning: 'point' input will be modified and re-used (for performance)\n\n    }]);\n\n    function SweepEvent(point, isLeft) {\n      _classCallCheck(this, SweepEvent);\n\n      if (point.events === undefined) point.events = [this];else point.events.push(this);\n      this.point = point;\n      this.isLeft = isLeft; // this.segment, this.otherSE set by factory\n    }\n\n    _createClass(SweepEvent, [{\n      key: \"link\",\n      value: function link(other) {\n        if (other.point === this.point) {\n          throw new Error('Tried to link already linked events');\n        }\n\n        var otherEvents = other.point.events;\n\n        for (var i = 0, iMax = otherEvents.length; i < iMax; i++) {\n          var evt = otherEvents[i];\n          this.point.events.push(evt);\n          evt.point = this.point;\n        }\n\n        this.checkForConsuming();\n      }\n      /* Do a pass over our linked events and check to see if any pair\n       * of segments match, and should be consumed. */\n\n    }, {\n      key: \"checkForConsuming\",\n      value: function checkForConsuming() {\n        // FIXME: The loops in this method run O(n^2) => no good.\n        //        Maintain little ordered sweep event trees?\n        //        Can we maintaining an ordering that avoids the need\n        //        for the re-sorting with getLeftmostComparator in geom-out?\n        // Compare each pair of events to see if other events also match\n        var numEvents = this.point.events.length;\n\n        for (var i = 0; i < numEvents; i++) {\n          var evt1 = this.point.events[i];\n          if (evt1.segment.consumedBy !== undefined) continue;\n\n          for (var j = i + 1; j < numEvents; j++) {\n            var evt2 = this.point.events[j];\n            if (evt2.consumedBy !== undefined) continue;\n            if (evt1.otherSE.point.events !== evt2.otherSE.point.events) continue;\n            evt1.segment.consume(evt2.segment);\n          }\n        }\n      }\n    }, {\n      key: \"getAvailableLinkedEvents\",\n      value: function getAvailableLinkedEvents() {\n        // point.events is always of length 2 or greater\n        var events = [];\n\n        for (var i = 0, iMax = this.point.events.length; i < iMax; i++) {\n          var evt = this.point.events[i];\n\n          if (evt !== this && !evt.segment.ringOut && evt.segment.isInResult()) {\n            events.push(evt);\n          }\n        }\n\n        return events;\n      }\n      /**\n       * Returns a comparator function for sorting linked events that will\n       * favor the event that will give us the smallest left-side angle.\n       * All ring construction starts as low as possible heading to the right,\n       * so by always turning left as sharp as possible we'll get polygons\n       * without uncessary loops & holes.\n       *\n       * The comparator function has a compute cache such that it avoids\n       * re-computing already-computed values.\n       */\n\n    }, {\n      key: \"getLeftmostComparator\",\n      value: function getLeftmostComparator(baseEvent) {\n        var _this = this;\n\n        var cache = new Map();\n\n        var fillCache = function fillCache(linkedEvent) {\n          var nextEvent = linkedEvent.otherSE;\n          cache.set(linkedEvent, {\n            sine: sineOfAngle(_this.point, baseEvent.point, nextEvent.point),\n            cosine: cosineOfAngle(_this.point, baseEvent.point, nextEvent.point)\n          });\n        };\n\n        return function (a, b) {\n          if (!cache.has(a)) fillCache(a);\n          if (!cache.has(b)) fillCache(b);\n\n          var _cache$get = cache.get(a),\n              asine = _cache$get.sine,\n              acosine = _cache$get.cosine;\n\n          var _cache$get2 = cache.get(b),\n              bsine = _cache$get2.sine,\n              bcosine = _cache$get2.cosine; // both on or above x-axis\n\n\n          if (asine >= 0 && bsine >= 0) {\n            if (acosine < bcosine) return 1;\n            if (acosine > bcosine) return -1;\n            return 0;\n          } // both below x-axis\n\n\n          if (asine < 0 && bsine < 0) {\n            if (acosine < bcosine) return -1;\n            if (acosine > bcosine) return 1;\n            return 0;\n          } // one above x-axis, one below\n\n\n          if (bsine < asine) return -1;\n          if (bsine > asine) return 1;\n          return 0;\n        };\n      }\n    }]);\n\n    return SweepEvent;\n  }();\n\n  // segments and sweep events when all else is identical\n\n  var segmentId = 0;\n\n  var Segment = /*#__PURE__*/function () {\n    _createClass(Segment, null, [{\n      key: \"compare\",\n\n      /* This compare() function is for ordering segments in the sweep\n       * line tree, and does so according to the following criteria:\n       *\n       * Consider the vertical line that lies an infinestimal step to the\n       * right of the right-more of the two left endpoints of the input\n       * segments. Imagine slowly moving a point up from negative infinity\n       * in the increasing y direction. Which of the two segments will that\n       * point intersect first? That segment comes 'before' the other one.\n       *\n       * If neither segment would be intersected by such a line, (if one\n       * or more of the segments are vertical) then the line to be considered\n       * is directly on the right-more of the two left inputs.\n       */\n      value: function compare(a, b) {\n        var alx = a.leftSE.point.x;\n        var blx = b.leftSE.point.x;\n        var arx = a.rightSE.point.x;\n        var brx = b.rightSE.point.x; // check if they're even in the same vertical plane\n\n        if (brx < alx) return 1;\n        if (arx < blx) return -1;\n        var aly = a.leftSE.point.y;\n        var bly = b.leftSE.point.y;\n        var ary = a.rightSE.point.y;\n        var bry = b.rightSE.point.y; // is left endpoint of segment B the right-more?\n\n        if (alx < blx) {\n          // are the two segments in the same horizontal plane?\n          if (bly < aly && bly < ary) return 1;\n          if (bly > aly && bly > ary) return -1; // is the B left endpoint colinear to segment A?\n\n          var aCmpBLeft = a.comparePoint(b.leftSE.point);\n          if (aCmpBLeft < 0) return 1;\n          if (aCmpBLeft > 0) return -1; // is the A right endpoint colinear to segment B ?\n\n          var bCmpARight = b.comparePoint(a.rightSE.point);\n          if (bCmpARight !== 0) return bCmpARight; // colinear segments, consider the one with left-more\n          // left endpoint to be first (arbitrary?)\n\n          return -1;\n        } // is left endpoint of segment A the right-more?\n\n\n        if (alx > blx) {\n          if (aly < bly && aly < bry) return -1;\n          if (aly > bly && aly > bry) return 1; // is the A left endpoint colinear to segment B?\n\n          var bCmpALeft = b.comparePoint(a.leftSE.point);\n          if (bCmpALeft !== 0) return bCmpALeft; // is the B right endpoint colinear to segment A?\n\n          var aCmpBRight = a.comparePoint(b.rightSE.point);\n          if (aCmpBRight < 0) return 1;\n          if (aCmpBRight > 0) return -1; // colinear segments, consider the one with left-more\n          // left endpoint to be first (arbitrary?)\n\n          return 1;\n        } // if we get here, the two left endpoints are in the same\n        // vertical plane, ie alx === blx\n        // consider the lower left-endpoint to come first\n\n\n        if (aly < bly) return -1;\n        if (aly > bly) return 1; // left endpoints are identical\n        // check for colinearity by using the left-more right endpoint\n        // is the A right endpoint more left-more?\n\n        if (arx < brx) {\n          var _bCmpARight = b.comparePoint(a.rightSE.point);\n\n          if (_bCmpARight !== 0) return _bCmpARight;\n        } // is the B right endpoint more left-more?\n\n\n        if (arx > brx) {\n          var _aCmpBRight = a.comparePoint(b.rightSE.point);\n\n          if (_aCmpBRight < 0) return 1;\n          if (_aCmpBRight > 0) return -1;\n        }\n\n        if (arx !== brx) {\n          // are these two [almost] vertical segments with opposite orientation?\n          // if so, the one with the lower right endpoint comes first\n          var ay = ary - aly;\n          var ax = arx - alx;\n          var by = bry - bly;\n          var bx = brx - blx;\n          if (ay > ax && by < bx) return 1;\n          if (ay < ax && by > bx) return -1;\n        } // we have colinear segments with matching orientation\n        // consider the one with more left-more right endpoint to be first\n\n\n        if (arx > brx) return 1;\n        if (arx < brx) return -1; // if we get here, two two right endpoints are in the same\n        // vertical plane, ie arx === brx\n        // consider the lower right-endpoint to come first\n\n        if (ary < bry) return -1;\n        if (ary > bry) return 1; // right endpoints identical as well, so the segments are idential\n        // fall back on creation order as consistent tie-breaker\n\n        if (a.id < b.id) return -1;\n        if (a.id > b.id) return 1; // identical segment, ie a === b\n\n        return 0;\n      }\n      /* Warning: a reference to ringWindings input will be stored,\n       *  and possibly will be later modified */\n\n    }]);\n\n    function Segment(leftSE, rightSE, rings, windings) {\n      _classCallCheck(this, Segment);\n\n      this.id = ++segmentId;\n      this.leftSE = leftSE;\n      leftSE.segment = this;\n      leftSE.otherSE = rightSE;\n      this.rightSE = rightSE;\n      rightSE.segment = this;\n      rightSE.otherSE = leftSE;\n      this.rings = rings;\n      this.windings = windings; // left unset for performance, set later in algorithm\n      // this.ringOut, this.consumedBy, this.prev\n    }\n\n    _createClass(Segment, [{\n      key: \"replaceRightSE\",\n\n      /* When a segment is split, the rightSE is replaced with a new sweep event */\n      value: function replaceRightSE(newRightSE) {\n        this.rightSE = newRightSE;\n        this.rightSE.segment = this;\n        this.rightSE.otherSE = this.leftSE;\n        this.leftSE.otherSE = this.rightSE;\n      }\n    }, {\n      key: \"bbox\",\n      value: function bbox() {\n        var y1 = this.leftSE.point.y;\n        var y2 = this.rightSE.point.y;\n        return {\n          ll: {\n            x: this.leftSE.point.x,\n            y: y1 < y2 ? y1 : y2\n          },\n          ur: {\n            x: this.rightSE.point.x,\n            y: y1 > y2 ? y1 : y2\n          }\n        };\n      }\n      /* A vector from the left point to the right */\n\n    }, {\n      key: \"vector\",\n      value: function vector() {\n        return {\n          x: this.rightSE.point.x - this.leftSE.point.x,\n          y: this.rightSE.point.y - this.leftSE.point.y\n        };\n      }\n    }, {\n      key: \"isAnEndpoint\",\n      value: function isAnEndpoint(pt) {\n        return pt.x === this.leftSE.point.x && pt.y === this.leftSE.point.y || pt.x === this.rightSE.point.x && pt.y === this.rightSE.point.y;\n      }\n      /* Compare this segment with a point.\n       *\n       * A point P is considered to be colinear to a segment if there\n       * exists a distance D such that if we travel along the segment\n       * from one * endpoint towards the other a distance D, we find\n       * ourselves at point P.\n       *\n       * Return value indicates:\n       *\n       *   1: point lies above the segment (to the left of vertical)\n       *   0: point is colinear to segment\n       *  -1: point lies below the segment (to the right of vertical)\n       */\n\n    }, {\n      key: \"comparePoint\",\n      value: function comparePoint(point) {\n        if (this.isAnEndpoint(point)) return 0;\n        var lPt = this.leftSE.point;\n        var rPt = this.rightSE.point;\n        var v = this.vector(); // Exactly vertical segments.\n\n        if (lPt.x === rPt.x) {\n          if (point.x === lPt.x) return 0;\n          return point.x < lPt.x ? 1 : -1;\n        } // Nearly vertical segments with an intersection.\n        // Check to see where a point on the line with matching Y coordinate is.\n\n\n        var yDist = (point.y - lPt.y) / v.y;\n        var xFromYDist = lPt.x + yDist * v.x;\n        if (point.x === xFromYDist) return 0; // General case.\n        // Check to see where a point on the line with matching X coordinate is.\n\n        var xDist = (point.x - lPt.x) / v.x;\n        var yFromXDist = lPt.y + xDist * v.y;\n        if (point.y === yFromXDist) return 0;\n        return point.y < yFromXDist ? -1 : 1;\n      }\n      /**\n       * Given another segment, returns the first non-trivial intersection\n       * between the two segments (in terms of sweep line ordering), if it exists.\n       *\n       * A 'non-trivial' intersection is one that will cause one or both of the\n       * segments to be split(). As such, 'trivial' vs. 'non-trivial' intersection:\n       *\n       *   * endpoint of segA with endpoint of segB --> trivial\n       *   * endpoint of segA with point along segB --> non-trivial\n       *   * endpoint of segB with point along segA --> non-trivial\n       *   * point along segA with point along segB --> non-trivial\n       *\n       * If no non-trivial intersection exists, return null\n       * Else, return null.\n       */\n\n    }, {\n      key: \"getIntersection\",\n      value: function getIntersection(other) {\n        // If bboxes don't overlap, there can't be any intersections\n        var tBbox = this.bbox();\n        var oBbox = other.bbox();\n        var bboxOverlap = getBboxOverlap(tBbox, oBbox);\n        if (bboxOverlap === null) return null; // We first check to see if the endpoints can be considered intersections.\n        // This will 'snap' intersections to endpoints if possible, and will\n        // handle cases of colinearity.\n\n        var tlp = this.leftSE.point;\n        var trp = this.rightSE.point;\n        var olp = other.leftSE.point;\n        var orp = other.rightSE.point; // does each endpoint touch the other segment?\n        // note that we restrict the 'touching' definition to only allow segments\n        // to touch endpoints that lie forward from where we are in the sweep line pass\n\n        var touchesOtherLSE = isInBbox(tBbox, olp) && this.comparePoint(olp) === 0;\n        var touchesThisLSE = isInBbox(oBbox, tlp) && other.comparePoint(tlp) === 0;\n        var touchesOtherRSE = isInBbox(tBbox, orp) && this.comparePoint(orp) === 0;\n        var touchesThisRSE = isInBbox(oBbox, trp) && other.comparePoint(trp) === 0; // do left endpoints match?\n\n        if (touchesThisLSE && touchesOtherLSE) {\n          // these two cases are for colinear segments with matching left\n          // endpoints, and one segment being longer than the other\n          if (touchesThisRSE && !touchesOtherRSE) return trp;\n          if (!touchesThisRSE && touchesOtherRSE) return orp; // either the two segments match exactly (two trival intersections)\n          // or just on their left endpoint (one trivial intersection\n\n          return null;\n        } // does this left endpoint matches (other doesn't)\n\n\n        if (touchesThisLSE) {\n          // check for segments that just intersect on opposing endpoints\n          if (touchesOtherRSE) {\n            if (tlp.x === orp.x && tlp.y === orp.y) return null;\n          } // t-intersection on left endpoint\n\n\n          return tlp;\n        } // does other left endpoint matches (this doesn't)\n\n\n        if (touchesOtherLSE) {\n          // check for segments that just intersect on opposing endpoints\n          if (touchesThisRSE) {\n            if (trp.x === olp.x && trp.y === olp.y) return null;\n          } // t-intersection on left endpoint\n\n\n          return olp;\n        } // trivial intersection on right endpoints\n\n\n        if (touchesThisRSE && touchesOtherRSE) return null; // t-intersections on just one right endpoint\n\n        if (touchesThisRSE) return trp;\n        if (touchesOtherRSE) return orp; // None of our endpoints intersect. Look for a general intersection between\n        // infinite lines laid over the segments\n\n        var pt = intersection(tlp, this.vector(), olp, other.vector()); // are the segments parrallel? Note that if they were colinear with overlap,\n        // they would have an endpoint intersection and that case was already handled above\n\n        if (pt === null) return null; // is the intersection found between the lines not on the segments?\n\n        if (!isInBbox(bboxOverlap, pt)) return null; // round the the computed point if needed\n\n        return rounder.round(pt.x, pt.y);\n      }\n      /**\n       * Split the given segment into multiple segments on the given points.\n       *  * Each existing segment will retain its leftSE and a new rightSE will be\n       *    generated for it.\n       *  * A new segment will be generated which will adopt the original segment's\n       *    rightSE, and a new leftSE will be generated for it.\n       *  * If there are more than two points given to split on, new segments\n       *    in the middle will be generated with new leftSE and rightSE's.\n       *  * An array of the newly generated SweepEvents will be returned.\n       *\n       * Warning: input array of points is modified\n       */\n\n    }, {\n      key: \"split\",\n      value: function split(point) {\n        var newEvents = [];\n        var alreadyLinked = point.events !== undefined;\n        var newLeftSE = new SweepEvent(point, true);\n        var newRightSE = new SweepEvent(point, false);\n        var oldRightSE = this.rightSE;\n        this.replaceRightSE(newRightSE);\n        newEvents.push(newRightSE);\n        newEvents.push(newLeftSE);\n        var newSeg = new Segment(newLeftSE, oldRightSE, this.rings.slice(), this.windings.slice()); // when splitting a nearly vertical downward-facing segment,\n        // sometimes one of the resulting new segments is vertical, in which\n        // case its left and right events may need to be swapped\n\n        if (SweepEvent.comparePoints(newSeg.leftSE.point, newSeg.rightSE.point) > 0) {\n          newSeg.swapEvents();\n        }\n\n        if (SweepEvent.comparePoints(this.leftSE.point, this.rightSE.point) > 0) {\n          this.swapEvents();\n        } // in the point we just used to create new sweep events with was already\n        // linked to other events, we need to check if either of the affected\n        // segments should be consumed\n\n\n        if (alreadyLinked) {\n          newLeftSE.checkForConsuming();\n          newRightSE.checkForConsuming();\n        }\n\n        return newEvents;\n      }\n      /* Swap which event is left and right */\n\n    }, {\n      key: \"swapEvents\",\n      value: function swapEvents() {\n        var tmpEvt = this.rightSE;\n        this.rightSE = this.leftSE;\n        this.leftSE = tmpEvt;\n        this.leftSE.isLeft = true;\n        this.rightSE.isLeft = false;\n\n        for (var i = 0, iMax = this.windings.length; i < iMax; i++) {\n          this.windings[i] *= -1;\n        }\n      }\n      /* Consume another segment. We take their rings under our wing\n       * and mark them as consumed. Use for perfectly overlapping segments */\n\n    }, {\n      key: \"consume\",\n      value: function consume(other) {\n        var consumer = this;\n        var consumee = other;\n\n        while (consumer.consumedBy) {\n          consumer = consumer.consumedBy;\n        }\n\n        while (consumee.consumedBy) {\n          consumee = consumee.consumedBy;\n        }\n\n        var cmp = Segment.compare(consumer, consumee);\n        if (cmp === 0) return; // already consumed\n        // the winner of the consumption is the earlier segment\n        // according to sweep line ordering\n\n        if (cmp > 0) {\n          var tmp = consumer;\n          consumer = consumee;\n          consumee = tmp;\n        } // make sure a segment doesn't consume it's prev\n\n\n        if (consumer.prev === consumee) {\n          var _tmp = consumer;\n          consumer = consumee;\n          consumee = _tmp;\n        }\n\n        for (var i = 0, iMax = consumee.rings.length; i < iMax; i++) {\n          var ring = consumee.rings[i];\n          var winding = consumee.windings[i];\n          var index = consumer.rings.indexOf(ring);\n\n          if (index === -1) {\n            consumer.rings.push(ring);\n            consumer.windings.push(winding);\n          } else consumer.windings[index] += winding;\n        }\n\n        consumee.rings = null;\n        consumee.windings = null;\n        consumee.consumedBy = consumer; // mark sweep events consumed as to maintain ordering in sweep event queue\n\n        consumee.leftSE.consumedBy = consumer.leftSE;\n        consumee.rightSE.consumedBy = consumer.rightSE;\n      }\n      /* The first segment previous segment chain that is in the result */\n\n    }, {\n      key: \"prevInResult\",\n      value: function prevInResult() {\n        if (this._prevInResult !== undefined) return this._prevInResult;\n        if (!this.prev) this._prevInResult = null;else if (this.prev.isInResult()) this._prevInResult = this.prev;else this._prevInResult = this.prev.prevInResult();\n        return this._prevInResult;\n      }\n    }, {\n      key: \"beforeState\",\n      value: function beforeState() {\n        if (this._beforeState !== undefined) return this._beforeState;\n        if (!this.prev) this._beforeState = {\n          rings: [],\n          windings: [],\n          multiPolys: []\n        };else {\n          var seg = this.prev.consumedBy || this.prev;\n          this._beforeState = seg.afterState();\n        }\n        return this._beforeState;\n      }\n    }, {\n      key: \"afterState\",\n      value: function afterState() {\n        if (this._afterState !== undefined) return this._afterState;\n        var beforeState = this.beforeState();\n        this._afterState = {\n          rings: beforeState.rings.slice(0),\n          windings: beforeState.windings.slice(0),\n          multiPolys: []\n        };\n        var ringsAfter = this._afterState.rings;\n        var windingsAfter = this._afterState.windings;\n        var mpsAfter = this._afterState.multiPolys; // calculate ringsAfter, windingsAfter\n\n        for (var i = 0, iMax = this.rings.length; i < iMax; i++) {\n          var ring = this.rings[i];\n          var winding = this.windings[i];\n          var index = ringsAfter.indexOf(ring);\n\n          if (index === -1) {\n            ringsAfter.push(ring);\n            windingsAfter.push(winding);\n          } else windingsAfter[index] += winding;\n        } // calcualte polysAfter\n\n\n        var polysAfter = [];\n        var polysExclude = [];\n\n        for (var _i = 0, _iMax = ringsAfter.length; _i < _iMax; _i++) {\n          if (windingsAfter[_i] === 0) continue; // non-zero rule\n\n          var _ring = ringsAfter[_i];\n          var poly = _ring.poly;\n          if (polysExclude.indexOf(poly) !== -1) continue;\n          if (_ring.isExterior) polysAfter.push(poly);else {\n            if (polysExclude.indexOf(poly) === -1) polysExclude.push(poly);\n\n            var _index = polysAfter.indexOf(_ring.poly);\n\n            if (_index !== -1) polysAfter.splice(_index, 1);\n          }\n        } // calculate multiPolysAfter\n\n\n        for (var _i2 = 0, _iMax2 = polysAfter.length; _i2 < _iMax2; _i2++) {\n          var mp = polysAfter[_i2].multiPoly;\n          if (mpsAfter.indexOf(mp) === -1) mpsAfter.push(mp);\n        }\n\n        return this._afterState;\n      }\n      /* Is this segment part of the final result? */\n\n    }, {\n      key: \"isInResult\",\n      value: function isInResult() {\n        // if we've been consumed, we're not in the result\n        if (this.consumedBy) return false;\n        if (this._isInResult !== undefined) return this._isInResult;\n        var mpsBefore = this.beforeState().multiPolys;\n        var mpsAfter = this.afterState().multiPolys;\n\n        switch (operation.type) {\n          case 'union':\n            {\n              // UNION - included iff:\n              //  * On one side of us there is 0 poly interiors AND\n              //  * On the other side there is 1 or more.\n              var noBefores = mpsBefore.length === 0;\n              var noAfters = mpsAfter.length === 0;\n              this._isInResult = noBefores !== noAfters;\n              break;\n            }\n\n          case 'intersection':\n            {\n              // INTERSECTION - included iff:\n              //  * on one side of us all multipolys are rep. with poly interiors AND\n              //  * on the other side of us, not all multipolys are repsented\n              //    with poly interiors\n              var least;\n              var most;\n\n              if (mpsBefore.length < mpsAfter.length) {\n                least = mpsBefore.length;\n                most = mpsAfter.length;\n              } else {\n                least = mpsAfter.length;\n                most = mpsBefore.length;\n              }\n\n              this._isInResult = most === operation.numMultiPolys && least < most;\n              break;\n            }\n\n          case 'xor':\n            {\n              // XOR - included iff:\n              //  * the difference between the number of multipolys represented\n              //    with poly interiors on our two sides is an odd number\n              var diff = Math.abs(mpsBefore.length - mpsAfter.length);\n              this._isInResult = diff % 2 === 1;\n              break;\n            }\n\n          case 'difference':\n            {\n              // DIFFERENCE included iff:\n              //  * on exactly one side, we have just the subject\n              var isJustSubject = function isJustSubject(mps) {\n                return mps.length === 1 && mps[0].isSubject;\n              };\n\n              this._isInResult = isJustSubject(mpsBefore) !== isJustSubject(mpsAfter);\n              break;\n            }\n\n          default:\n            throw new Error(\"Unrecognized operation type found \".concat(operation.type));\n        }\n\n        return this._isInResult;\n      }\n    }], [{\n      key: \"fromRing\",\n      value: function fromRing(pt1, pt2, ring) {\n        var leftPt, rightPt, winding; // ordering the two points according to sweep line ordering\n\n        var cmpPts = SweepEvent.comparePoints(pt1, pt2);\n\n        if (cmpPts < 0) {\n          leftPt = pt1;\n          rightPt = pt2;\n          winding = 1;\n        } else if (cmpPts > 0) {\n          leftPt = pt2;\n          rightPt = pt1;\n          winding = -1;\n        } else throw new Error(\"Tried to create degenerate segment at [\".concat(pt1.x, \", \").concat(pt1.y, \"]\"));\n\n        var leftSE = new SweepEvent(leftPt, true);\n        var rightSE = new SweepEvent(rightPt, false);\n        return new Segment(leftSE, rightSE, [ring], [winding]);\n      }\n    }]);\n\n    return Segment;\n  }();\n\n  var RingIn = /*#__PURE__*/function () {\n    function RingIn(geomRing, poly, isExterior) {\n      _classCallCheck(this, RingIn);\n\n      if (!Array.isArray(geomRing) || geomRing.length === 0) {\n        throw new Error('Input geometry is not a valid Polygon or MultiPolygon');\n      }\n\n      this.poly = poly;\n      this.isExterior = isExterior;\n      this.segments = [];\n\n      if (typeof geomRing[0][0] !== 'number' || typeof geomRing[0][1] !== 'number') {\n        throw new Error('Input geometry is not a valid Polygon or MultiPolygon');\n      }\n\n      var firstPoint = rounder.round(geomRing[0][0], geomRing[0][1]);\n      this.bbox = {\n        ll: {\n          x: firstPoint.x,\n          y: firstPoint.y\n        },\n        ur: {\n          x: firstPoint.x,\n          y: firstPoint.y\n        }\n      };\n      var prevPoint = firstPoint;\n\n      for (var i = 1, iMax = geomRing.length; i < iMax; i++) {\n        if (typeof geomRing[i][0] !== 'number' || typeof geomRing[i][1] !== 'number') {\n          throw new Error('Input geometry is not a valid Polygon or MultiPolygon');\n        }\n\n        var point = rounder.round(geomRing[i][0], geomRing[i][1]); // skip repeated points\n\n        if (point.x === prevPoint.x && point.y === prevPoint.y) continue;\n        this.segments.push(Segment.fromRing(prevPoint, point, this));\n        if (point.x < this.bbox.ll.x) this.bbox.ll.x = point.x;\n        if (point.y < this.bbox.ll.y) this.bbox.ll.y = point.y;\n        if (point.x > this.bbox.ur.x) this.bbox.ur.x = point.x;\n        if (point.y > this.bbox.ur.y) this.bbox.ur.y = point.y;\n        prevPoint = point;\n      } // add segment from last to first if last is not the same as first\n\n\n      if (firstPoint.x !== prevPoint.x || firstPoint.y !== prevPoint.y) {\n        this.segments.push(Segment.fromRing(prevPoint, firstPoint, this));\n      }\n    }\n\n    _createClass(RingIn, [{\n      key: \"getSweepEvents\",\n      value: function getSweepEvents() {\n        var sweepEvents = [];\n\n        for (var i = 0, iMax = this.segments.length; i < iMax; i++) {\n          var segment = this.segments[i];\n          sweepEvents.push(segment.leftSE);\n          sweepEvents.push(segment.rightSE);\n        }\n\n        return sweepEvents;\n      }\n    }]);\n\n    return RingIn;\n  }();\n  var PolyIn = /*#__PURE__*/function () {\n    function PolyIn(geomPoly, multiPoly) {\n      _classCallCheck(this, PolyIn);\n\n      if (!Array.isArray(geomPoly)) {\n        throw new Error('Input geometry is not a valid Polygon or MultiPolygon');\n      }\n\n      this.exteriorRing = new RingIn(geomPoly[0], this, true); // copy by value\n\n      this.bbox = {\n        ll: {\n          x: this.exteriorRing.bbox.ll.x,\n          y: this.exteriorRing.bbox.ll.y\n        },\n        ur: {\n          x: this.exteriorRing.bbox.ur.x,\n          y: this.exteriorRing.bbox.ur.y\n        }\n      };\n      this.interiorRings = [];\n\n      for (var i = 1, iMax = geomPoly.length; i < iMax; i++) {\n        var ring = new RingIn(geomPoly[i], this, false);\n        if (ring.bbox.ll.x < this.bbox.ll.x) this.bbox.ll.x = ring.bbox.ll.x;\n        if (ring.bbox.ll.y < this.bbox.ll.y) this.bbox.ll.y = ring.bbox.ll.y;\n        if (ring.bbox.ur.x > this.bbox.ur.x) this.bbox.ur.x = ring.bbox.ur.x;\n        if (ring.bbox.ur.y > this.bbox.ur.y) this.bbox.ur.y = ring.bbox.ur.y;\n        this.interiorRings.push(ring);\n      }\n\n      this.multiPoly = multiPoly;\n    }\n\n    _createClass(PolyIn, [{\n      key: \"getSweepEvents\",\n      value: function getSweepEvents() {\n        var sweepEvents = this.exteriorRing.getSweepEvents();\n\n        for (var i = 0, iMax = this.interiorRings.length; i < iMax; i++) {\n          var ringSweepEvents = this.interiorRings[i].getSweepEvents();\n\n          for (var j = 0, jMax = ringSweepEvents.length; j < jMax; j++) {\n            sweepEvents.push(ringSweepEvents[j]);\n          }\n        }\n\n        return sweepEvents;\n      }\n    }]);\n\n    return PolyIn;\n  }();\n  var MultiPolyIn = /*#__PURE__*/function () {\n    function MultiPolyIn(geom, isSubject) {\n      _classCallCheck(this, MultiPolyIn);\n\n      if (!Array.isArray(geom)) {\n        throw new Error('Input geometry is not a valid Polygon or MultiPolygon');\n      }\n\n      try {\n        // if the input looks like a polygon, convert it to a multipolygon\n        if (typeof geom[0][0][0] === 'number') geom = [geom];\n      } catch (ex) {// The input is either malformed or has empty arrays.\n        // In either case, it will be handled later on.\n      }\n\n      this.polys = [];\n      this.bbox = {\n        ll: {\n          x: Number.POSITIVE_INFINITY,\n          y: Number.POSITIVE_INFINITY\n        },\n        ur: {\n          x: Number.NEGATIVE_INFINITY,\n          y: Number.NEGATIVE_INFINITY\n        }\n      };\n\n      for (var i = 0, iMax = geom.length; i < iMax; i++) {\n        var poly = new PolyIn(geom[i], this);\n        if (poly.bbox.ll.x < this.bbox.ll.x) this.bbox.ll.x = poly.bbox.ll.x;\n        if (poly.bbox.ll.y < this.bbox.ll.y) this.bbox.ll.y = poly.bbox.ll.y;\n        if (poly.bbox.ur.x > this.bbox.ur.x) this.bbox.ur.x = poly.bbox.ur.x;\n        if (poly.bbox.ur.y > this.bbox.ur.y) this.bbox.ur.y = poly.bbox.ur.y;\n        this.polys.push(poly);\n      }\n\n      this.isSubject = isSubject;\n    }\n\n    _createClass(MultiPolyIn, [{\n      key: \"getSweepEvents\",\n      value: function getSweepEvents() {\n        var sweepEvents = [];\n\n        for (var i = 0, iMax = this.polys.length; i < iMax; i++) {\n          var polySweepEvents = this.polys[i].getSweepEvents();\n\n          for (var j = 0, jMax = polySweepEvents.length; j < jMax; j++) {\n            sweepEvents.push(polySweepEvents[j]);\n          }\n        }\n\n        return sweepEvents;\n      }\n    }]);\n\n    return MultiPolyIn;\n  }();\n\n  var RingOut = /*#__PURE__*/function () {\n    _createClass(RingOut, null, [{\n      key: \"factory\",\n\n      /* Given the segments from the sweep line pass, compute & return a series\n       * of closed rings from all the segments marked to be part of the result */\n      value: function factory(allSegments) {\n        var ringsOut = [];\n\n        for (var i = 0, iMax = allSegments.length; i < iMax; i++) {\n          var segment = allSegments[i];\n          if (!segment.isInResult() || segment.ringOut) continue;\n          var prevEvent = null;\n          var event = segment.leftSE;\n          var nextEvent = segment.rightSE;\n          var events = [event];\n          var startingPoint = event.point;\n          var intersectionLEs = [];\n          /* Walk the chain of linked events to form a closed ring */\n\n          while (true) {\n            prevEvent = event;\n            event = nextEvent;\n            events.push(event);\n            /* Is the ring complete? */\n\n            if (event.point === startingPoint) break;\n\n            while (true) {\n              var availableLEs = event.getAvailableLinkedEvents();\n              /* Did we hit a dead end? This shouldn't happen. Indicates some earlier\n               * part of the algorithm malfunctioned... please file a bug report. */\n\n              if (availableLEs.length === 0) {\n                var firstPt = events[0].point;\n                var lastPt = events[events.length - 1].point;\n                throw new Error(\"Unable to complete output ring starting at [\".concat(firstPt.x, \",\") + \" \".concat(firstPt.y, \"]. Last matching segment found ends at\") + \" [\".concat(lastPt.x, \", \").concat(lastPt.y, \"].\"));\n              }\n              /* Only one way to go, so cotinue on the path */\n\n\n              if (availableLEs.length === 1) {\n                nextEvent = availableLEs[0].otherSE;\n                break;\n              }\n              /* We must have an intersection. Check for a completed loop */\n\n\n              var indexLE = null;\n\n              for (var j = 0, jMax = intersectionLEs.length; j < jMax; j++) {\n                if (intersectionLEs[j].point === event.point) {\n                  indexLE = j;\n                  break;\n                }\n              }\n              /* Found a completed loop. Cut that off and make a ring */\n\n\n              if (indexLE !== null) {\n                var intersectionLE = intersectionLEs.splice(indexLE)[0];\n                var ringEvents = events.splice(intersectionLE.index);\n                ringEvents.unshift(ringEvents[0].otherSE);\n                ringsOut.push(new RingOut(ringEvents.reverse()));\n                continue;\n              }\n              /* register the intersection */\n\n\n              intersectionLEs.push({\n                index: events.length,\n                point: event.point\n              });\n              /* Choose the left-most option to continue the walk */\n\n              var comparator = event.getLeftmostComparator(prevEvent);\n              nextEvent = availableLEs.sort(comparator)[0].otherSE;\n              break;\n            }\n          }\n\n          ringsOut.push(new RingOut(events));\n        }\n\n        return ringsOut;\n      }\n    }]);\n\n    function RingOut(events) {\n      _classCallCheck(this, RingOut);\n\n      this.events = events;\n\n      for (var i = 0, iMax = events.length; i < iMax; i++) {\n        events[i].segment.ringOut = this;\n      }\n\n      this.poly = null;\n    }\n\n    _createClass(RingOut, [{\n      key: \"getGeom\",\n      value: function getGeom() {\n        // Remove superfluous points (ie extra points along a straight line),\n        var prevPt = this.events[0].point;\n        var points = [prevPt];\n\n        for (var i = 1, iMax = this.events.length - 1; i < iMax; i++) {\n          var _pt = this.events[i].point;\n          var _nextPt = this.events[i + 1].point;\n          if (compareVectorAngles(_pt, prevPt, _nextPt) === 0) continue;\n          points.push(_pt);\n          prevPt = _pt;\n        } // ring was all (within rounding error of angle calc) colinear points\n\n\n        if (points.length === 1) return null; // check if the starting point is necessary\n\n        var pt = points[0];\n        var nextPt = points[1];\n        if (compareVectorAngles(pt, prevPt, nextPt) === 0) points.shift();\n        points.push(points[0]);\n        var step = this.isExteriorRing() ? 1 : -1;\n        var iStart = this.isExteriorRing() ? 0 : points.length - 1;\n        var iEnd = this.isExteriorRing() ? points.length : -1;\n        var orderedPoints = [];\n\n        for (var _i = iStart; _i != iEnd; _i += step) {\n          orderedPoints.push([points[_i].x, points[_i].y]);\n        }\n\n        return orderedPoints;\n      }\n    }, {\n      key: \"isExteriorRing\",\n      value: function isExteriorRing() {\n        if (this._isExteriorRing === undefined) {\n          var enclosing = this.enclosingRing();\n          this._isExteriorRing = enclosing ? !enclosing.isExteriorRing() : true;\n        }\n\n        return this._isExteriorRing;\n      }\n    }, {\n      key: \"enclosingRing\",\n      value: function enclosingRing() {\n        if (this._enclosingRing === undefined) {\n          this._enclosingRing = this._calcEnclosingRing();\n        }\n\n        return this._enclosingRing;\n      }\n      /* Returns the ring that encloses this one, if any */\n\n    }, {\n      key: \"_calcEnclosingRing\",\n      value: function _calcEnclosingRing() {\n        // start with the ealier sweep line event so that the prevSeg\n        // chain doesn't lead us inside of a loop of ours\n        var leftMostEvt = this.events[0];\n\n        for (var i = 1, iMax = this.events.length; i < iMax; i++) {\n          var evt = this.events[i];\n          if (SweepEvent.compare(leftMostEvt, evt) > 0) leftMostEvt = evt;\n        }\n\n        var prevSeg = leftMostEvt.segment.prevInResult();\n        var prevPrevSeg = prevSeg ? prevSeg.prevInResult() : null;\n\n        while (true) {\n          // no segment found, thus no ring can enclose us\n          if (!prevSeg) return null; // no segments below prev segment found, thus the ring of the prev\n          // segment must loop back around and enclose us\n\n          if (!prevPrevSeg) return prevSeg.ringOut; // if the two segments are of different rings, the ring of the prev\n          // segment must either loop around us or the ring of the prev prev\n          // seg, which would make us and the ring of the prev peers\n\n          if (prevPrevSeg.ringOut !== prevSeg.ringOut) {\n            if (prevPrevSeg.ringOut.enclosingRing() !== prevSeg.ringOut) {\n              return prevSeg.ringOut;\n            } else return prevSeg.ringOut.enclosingRing();\n          } // two segments are from the same ring, so this was a penisula\n          // of that ring. iterate downward, keep searching\n\n\n          prevSeg = prevPrevSeg.prevInResult();\n          prevPrevSeg = prevSeg ? prevSeg.prevInResult() : null;\n        }\n      }\n    }]);\n\n    return RingOut;\n  }();\n  var PolyOut = /*#__PURE__*/function () {\n    function PolyOut(exteriorRing) {\n      _classCallCheck(this, PolyOut);\n\n      this.exteriorRing = exteriorRing;\n      exteriorRing.poly = this;\n      this.interiorRings = [];\n    }\n\n    _createClass(PolyOut, [{\n      key: \"addInterior\",\n      value: function addInterior(ring) {\n        this.interiorRings.push(ring);\n        ring.poly = this;\n      }\n    }, {\n      key: \"getGeom\",\n      value: function getGeom() {\n        var geom = [this.exteriorRing.getGeom()]; // exterior ring was all (within rounding error of angle calc) colinear points\n\n        if (geom[0] === null) return null;\n\n        for (var i = 0, iMax = this.interiorRings.length; i < iMax; i++) {\n          var ringGeom = this.interiorRings[i].getGeom(); // interior ring was all (within rounding error of angle calc) colinear points\n\n          if (ringGeom === null) continue;\n          geom.push(ringGeom);\n        }\n\n        return geom;\n      }\n    }]);\n\n    return PolyOut;\n  }();\n  var MultiPolyOut = /*#__PURE__*/function () {\n    function MultiPolyOut(rings) {\n      _classCallCheck(this, MultiPolyOut);\n\n      this.rings = rings;\n      this.polys = this._composePolys(rings);\n    }\n\n    _createClass(MultiPolyOut, [{\n      key: \"getGeom\",\n      value: function getGeom() {\n        var geom = [];\n\n        for (var i = 0, iMax = this.polys.length; i < iMax; i++) {\n          var polyGeom = this.polys[i].getGeom(); // exterior ring was all (within rounding error of angle calc) colinear points\n\n          if (polyGeom === null) continue;\n          geom.push(polyGeom);\n        }\n\n        return geom;\n      }\n    }, {\n      key: \"_composePolys\",\n      value: function _composePolys(rings) {\n        var polys = [];\n\n        for (var i = 0, iMax = rings.length; i < iMax; i++) {\n          var ring = rings[i];\n          if (ring.poly) continue;\n          if (ring.isExteriorRing()) polys.push(new PolyOut(ring));else {\n            var enclosingRing = ring.enclosingRing();\n            if (!enclosingRing.poly) polys.push(new PolyOut(enclosingRing));\n            enclosingRing.poly.addInterior(ring);\n          }\n        }\n\n        return polys;\n      }\n    }]);\n\n    return MultiPolyOut;\n  }();\n\n  /**\n   * NOTE:  We must be careful not to change any segments while\n   *        they are in the SplayTree. AFAIK, there's no way to tell\n   *        the tree to rebalance itself - thus before splitting\n   *        a segment that's in the tree, we remove it from the tree,\n   *        do the split, then re-insert it. (Even though splitting a\n   *        segment *shouldn't* change its correct position in the\n   *        sweep line tree, the reality is because of rounding errors,\n   *        it sometimes does.)\n   */\n\n  var SweepLine = /*#__PURE__*/function () {\n    function SweepLine(queue) {\n      var comparator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Segment.compare;\n\n      _classCallCheck(this, SweepLine);\n\n      this.queue = queue;\n      this.tree = new Tree(comparator);\n      this.segments = [];\n    }\n\n    _createClass(SweepLine, [{\n      key: \"process\",\n      value: function process(event) {\n        var segment = event.segment;\n        var newEvents = []; // if we've already been consumed by another segment,\n        // clean up our body parts and get out\n\n        if (event.consumedBy) {\n          if (event.isLeft) this.queue.remove(event.otherSE);else this.tree.remove(segment);\n          return newEvents;\n        }\n\n        var node = event.isLeft ? this.tree.insert(segment) : this.tree.find(segment);\n        if (!node) throw new Error(\"Unable to find segment #\".concat(segment.id, \" \") + \"[\".concat(segment.leftSE.point.x, \", \").concat(segment.leftSE.point.y, \"] -> \") + \"[\".concat(segment.rightSE.point.x, \", \").concat(segment.rightSE.point.y, \"] \") + 'in SweepLine tree. Please submit a bug report.');\n        var prevNode = node;\n        var nextNode = node;\n        var prevSeg = undefined;\n        var nextSeg = undefined; // skip consumed segments still in tree\n\n        while (prevSeg === undefined) {\n          prevNode = this.tree.prev(prevNode);\n          if (prevNode === null) prevSeg = null;else if (prevNode.key.consumedBy === undefined) prevSeg = prevNode.key;\n        } // skip consumed segments still in tree\n\n\n        while (nextSeg === undefined) {\n          nextNode = this.tree.next(nextNode);\n          if (nextNode === null) nextSeg = null;else if (nextNode.key.consumedBy === undefined) nextSeg = nextNode.key;\n        }\n\n        if (event.isLeft) {\n          // Check for intersections against the previous segment in the sweep line\n          var prevMySplitter = null;\n\n          if (prevSeg) {\n            var prevInter = prevSeg.getIntersection(segment);\n\n            if (prevInter !== null) {\n              if (!segment.isAnEndpoint(prevInter)) prevMySplitter = prevInter;\n\n              if (!prevSeg.isAnEndpoint(prevInter)) {\n                var newEventsFromSplit = this._splitSafely(prevSeg, prevInter);\n\n                for (var i = 0, iMax = newEventsFromSplit.length; i < iMax; i++) {\n                  newEvents.push(newEventsFromSplit[i]);\n                }\n              }\n            }\n          } // Check for intersections against the next segment in the sweep line\n\n\n          var nextMySplitter = null;\n\n          if (nextSeg) {\n            var nextInter = nextSeg.getIntersection(segment);\n\n            if (nextInter !== null) {\n              if (!segment.isAnEndpoint(nextInter)) nextMySplitter = nextInter;\n\n              if (!nextSeg.isAnEndpoint(nextInter)) {\n                var _newEventsFromSplit = this._splitSafely(nextSeg, nextInter);\n\n                for (var _i = 0, _iMax = _newEventsFromSplit.length; _i < _iMax; _i++) {\n                  newEvents.push(_newEventsFromSplit[_i]);\n                }\n              }\n            }\n          } // For simplicity, even if we find more than one intersection we only\n          // spilt on the 'earliest' (sweep-line style) of the intersections.\n          // The other intersection will be handled in a future process().\n\n\n          if (prevMySplitter !== null || nextMySplitter !== null) {\n            var mySplitter = null;\n            if (prevMySplitter === null) mySplitter = nextMySplitter;else if (nextMySplitter === null) mySplitter = prevMySplitter;else {\n              var cmpSplitters = SweepEvent.comparePoints(prevMySplitter, nextMySplitter);\n              mySplitter = cmpSplitters <= 0 ? prevMySplitter : nextMySplitter;\n            } // Rounding errors can cause changes in ordering,\n            // so remove afected segments and right sweep events before splitting\n\n            this.queue.remove(segment.rightSE);\n            newEvents.push(segment.rightSE);\n\n            var _newEventsFromSplit2 = segment.split(mySplitter);\n\n            for (var _i2 = 0, _iMax2 = _newEventsFromSplit2.length; _i2 < _iMax2; _i2++) {\n              newEvents.push(_newEventsFromSplit2[_i2]);\n            }\n          }\n\n          if (newEvents.length > 0) {\n            // We found some intersections, so re-do the current event to\n            // make sure sweep line ordering is totally consistent for later\n            // use with the segment 'prev' pointers\n            this.tree.remove(segment);\n            newEvents.push(event);\n          } else {\n            // done with left event\n            this.segments.push(segment);\n            segment.prev = prevSeg;\n          }\n        } else {\n          // event.isRight\n          // since we're about to be removed from the sweep line, check for\n          // intersections between our previous and next segments\n          if (prevSeg && nextSeg) {\n            var inter = prevSeg.getIntersection(nextSeg);\n\n            if (inter !== null) {\n              if (!prevSeg.isAnEndpoint(inter)) {\n                var _newEventsFromSplit3 = this._splitSafely(prevSeg, inter);\n\n                for (var _i3 = 0, _iMax3 = _newEventsFromSplit3.length; _i3 < _iMax3; _i3++) {\n                  newEvents.push(_newEventsFromSplit3[_i3]);\n                }\n              }\n\n              if (!nextSeg.isAnEndpoint(inter)) {\n                var _newEventsFromSplit4 = this._splitSafely(nextSeg, inter);\n\n                for (var _i4 = 0, _iMax4 = _newEventsFromSplit4.length; _i4 < _iMax4; _i4++) {\n                  newEvents.push(_newEventsFromSplit4[_i4]);\n                }\n              }\n            }\n          }\n\n          this.tree.remove(segment);\n        }\n\n        return newEvents;\n      }\n      /* Safely split a segment that is currently in the datastructures\n       * IE - a segment other than the one that is currently being processed. */\n\n    }, {\n      key: \"_splitSafely\",\n      value: function _splitSafely(seg, pt) {\n        // Rounding errors can cause changes in ordering,\n        // so remove afected segments and right sweep events before splitting\n        // removeNode() doesn't work, so have re-find the seg\n        // https://github.com/w8r/splay-tree/pull/5\n        this.tree.remove(seg);\n        var rightSE = seg.rightSE;\n        this.queue.remove(rightSE);\n        var newEvents = seg.split(pt);\n        newEvents.push(rightSE); // splitting can trigger consumption\n\n        if (seg.consumedBy === undefined) this.tree.insert(seg);\n        return newEvents;\n      }\n    }]);\n\n    return SweepLine;\n  }();\n\n  var POLYGON_CLIPPING_MAX_QUEUE_SIZE = typeof process !== 'undefined' && process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE || 1000000;\n  var POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS = typeof process !== 'undefined' && process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS || 1000000;\n  var Operation = /*#__PURE__*/function () {\n    function Operation() {\n      _classCallCheck(this, Operation);\n    }\n\n    _createClass(Operation, [{\n      key: \"run\",\n      value: function run(type, geom, moreGeoms) {\n        operation.type = type;\n        rounder.reset();\n        /* Convert inputs to MultiPoly objects */\n\n        var multipolys = [new MultiPolyIn(geom, true)];\n\n        for (var i = 0, iMax = moreGeoms.length; i < iMax; i++) {\n          multipolys.push(new MultiPolyIn(moreGeoms[i], false));\n        }\n\n        operation.numMultiPolys = multipolys.length;\n        /* BBox optimization for difference operation\n         * If the bbox of a multipolygon that's part of the clipping doesn't\n         * intersect the bbox of the subject at all, we can just drop that\n         * multiploygon. */\n\n        if (operation.type === 'difference') {\n          // in place removal\n          var subject = multipolys[0];\n          var _i = 1;\n\n          while (_i < multipolys.length) {\n            if (getBboxOverlap(multipolys[_i].bbox, subject.bbox) !== null) _i++;else multipolys.splice(_i, 1);\n          }\n        }\n        /* BBox optimization for intersection operation\n         * If we can find any pair of multipolygons whose bbox does not overlap,\n         * then the result will be empty. */\n\n\n        if (operation.type === 'intersection') {\n          // TODO: this is O(n^2) in number of polygons. By sorting the bboxes,\n          //       it could be optimized to O(n * ln(n))\n          for (var _i2 = 0, _iMax = multipolys.length; _i2 < _iMax; _i2++) {\n            var mpA = multipolys[_i2];\n\n            for (var j = _i2 + 1, jMax = multipolys.length; j < jMax; j++) {\n              if (getBboxOverlap(mpA.bbox, multipolys[j].bbox) === null) return [];\n            }\n          }\n        }\n        /* Put segment endpoints in a priority queue */\n\n\n        var queue = new Tree(SweepEvent.compare);\n\n        for (var _i3 = 0, _iMax2 = multipolys.length; _i3 < _iMax2; _i3++) {\n          var sweepEvents = multipolys[_i3].getSweepEvents();\n\n          for (var _j = 0, _jMax = sweepEvents.length; _j < _jMax; _j++) {\n            queue.insert(sweepEvents[_j]);\n\n            if (queue.size > POLYGON_CLIPPING_MAX_QUEUE_SIZE) {\n              // prevents an infinite loop, an otherwise common manifestation of bugs\n              throw new Error('Infinite loop when putting segment endpoints in a priority queue ' + '(queue size too big). Please file a bug report.');\n            }\n          }\n        }\n        /* Pass the sweep line over those endpoints */\n\n\n        var sweepLine = new SweepLine(queue);\n        var prevQueueSize = queue.size;\n        var node = queue.pop();\n\n        while (node) {\n          var evt = node.key;\n\n          if (queue.size === prevQueueSize) {\n            // prevents an infinite loop, an otherwise common manifestation of bugs\n            var seg = evt.segment;\n            throw new Error(\"Unable to pop() \".concat(evt.isLeft ? 'left' : 'right', \" SweepEvent \") + \"[\".concat(evt.point.x, \", \").concat(evt.point.y, \"] from segment #\").concat(seg.id, \" \") + \"[\".concat(seg.leftSE.point.x, \", \").concat(seg.leftSE.point.y, \"] -> \") + \"[\".concat(seg.rightSE.point.x, \", \").concat(seg.rightSE.point.y, \"] from queue. \") + 'Please file a bug report.');\n          }\n\n          if (queue.size > POLYGON_CLIPPING_MAX_QUEUE_SIZE) {\n            // prevents an infinite loop, an otherwise common manifestation of bugs\n            throw new Error('Infinite loop when passing sweep line over endpoints ' + '(queue size too big). Please file a bug report.');\n          }\n\n          if (sweepLine.segments.length > POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS) {\n            // prevents an infinite loop, an otherwise common manifestation of bugs\n            throw new Error('Infinite loop when passing sweep line over endpoints ' + '(too many sweep line segments). Please file a bug report.');\n          }\n\n          var newEvents = sweepLine.process(evt);\n\n          for (var _i4 = 0, _iMax3 = newEvents.length; _i4 < _iMax3; _i4++) {\n            var _evt = newEvents[_i4];\n            if (_evt.consumedBy === undefined) queue.insert(_evt);\n          }\n\n          prevQueueSize = queue.size;\n          node = queue.pop();\n        } // free some memory we don't need anymore\n\n\n        rounder.reset();\n        /* Collect and compile segments we're keeping into a multipolygon */\n\n        var ringsOut = RingOut.factory(sweepLine.segments);\n        var result = new MultiPolyOut(ringsOut);\n        return result.getGeom();\n      }\n    }]);\n\n    return Operation;\n  }(); // singleton available by import\n\n  var operation = new Operation();\n\n  var union = function union(geom) {\n    for (var _len = arguments.length, moreGeoms = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      moreGeoms[_key - 1] = arguments[_key];\n    }\n\n    return operation.run('union', geom, moreGeoms);\n  };\n\n  var intersection$1 = function intersection(geom) {\n    for (var _len2 = arguments.length, moreGeoms = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      moreGeoms[_key2 - 1] = arguments[_key2];\n    }\n\n    return operation.run('intersection', geom, moreGeoms);\n  };\n\n  var xor = function xor(geom) {\n    for (var _len3 = arguments.length, moreGeoms = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n      moreGeoms[_key3 - 1] = arguments[_key3];\n    }\n\n    return operation.run('xor', geom, moreGeoms);\n  };\n\n  var difference = function difference(subjectGeom) {\n    for (var _len4 = arguments.length, clippingGeoms = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n      clippingGeoms[_key4 - 1] = arguments[_key4];\n    }\n\n    return operation.run('difference', subjectGeom, clippingGeoms);\n  };\n\n  var index = {\n    union: union,\n    intersection: intersection$1,\n    xor: xor,\n    difference: difference\n  };\n\n  return index;\n\n})));\n","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.quickselect = factory());\n}(this, (function () { 'use strict';\n\nfunction quickselect(arr, k, left, right, compare) {\n    quickselectStep(arr, k, left || 0, right || (arr.length - 1), compare || defaultCompare);\n}\n\nfunction quickselectStep(arr, k, left, right, compare) {\n\n    while (right > left) {\n        if (right - left > 600) {\n            var n = right - left + 1;\n            var m = k - left + 1;\n            var z = Math.log(n);\n            var s = 0.5 * Math.exp(2 * z / 3);\n            var sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n            var newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n            var newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n            quickselectStep(arr, k, newLeft, newRight, compare);\n        }\n\n        var t = arr[k];\n        var i = left;\n        var j = right;\n\n        swap(arr, left, k);\n        if (compare(arr[right], t) > 0) swap(arr, left, right);\n\n        while (i < j) {\n            swap(arr, i, j);\n            i++;\n            j--;\n            while (compare(arr[i], t) < 0) i++;\n            while (compare(arr[j], t) > 0) j--;\n        }\n\n        if (compare(arr[left], t) === 0) swap(arr, left, j);\n        else {\n            j++;\n            swap(arr, j, right);\n        }\n\n        if (j <= k) left = j + 1;\n        if (k <= j) right = j - 1;\n    }\n}\n\nfunction swap(arr, i, j) {\n    var tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n\nfunction defaultCompare(a, b) {\n    return a < b ? -1 : a > b ? 1 : 0;\n}\n\nreturn quickselect;\n\n})));\n","'use strict';\n\nmodule.exports = rbush;\nmodule.exports.default = rbush;\n\nvar quickselect = require('quickselect');\n\nfunction rbush(maxEntries, format) {\n    if (!(this instanceof rbush)) return new rbush(maxEntries, format);\n\n    // max entries in a node is 9 by default; min node fill is 40% for best performance\n    this._maxEntries = Math.max(4, maxEntries || 9);\n    this._minEntries = Math.max(2, Math.ceil(this._maxEntries * 0.4));\n\n    if (format) {\n        this._initFormat(format);\n    }\n\n    this.clear();\n}\n\nrbush.prototype = {\n\n    all: function () {\n        return this._all(this.data, []);\n    },\n\n    search: function (bbox) {\n\n        var node = this.data,\n            result = [],\n            toBBox = this.toBBox;\n\n        if (!intersects(bbox, node)) return result;\n\n        var nodesToSearch = [],\n            i, len, child, childBBox;\n\n        while (node) {\n            for (i = 0, len = node.children.length; i < len; i++) {\n\n                child = node.children[i];\n                childBBox = node.leaf ? toBBox(child) : child;\n\n                if (intersects(bbox, childBBox)) {\n                    if (node.leaf) result.push(child);\n                    else if (contains(bbox, childBBox)) this._all(child, result);\n                    else nodesToSearch.push(child);\n                }\n            }\n            node = nodesToSearch.pop();\n        }\n\n        return result;\n    },\n\n    collides: function (bbox) {\n\n        var node = this.data,\n            toBBox = this.toBBox;\n\n        if (!intersects(bbox, node)) return false;\n\n        var nodesToSearch = [],\n            i, len, child, childBBox;\n\n        while (node) {\n            for (i = 0, len = node.children.length; i < len; i++) {\n\n                child = node.children[i];\n                childBBox = node.leaf ? toBBox(child) : child;\n\n                if (intersects(bbox, childBBox)) {\n                    if (node.leaf || contains(bbox, childBBox)) return true;\n                    nodesToSearch.push(child);\n                }\n            }\n            node = nodesToSearch.pop();\n        }\n\n        return false;\n    },\n\n    load: function (data) {\n        if (!(data && data.length)) return this;\n\n        if (data.length < this._minEntries) {\n            for (var i = 0, len = data.length; i < len; i++) {\n                this.insert(data[i]);\n            }\n            return this;\n        }\n\n        // recursively build the tree with the given data from scratch using OMT algorithm\n        var node = this._build(data.slice(), 0, data.length - 1, 0);\n\n        if (!this.data.children.length) {\n            // save as is if tree is empty\n            this.data = node;\n\n        } else if (this.data.height === node.height) {\n            // split root if trees have the same height\n            this._splitRoot(this.data, node);\n\n        } else {\n            if (this.data.height < node.height) {\n                // swap trees if inserted one is bigger\n                var tmpNode = this.data;\n                this.data = node;\n                node = tmpNode;\n            }\n\n            // insert the small tree into the large tree at appropriate level\n            this._insert(node, this.data.height - node.height - 1, true);\n        }\n\n        return this;\n    },\n\n    insert: function (item) {\n        if (item) this._insert(item, this.data.height - 1);\n        return this;\n    },\n\n    clear: function () {\n        this.data = createNode([]);\n        return this;\n    },\n\n    remove: function (item, equalsFn) {\n        if (!item) return this;\n\n        var node = this.data,\n            bbox = this.toBBox(item),\n            path = [],\n            indexes = [],\n            i, parent, index, goingUp;\n\n        // depth-first iterative tree traversal\n        while (node || path.length) {\n\n            if (!node) { // go up\n                node = path.pop();\n                parent = path[path.length - 1];\n                i = indexes.pop();\n                goingUp = true;\n            }\n\n            if (node.leaf) { // check current node\n                index = findItem(item, node.children, equalsFn);\n\n                if (index !== -1) {\n                    // item found, remove the item and condense tree upwards\n                    node.children.splice(index, 1);\n                    path.push(node);\n                    this._condense(path);\n                    return this;\n                }\n            }\n\n            if (!goingUp && !node.leaf && contains(node, bbox)) { // go down\n                path.push(node);\n                indexes.push(i);\n                i = 0;\n                parent = node;\n                node = node.children[0];\n\n            } else if (parent) { // go right\n                i++;\n                node = parent.children[i];\n                goingUp = false;\n\n            } else node = null; // nothing found\n        }\n\n        return this;\n    },\n\n    toBBox: function (item) { return item; },\n\n    compareMinX: compareNodeMinX,\n    compareMinY: compareNodeMinY,\n\n    toJSON: function () { return this.data; },\n\n    fromJSON: function (data) {\n        this.data = data;\n        return this;\n    },\n\n    _all: function (node, result) {\n        var nodesToSearch = [];\n        while (node) {\n            if (node.leaf) result.push.apply(result, node.children);\n            else nodesToSearch.push.apply(nodesToSearch, node.children);\n\n            node = nodesToSearch.pop();\n        }\n        return result;\n    },\n\n    _build: function (items, left, right, height) {\n\n        var N = right - left + 1,\n            M = this._maxEntries,\n            node;\n\n        if (N <= M) {\n            // reached leaf level; return leaf\n            node = createNode(items.slice(left, right + 1));\n            calcBBox(node, this.toBBox);\n            return node;\n        }\n\n        if (!height) {\n            // target height of the bulk-loaded tree\n            height = Math.ceil(Math.log(N) / Math.log(M));\n\n            // target number of root entries to maximize storage utilization\n            M = Math.ceil(N / Math.pow(M, height - 1));\n        }\n\n        node = createNode([]);\n        node.leaf = false;\n        node.height = height;\n\n        // split the items into M mostly square tiles\n\n        var N2 = Math.ceil(N / M),\n            N1 = N2 * Math.ceil(Math.sqrt(M)),\n            i, j, right2, right3;\n\n        multiSelect(items, left, right, N1, this.compareMinX);\n\n        for (i = left; i <= right; i += N1) {\n\n            right2 = Math.min(i + N1 - 1, right);\n\n            multiSelect(items, i, right2, N2, this.compareMinY);\n\n            for (j = i; j <= right2; j += N2) {\n\n                right3 = Math.min(j + N2 - 1, right2);\n\n                // pack each entry recursively\n                node.children.push(this._build(items, j, right3, height - 1));\n            }\n        }\n\n        calcBBox(node, this.toBBox);\n\n        return node;\n    },\n\n    _chooseSubtree: function (bbox, node, level, path) {\n\n        var i, len, child, targetNode, area, enlargement, minArea, minEnlargement;\n\n        while (true) {\n            path.push(node);\n\n            if (node.leaf || path.length - 1 === level) break;\n\n            minArea = minEnlargement = Infinity;\n\n            for (i = 0, len = node.children.length; i < len; i++) {\n                child = node.children[i];\n                area = bboxArea(child);\n                enlargement = enlargedArea(bbox, child) - area;\n\n                // choose entry with the least area enlargement\n                if (enlargement < minEnlargement) {\n                    minEnlargement = enlargement;\n                    minArea = area < minArea ? area : minArea;\n                    targetNode = child;\n\n                } else if (enlargement === minEnlargement) {\n                    // otherwise choose one with the smallest area\n                    if (area < minArea) {\n                        minArea = area;\n                        targetNode = child;\n                    }\n                }\n            }\n\n            node = targetNode || node.children[0];\n        }\n\n        return node;\n    },\n\n    _insert: function (item, level, isNode) {\n\n        var toBBox = this.toBBox,\n            bbox = isNode ? item : toBBox(item),\n            insertPath = [];\n\n        // find the best node for accommodating the item, saving all nodes along the path too\n        var node = this._chooseSubtree(bbox, this.data, level, insertPath);\n\n        // put the item into the node\n        node.children.push(item);\n        extend(node, bbox);\n\n        // split on node overflow; propagate upwards if necessary\n        while (level >= 0) {\n            if (insertPath[level].children.length > this._maxEntries) {\n                this._split(insertPath, level);\n                level--;\n            } else break;\n        }\n\n        // adjust bboxes along the insertion path\n        this._adjustParentBBoxes(bbox, insertPath, level);\n    },\n\n    // split overflowed node into two\n    _split: function (insertPath, level) {\n\n        var node = insertPath[level],\n            M = node.children.length,\n            m = this._minEntries;\n\n        this._chooseSplitAxis(node, m, M);\n\n        var splitIndex = this._chooseSplitIndex(node, m, M);\n\n        var newNode = createNode(node.children.splice(splitIndex, node.children.length - splitIndex));\n        newNode.height = node.height;\n        newNode.leaf = node.leaf;\n\n        calcBBox(node, this.toBBox);\n        calcBBox(newNode, this.toBBox);\n\n        if (level) insertPath[level - 1].children.push(newNode);\n        else this._splitRoot(node, newNode);\n    },\n\n    _splitRoot: function (node, newNode) {\n        // split root node\n        this.data = createNode([node, newNode]);\n        this.data.height = node.height + 1;\n        this.data.leaf = false;\n        calcBBox(this.data, this.toBBox);\n    },\n\n    _chooseSplitIndex: function (node, m, M) {\n\n        var i, bbox1, bbox2, overlap, area, minOverlap, minArea, index;\n\n        minOverlap = minArea = Infinity;\n\n        for (i = m; i <= M - m; i++) {\n            bbox1 = distBBox(node, 0, i, this.toBBox);\n            bbox2 = distBBox(node, i, M, this.toBBox);\n\n            overlap = intersectionArea(bbox1, bbox2);\n            area = bboxArea(bbox1) + bboxArea(bbox2);\n\n            // choose distribution with minimum overlap\n            if (overlap < minOverlap) {\n                minOverlap = overlap;\n                index = i;\n\n                minArea = area < minArea ? area : minArea;\n\n            } else if (overlap === minOverlap) {\n                // otherwise choose distribution with minimum area\n                if (area < minArea) {\n                    minArea = area;\n                    index = i;\n                }\n            }\n        }\n\n        return index;\n    },\n\n    // sorts node children by the best axis for split\n    _chooseSplitAxis: function (node, m, M) {\n\n        var compareMinX = node.leaf ? this.compareMinX : compareNodeMinX,\n            compareMinY = node.leaf ? this.compareMinY : compareNodeMinY,\n            xMargin = this._allDistMargin(node, m, M, compareMinX),\n            yMargin = this._allDistMargin(node, m, M, compareMinY);\n\n        // if total distributions margin value is minimal for x, sort by minX,\n        // otherwise it's already sorted by minY\n        if (xMargin < yMargin) node.children.sort(compareMinX);\n    },\n\n    // total margin of all possible split distributions where each node is at least m full\n    _allDistMargin: function (node, m, M, compare) {\n\n        node.children.sort(compare);\n\n        var toBBox = this.toBBox,\n            leftBBox = distBBox(node, 0, m, toBBox),\n            rightBBox = distBBox(node, M - m, M, toBBox),\n            margin = bboxMargin(leftBBox) + bboxMargin(rightBBox),\n            i, child;\n\n        for (i = m; i < M - m; i++) {\n            child = node.children[i];\n            extend(leftBBox, node.leaf ? toBBox(child) : child);\n            margin += bboxMargin(leftBBox);\n        }\n\n        for (i = M - m - 1; i >= m; i--) {\n            child = node.children[i];\n            extend(rightBBox, node.leaf ? toBBox(child) : child);\n            margin += bboxMargin(rightBBox);\n        }\n\n        return margin;\n    },\n\n    _adjustParentBBoxes: function (bbox, path, level) {\n        // adjust bboxes along the given tree path\n        for (var i = level; i >= 0; i--) {\n            extend(path[i], bbox);\n        }\n    },\n\n    _condense: function (path) {\n        // go through the path, removing empty nodes and updating bboxes\n        for (var i = path.length - 1, siblings; i >= 0; i--) {\n            if (path[i].children.length === 0) {\n                if (i > 0) {\n                    siblings = path[i - 1].children;\n                    siblings.splice(siblings.indexOf(path[i]), 1);\n\n                } else this.clear();\n\n            } else calcBBox(path[i], this.toBBox);\n        }\n    },\n\n    _initFormat: function (format) {\n        // data format (minX, minY, maxX, maxY accessors)\n\n        // uses eval-type function compilation instead of just accepting a toBBox function\n        // because the algorithms are very sensitive to sorting functions performance,\n        // so they should be dead simple and without inner calls\n\n        var compareArr = ['return a', ' - b', ';'];\n\n        this.compareMinX = new Function('a', 'b', compareArr.join(format[0]));\n        this.compareMinY = new Function('a', 'b', compareArr.join(format[1]));\n\n        this.toBBox = new Function('a',\n            'return {minX: a' + format[0] +\n            ', minY: a' + format[1] +\n            ', maxX: a' + format[2] +\n            ', maxY: a' + format[3] + '};');\n    }\n};\n\nfunction findItem(item, items, equalsFn) {\n    if (!equalsFn) return items.indexOf(item);\n\n    for (var i = 0; i < items.length; i++) {\n        if (equalsFn(item, items[i])) return i;\n    }\n    return -1;\n}\n\n// calculate node's bbox from bboxes of its children\nfunction calcBBox(node, toBBox) {\n    distBBox(node, 0, node.children.length, toBBox, node);\n}\n\n// min bounding rectangle of node children from k to p-1\nfunction distBBox(node, k, p, toBBox, destNode) {\n    if (!destNode) destNode = createNode(null);\n    destNode.minX = Infinity;\n    destNode.minY = Infinity;\n    destNode.maxX = -Infinity;\n    destNode.maxY = -Infinity;\n\n    for (var i = k, child; i < p; i++) {\n        child = node.children[i];\n        extend(destNode, node.leaf ? toBBox(child) : child);\n    }\n\n    return destNode;\n}\n\nfunction extend(a, b) {\n    a.minX = Math.min(a.minX, b.minX);\n    a.minY = Math.min(a.minY, b.minY);\n    a.maxX = Math.max(a.maxX, b.maxX);\n    a.maxY = Math.max(a.maxY, b.maxY);\n    return a;\n}\n\nfunction compareNodeMinX(a, b) { return a.minX - b.minX; }\nfunction compareNodeMinY(a, b) { return a.minY - b.minY; }\n\nfunction bboxArea(a)   { return (a.maxX - a.minX) * (a.maxY - a.minY); }\nfunction bboxMargin(a) { return (a.maxX - a.minX) + (a.maxY - a.minY); }\n\nfunction enlargedArea(a, b) {\n    return (Math.max(b.maxX, a.maxX) - Math.min(b.minX, a.minX)) *\n           (Math.max(b.maxY, a.maxY) - Math.min(b.minY, a.minY));\n}\n\nfunction intersectionArea(a, b) {\n    var minX = Math.max(a.minX, b.minX),\n        minY = Math.max(a.minY, b.minY),\n        maxX = Math.min(a.maxX, b.maxX),\n        maxY = Math.min(a.maxY, b.maxY);\n\n    return Math.max(0, maxX - minX) *\n           Math.max(0, maxY - minY);\n}\n\nfunction contains(a, b) {\n    return a.minX <= b.minX &&\n           a.minY <= b.minY &&\n           b.maxX <= a.maxX &&\n           b.maxY <= a.maxY;\n}\n\nfunction intersects(a, b) {\n    return b.minX <= a.maxX &&\n           b.minY <= a.maxY &&\n           b.maxX >= a.minX &&\n           b.maxY >= a.minY;\n}\n\nfunction createNode(children) {\n    return {\n        children: children,\n        height: 1,\n        leaf: true,\n        minX: Infinity,\n        minY: Infinity,\n        maxX: -Infinity,\n        maxY: -Infinity\n    };\n}\n\n// sort an array so that items come in groups of n unsorted items, with groups sorted between each other;\n// combines selection algorithm with binary divide & conquer approach\n\nfunction multiSelect(arr, left, right, n, compare) {\n    var stack = [left, right],\n        mid;\n\n    while (stack.length) {\n        right = stack.pop();\n        left = stack.pop();\n\n        if (right - left <= n) continue;\n\n        mid = left + Math.ceil((right - left) / n / 2) * n;\n        quickselect(arr, mid, left, right, compare);\n\n        stack.push(left, mid, mid, right);\n    }\n}\n","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?e(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],e):e((t=t||self).predicates={})}(this,function(t){\"use strict\";const e=134217729,n=33306690738754706e-32;function r(t,e,n,r,o){let f,i,u,c,s=e[0],a=r[0],d=0,l=0;a>s==a>-s?(f=s,s=e[++d]):(f=a,a=r[++l]);let p=0;if(d<t&&l<n)for(a>s==a>-s?(u=f-((i=s+f)-s),s=e[++d]):(u=f-((i=a+f)-a),a=r[++l]),f=i,0!==u&&(o[p++]=u);d<t&&l<n;)a>s==a>-s?(u=f-((i=f+s)-(c=i-f))+(s-c),s=e[++d]):(u=f-((i=f+a)-(c=i-f))+(a-c),a=r[++l]),f=i,0!==u&&(o[p++]=u);for(;d<t;)u=f-((i=f+s)-(c=i-f))+(s-c),s=e[++d],f=i,0!==u&&(o[p++]=u);for(;l<n;)u=f-((i=f+a)-(c=i-f))+(a-c),a=r[++l],f=i,0!==u&&(o[p++]=u);return 0===f&&0!==p||(o[p++]=f),p}function o(t){return new Float64Array(t)}const f=33306690738754716e-32,i=22204460492503146e-32,u=11093356479670487e-47,c=o(4),s=o(8),a=o(12),d=o(16),l=o(4);t.orient2d=function(t,o,p,b,y,h){const M=(o-h)*(p-y),x=(t-y)*(b-h),j=M-x;if(0===M||0===x||M>0!=x>0)return j;const m=Math.abs(M+x);return Math.abs(j)>=f*m?j:-function(t,o,f,p,b,y,h){let M,x,j,m,_,v,w,A,F,O,P,g,k,q,z,B,C,D;const E=t-b,G=f-b,H=o-y,I=p-y;_=(z=(A=E-(w=(v=e*E)-(v-E)))*(O=I-(F=(v=e*I)-(v-I)))-((q=E*I)-w*F-A*F-w*O))-(P=z-(C=(A=H-(w=(v=e*H)-(v-H)))*(O=G-(F=(v=e*G)-(v-G)))-((B=H*G)-w*F-A*F-w*O))),c[0]=z-(P+_)+(_-C),_=(k=q-((g=q+P)-(_=g-q))+(P-_))-(P=k-B),c[1]=k-(P+_)+(_-B),_=(D=g+P)-g,c[2]=g-(D-_)+(P-_),c[3]=D;let J=function(t,e){let n=e[0];for(let r=1;r<t;r++)n+=e[r];return n}(4,c),K=i*h;if(J>=K||-J>=K)return J;if(M=t-(E+(_=t-E))+(_-b),j=f-(G+(_=f-G))+(_-b),x=o-(H+(_=o-H))+(_-y),m=p-(I+(_=p-I))+(_-y),0===M&&0===x&&0===j&&0===m)return J;if(K=u*h+n*Math.abs(J),(J+=E*m+I*M-(H*j+G*x))>=K||-J>=K)return J;_=(z=(A=M-(w=(v=e*M)-(v-M)))*(O=I-(F=(v=e*I)-(v-I)))-((q=M*I)-w*F-A*F-w*O))-(P=z-(C=(A=x-(w=(v=e*x)-(v-x)))*(O=G-(F=(v=e*G)-(v-G)))-((B=x*G)-w*F-A*F-w*O))),l[0]=z-(P+_)+(_-C),_=(k=q-((g=q+P)-(_=g-q))+(P-_))-(P=k-B),l[1]=k-(P+_)+(_-B),_=(D=g+P)-g,l[2]=g-(D-_)+(P-_),l[3]=D;const L=r(4,c,4,l,s);_=(z=(A=E-(w=(v=e*E)-(v-E)))*(O=m-(F=(v=e*m)-(v-m)))-((q=E*m)-w*F-A*F-w*O))-(P=z-(C=(A=H-(w=(v=e*H)-(v-H)))*(O=j-(F=(v=e*j)-(v-j)))-((B=H*j)-w*F-A*F-w*O))),l[0]=z-(P+_)+(_-C),_=(k=q-((g=q+P)-(_=g-q))+(P-_))-(P=k-B),l[1]=k-(P+_)+(_-B),_=(D=g+P)-g,l[2]=g-(D-_)+(P-_),l[3]=D;const N=r(L,s,4,l,a);_=(z=(A=M-(w=(v=e*M)-(v-M)))*(O=m-(F=(v=e*m)-(v-m)))-((q=M*m)-w*F-A*F-w*O))-(P=z-(C=(A=x-(w=(v=e*x)-(v-x)))*(O=j-(F=(v=e*j)-(v-j)))-((B=x*j)-w*F-A*F-w*O))),l[0]=z-(P+_)+(_-C),_=(k=q-((g=q+P)-(_=g-q))+(P-_))-(P=k-B),l[1]=k-(P+_)+(_-B),_=(D=g+P)-g,l[2]=g-(D-_)+(P-_),l[3]=D;const Q=r(N,a,4,l,d);return d[Q-1]}(t,o,p,b,y,h,m)},t.orient2dfast=function(t,e,n,r,o,f){return(e-f)*(n-o)-(t-o)*(r-f)},Object.defineProperty(t,\"__esModule\",{value:!0})});\n","\nexport default class TinyQueue {\n    constructor(data = [], compare = defaultCompare) {\n        this.data = data;\n        this.length = this.data.length;\n        this.compare = compare;\n\n        if (this.length > 0) {\n            for (let i = (this.length >> 1) - 1; i >= 0; i--) this._down(i);\n        }\n    }\n\n    push(item) {\n        this.data.push(item);\n        this.length++;\n        this._up(this.length - 1);\n    }\n\n    pop() {\n        if (this.length === 0) return undefined;\n\n        const top = this.data[0];\n        const bottom = this.data.pop();\n        this.length--;\n\n        if (this.length > 0) {\n            this.data[0] = bottom;\n            this._down(0);\n        }\n\n        return top;\n    }\n\n    peek() {\n        return this.data[0];\n    }\n\n    _up(pos) {\n        const {data, compare} = this;\n        const item = data[pos];\n\n        while (pos > 0) {\n            const parent = (pos - 1) >> 1;\n            const current = data[parent];\n            if (compare(item, current) >= 0) break;\n            data[pos] = current;\n            pos = parent;\n        }\n\n        data[pos] = item;\n    }\n\n    _down(pos) {\n        const {data, compare} = this;\n        const halfLength = this.length >> 1;\n        const item = data[pos];\n\n        while (pos < halfLength) {\n            let left = (pos << 1) + 1;\n            let best = data[left];\n            const right = left + 1;\n\n            if (right < this.length && compare(data[right], best) < 0) {\n                left = right;\n                best = data[right];\n            }\n            if (compare(best, item) >= 0) break;\n\n            data[pos] = best;\n            pos = left;\n        }\n\n        data[pos] = item;\n    }\n}\n\nfunction defaultCompare(a, b) {\n    return a < b ? -1 : a > b ? 1 : 0;\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * @module helpers\n */\n/**\n * Earth Radius used with the Harvesine formula and approximates using a spherical (non-ellipsoid) Earth.\n *\n * @memberof helpers\n * @type {number}\n */\nexport var earthRadius = 6371008.8;\n/**\n * Unit of measurement factors using a spherical (non-ellipsoid) earth radius.\n *\n * @memberof helpers\n * @type {Object}\n */\nexport var factors = {\n    centimeters: earthRadius * 100,\n    centimetres: earthRadius * 100,\n    degrees: earthRadius / 111325,\n    feet: earthRadius * 3.28084,\n    inches: earthRadius * 39.37,\n    kilometers: earthRadius / 1000,\n    kilometres: earthRadius / 1000,\n    meters: earthRadius,\n    metres: earthRadius,\n    miles: earthRadius / 1609.344,\n    millimeters: earthRadius * 1000,\n    millimetres: earthRadius * 1000,\n    nauticalmiles: earthRadius / 1852,\n    radians: 1,\n    yards: earthRadius / 1.0936,\n};\n/**\n * Units of measurement factors based on 1 meter.\n *\n * @memberof helpers\n * @type {Object}\n */\nexport var unitsFactors = {\n    centimeters: 100,\n    centimetres: 100,\n    degrees: 1 / 111325,\n    feet: 3.28084,\n    inches: 39.37,\n    kilometers: 1 / 1000,\n    kilometres: 1 / 1000,\n    meters: 1,\n    metres: 1,\n    miles: 1 / 1609.344,\n    millimeters: 1000,\n    millimetres: 1000,\n    nauticalmiles: 1 / 1852,\n    radians: 1 / earthRadius,\n    yards: 1 / 1.0936,\n};\n/**\n * Area of measurement factors based on 1 square meter.\n *\n * @memberof helpers\n * @type {Object}\n */\nexport var areaFactors = {\n    acres: 0.000247105,\n    centimeters: 10000,\n    centimetres: 10000,\n    feet: 10.763910417,\n    hectares: 0.0001,\n    inches: 1550.003100006,\n    kilometers: 0.000001,\n    kilometres: 0.000001,\n    meters: 1,\n    metres: 1,\n    miles: 3.86e-7,\n    millimeters: 1000000,\n    millimetres: 1000000,\n    yards: 1.195990046,\n};\n/**\n * Wraps a GeoJSON {@link Geometry} in a GeoJSON {@link Feature}.\n *\n * @name feature\n * @param {Geometry} geometry input geometry\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature} a GeoJSON Feature\n * @example\n * var geometry = {\n *   \"type\": \"Point\",\n *   \"coordinates\": [110, 50]\n * };\n *\n * var feature = turf.feature(geometry);\n *\n * //=feature\n */\nexport function feature(geom, properties, options) {\n    if (options === void 0) { options = {}; }\n    var feat = { type: \"Feature\" };\n    if (options.id === 0 || options.id) {\n        feat.id = options.id;\n    }\n    if (options.bbox) {\n        feat.bbox = options.bbox;\n    }\n    feat.properties = properties || {};\n    feat.geometry = geom;\n    return feat;\n}\n/**\n * Creates a GeoJSON {@link Geometry} from a Geometry string type & coordinates.\n * For GeometryCollection type use `helpers.geometryCollection`\n *\n * @name geometry\n * @param {string} type Geometry Type\n * @param {Array<any>} coordinates Coordinates\n * @param {Object} [options={}] Optional Parameters\n * @returns {Geometry} a GeoJSON Geometry\n * @example\n * var type = \"Point\";\n * var coordinates = [110, 50];\n * var geometry = turf.geometry(type, coordinates);\n * // => geometry\n */\nexport function geometry(type, coordinates, _options) {\n    if (_options === void 0) { _options = {}; }\n    switch (type) {\n        case \"Point\":\n            return point(coordinates).geometry;\n        case \"LineString\":\n            return lineString(coordinates).geometry;\n        case \"Polygon\":\n            return polygon(coordinates).geometry;\n        case \"MultiPoint\":\n            return multiPoint(coordinates).geometry;\n        case \"MultiLineString\":\n            return multiLineString(coordinates).geometry;\n        case \"MultiPolygon\":\n            return multiPolygon(coordinates).geometry;\n        default:\n            throw new Error(type + \" is invalid\");\n    }\n}\n/**\n * Creates a {@link Point} {@link Feature} from a Position.\n *\n * @name point\n * @param {Array<number>} coordinates longitude, latitude position (each in decimal degrees)\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<Point>} a Point feature\n * @example\n * var point = turf.point([-75.343, 39.984]);\n *\n * //=point\n */\nexport function point(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    if (!coordinates) {\n        throw new Error(\"coordinates is required\");\n    }\n    if (!Array.isArray(coordinates)) {\n        throw new Error(\"coordinates must be an Array\");\n    }\n    if (coordinates.length < 2) {\n        throw new Error(\"coordinates must be at least 2 numbers long\");\n    }\n    if (!isNumber(coordinates[0]) || !isNumber(coordinates[1])) {\n        throw new Error(\"coordinates must contain numbers\");\n    }\n    var geom = {\n        type: \"Point\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\n/**\n * Creates a {@link Point} {@link FeatureCollection} from an Array of Point coordinates.\n *\n * @name points\n * @param {Array<Array<number>>} coordinates an array of Points\n * @param {Object} [properties={}] Translate these properties to each Feature\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north]\n * associated with the FeatureCollection\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<Point>} Point Feature\n * @example\n * var points = turf.points([\n *   [-75, 39],\n *   [-80, 45],\n *   [-78, 50]\n * ]);\n *\n * //=points\n */\nexport function points(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    return featureCollection(coordinates.map(function (coords) {\n        return point(coords, properties);\n    }), options);\n}\n/**\n * Creates a {@link Polygon} {@link Feature} from an Array of LinearRings.\n *\n * @name polygon\n * @param {Array<Array<Array<number>>>} coordinates an array of LinearRings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<Polygon>} Polygon Feature\n * @example\n * var polygon = turf.polygon([[[-5, 52], [-4, 56], [-2, 51], [-7, 54], [-5, 52]]], { name: 'poly1' });\n *\n * //=polygon\n */\nexport function polygon(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    for (var _i = 0, coordinates_1 = coordinates; _i < coordinates_1.length; _i++) {\n        var ring = coordinates_1[_i];\n        if (ring.length < 4) {\n            throw new Error(\"Each LinearRing of a Polygon must have 4 or more Positions.\");\n        }\n        for (var j = 0; j < ring[ring.length - 1].length; j++) {\n            // Check if first point of Polygon contains two numbers\n            if (ring[ring.length - 1][j] !== ring[0][j]) {\n                throw new Error(\"First and last Position are not equivalent.\");\n            }\n        }\n    }\n    var geom = {\n        type: \"Polygon\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\n/**\n * Creates a {@link Polygon} {@link FeatureCollection} from an Array of Polygon coordinates.\n *\n * @name polygons\n * @param {Array<Array<Array<Array<number>>>>} coordinates an array of Polygon coordinates\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<Polygon>} Polygon FeatureCollection\n * @example\n * var polygons = turf.polygons([\n *   [[[-5, 52], [-4, 56], [-2, 51], [-7, 54], [-5, 52]]],\n *   [[[-15, 42], [-14, 46], [-12, 41], [-17, 44], [-15, 42]]],\n * ]);\n *\n * //=polygons\n */\nexport function polygons(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    return featureCollection(coordinates.map(function (coords) {\n        return polygon(coords, properties);\n    }), options);\n}\n/**\n * Creates a {@link LineString} {@link Feature} from an Array of Positions.\n *\n * @name lineString\n * @param {Array<Array<number>>} coordinates an array of Positions\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<LineString>} LineString Feature\n * @example\n * var linestring1 = turf.lineString([[-24, 63], [-23, 60], [-25, 65], [-20, 69]], {name: 'line 1'});\n * var linestring2 = turf.lineString([[-14, 43], [-13, 40], [-15, 45], [-10, 49]], {name: 'line 2'});\n *\n * //=linestring1\n * //=linestring2\n */\nexport function lineString(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    if (coordinates.length < 2) {\n        throw new Error(\"coordinates must be an array of two or more positions\");\n    }\n    var geom = {\n        type: \"LineString\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\n/**\n * Creates a {@link LineString} {@link FeatureCollection} from an Array of LineString coordinates.\n *\n * @name lineStrings\n * @param {Array<Array<Array<number>>>} coordinates an array of LinearRings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north]\n * associated with the FeatureCollection\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<LineString>} LineString FeatureCollection\n * @example\n * var linestrings = turf.lineStrings([\n *   [[-24, 63], [-23, 60], [-25, 65], [-20, 69]],\n *   [[-14, 43], [-13, 40], [-15, 45], [-10, 49]]\n * ]);\n *\n * //=linestrings\n */\nexport function lineStrings(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    return featureCollection(coordinates.map(function (coords) {\n        return lineString(coords, properties);\n    }), options);\n}\n/**\n * Takes one or more {@link Feature|Features} and creates a {@link FeatureCollection}.\n *\n * @name featureCollection\n * @param {Feature[]} features input features\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {FeatureCollection} FeatureCollection of Features\n * @example\n * var locationA = turf.point([-75.343, 39.984], {name: 'Location A'});\n * var locationB = turf.point([-75.833, 39.284], {name: 'Location B'});\n * var locationC = turf.point([-75.534, 39.123], {name: 'Location C'});\n *\n * var collection = turf.featureCollection([\n *   locationA,\n *   locationB,\n *   locationC\n * ]);\n *\n * //=collection\n */\nexport function featureCollection(features, options) {\n    if (options === void 0) { options = {}; }\n    var fc = { type: \"FeatureCollection\" };\n    if (options.id) {\n        fc.id = options.id;\n    }\n    if (options.bbox) {\n        fc.bbox = options.bbox;\n    }\n    fc.features = features;\n    return fc;\n}\n/**\n * Creates a {@link Feature<MultiLineString>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiLineString\n * @param {Array<Array<Array<number>>>} coordinates an array of LineStrings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiLineString>} a MultiLineString feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiLine = turf.multiLineString([[[0,0],[10,10]]]);\n *\n * //=multiLine\n */\nexport function multiLineString(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"MultiLineString\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\n/**\n * Creates a {@link Feature<MultiPoint>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiPoint\n * @param {Array<Array<number>>} coordinates an array of Positions\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiPoint>} a MultiPoint feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiPt = turf.multiPoint([[0,0],[10,10]]);\n *\n * //=multiPt\n */\nexport function multiPoint(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"MultiPoint\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\n/**\n * Creates a {@link Feature<MultiPolygon>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiPolygon\n * @param {Array<Array<Array<Array<number>>>>} coordinates an array of Polygons\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiPolygon>} a multipolygon feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiPoly = turf.multiPolygon([[[[0,0],[0,10],[10,10],[10,0],[0,0]]]]);\n *\n * //=multiPoly\n *\n */\nexport function multiPolygon(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"MultiPolygon\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\n/**\n * Creates a {@link Feature<GeometryCollection>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name geometryCollection\n * @param {Array<Geometry>} geometries an array of GeoJSON Geometries\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<GeometryCollection>} a GeoJSON GeometryCollection Feature\n * @example\n * var pt = turf.geometry(\"Point\", [100, 0]);\n * var line = turf.geometry(\"LineString\", [[101, 0], [102, 1]]);\n * var collection = turf.geometryCollection([pt, line]);\n *\n * // => collection\n */\nexport function geometryCollection(geometries, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"GeometryCollection\",\n        geometries: geometries,\n    };\n    return feature(geom, properties, options);\n}\n/**\n * Round number to precision\n *\n * @param {number} num Number\n * @param {number} [precision=0] Precision\n * @returns {number} rounded number\n * @example\n * turf.round(120.4321)\n * //=120\n *\n * turf.round(120.4321, 2)\n * //=120.43\n */\nexport function round(num, precision) {\n    if (precision === void 0) { precision = 0; }\n    if (precision && !(precision >= 0)) {\n        throw new Error(\"precision must be a positive number\");\n    }\n    var multiplier = Math.pow(10, precision || 0);\n    return Math.round(num * multiplier) / multiplier;\n}\n/**\n * Convert a distance measurement (assuming a spherical Earth) from radians to a more friendly unit.\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @name radiansToLength\n * @param {number} radians in radians across the sphere\n * @param {string} [units=\"kilometers\"] can be degrees, radians, miles, inches, yards, metres,\n * meters, kilometres, kilometers.\n * @returns {number} distance\n */\nexport function radiansToLength(radians, units) {\n    if (units === void 0) { units = \"kilometers\"; }\n    var factor = factors[units];\n    if (!factor) {\n        throw new Error(units + \" units is invalid\");\n    }\n    return radians * factor;\n}\n/**\n * Convert a distance measurement (assuming a spherical Earth) from a real-world unit into radians\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @name lengthToRadians\n * @param {number} distance in real units\n * @param {string} [units=\"kilometers\"] can be degrees, radians, miles, inches, yards, metres,\n * meters, kilometres, kilometers.\n * @returns {number} radians\n */\nexport function lengthToRadians(distance, units) {\n    if (units === void 0) { units = \"kilometers\"; }\n    var factor = factors[units];\n    if (!factor) {\n        throw new Error(units + \" units is invalid\");\n    }\n    return distance / factor;\n}\n/**\n * Convert a distance measurement (assuming a spherical Earth) from a real-world unit into degrees\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, centimeters, kilometres, feet\n *\n * @name lengthToDegrees\n * @param {number} distance in real units\n * @param {string} [units=\"kilometers\"] can be degrees, radians, miles, inches, yards, metres,\n * meters, kilometres, kilometers.\n * @returns {number} degrees\n */\nexport function lengthToDegrees(distance, units) {\n    return radiansToDegrees(lengthToRadians(distance, units));\n}\n/**\n * Converts any bearing angle from the north line direction (positive clockwise)\n * and returns an angle between 0-360 degrees (positive clockwise), 0 being the north line\n *\n * @name bearingToAzimuth\n * @param {number} bearing angle, between -180 and +180 degrees\n * @returns {number} angle between 0 and 360 degrees\n */\nexport function bearingToAzimuth(bearing) {\n    var angle = bearing % 360;\n    if (angle < 0) {\n        angle += 360;\n    }\n    return angle;\n}\n/**\n * Converts an angle in radians to degrees\n *\n * @name radiansToDegrees\n * @param {number} radians angle in radians\n * @returns {number} degrees between 0 and 360 degrees\n */\nexport function radiansToDegrees(radians) {\n    var degrees = radians % (2 * Math.PI);\n    return (degrees * 180) / Math.PI;\n}\n/**\n * Converts an angle in degrees to radians\n *\n * @name degreesToRadians\n * @param {number} degrees angle between 0 and 360 degrees\n * @returns {number} angle in radians\n */\nexport function degreesToRadians(degrees) {\n    var radians = degrees % 360;\n    return (radians * Math.PI) / 180;\n}\n/**\n * Converts a length to the requested unit.\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @param {number} length to be converted\n * @param {Units} [originalUnit=\"kilometers\"] of the length\n * @param {Units} [finalUnit=\"kilometers\"] returned unit\n * @returns {number} the converted length\n */\nexport function convertLength(length, originalUnit, finalUnit) {\n    if (originalUnit === void 0) { originalUnit = \"kilometers\"; }\n    if (finalUnit === void 0) { finalUnit = \"kilometers\"; }\n    if (!(length >= 0)) {\n        throw new Error(\"length must be a positive number\");\n    }\n    return radiansToLength(lengthToRadians(length, originalUnit), finalUnit);\n}\n/**\n * Converts a area to the requested unit.\n * Valid units: kilometers, kilometres, meters, metres, centimetres, millimeters, acres, miles, yards, feet, inches, hectares\n * @param {number} area to be converted\n * @param {Units} [originalUnit=\"meters\"] of the distance\n * @param {Units} [finalUnit=\"kilometers\"] returned unit\n * @returns {number} the converted area\n */\nexport function convertArea(area, originalUnit, finalUnit) {\n    if (originalUnit === void 0) { originalUnit = \"meters\"; }\n    if (finalUnit === void 0) { finalUnit = \"kilometers\"; }\n    if (!(area >= 0)) {\n        throw new Error(\"area must be a positive number\");\n    }\n    var startFactor = areaFactors[originalUnit];\n    if (!startFactor) {\n        throw new Error(\"invalid original units\");\n    }\n    var finalFactor = areaFactors[finalUnit];\n    if (!finalFactor) {\n        throw new Error(\"invalid final units\");\n    }\n    return (area / startFactor) * finalFactor;\n}\n/**\n * isNumber\n *\n * @param {*} num Number to validate\n * @returns {boolean} true/false\n * @example\n * turf.isNumber(123)\n * //=true\n * turf.isNumber('foo')\n * //=false\n */\nexport function isNumber(num) {\n    return !isNaN(num) && num !== null && !Array.isArray(num);\n}\n/**\n * isObject\n *\n * @param {*} input variable to validate\n * @returns {boolean} true/false\n * @example\n * turf.isObject({elevation: 10})\n * //=true\n * turf.isObject('foo')\n * //=false\n */\nexport function isObject(input) {\n    return !!input && input.constructor === Object;\n}\n/**\n * Validate BBox\n *\n * @private\n * @param {Array<number>} bbox BBox to validate\n * @returns {void}\n * @throws Error if BBox is not valid\n * @example\n * validateBBox([-180, -40, 110, 50])\n * //=OK\n * validateBBox([-180, -40])\n * //=Error\n * validateBBox('Foo')\n * //=Error\n * validateBBox(5)\n * //=Error\n * validateBBox(null)\n * //=Error\n * validateBBox(undefined)\n * //=Error\n */\nexport function validateBBox(bbox) {\n    if (!bbox) {\n        throw new Error(\"bbox is required\");\n    }\n    if (!Array.isArray(bbox)) {\n        throw new Error(\"bbox must be an Array\");\n    }\n    if (bbox.length !== 4 && bbox.length !== 6) {\n        throw new Error(\"bbox must be an Array of 4 or 6 numbers\");\n    }\n    bbox.forEach(function (num) {\n        if (!isNumber(num)) {\n            throw new Error(\"bbox must only contain numbers\");\n        }\n    });\n}\n/**\n * Validate Id\n *\n * @private\n * @param {string|number} id Id to validate\n * @returns {void}\n * @throws Error if Id is not valid\n * @example\n * validateId([-180, -40, 110, 50])\n * //=Error\n * validateId([-180, -40])\n * //=Error\n * validateId('Foo')\n * //=OK\n * validateId(5)\n * //=OK\n * validateId(null)\n * //=Error\n * validateId(undefined)\n * //=Error\n */\nexport function validateId(id) {\n    if (!id) {\n        throw new Error(\"id is required\");\n    }\n    if ([\"string\", \"number\"].indexOf(typeof id) === -1) {\n        throw new Error(\"id must be a number or a string\");\n    }\n}\n","import { isNumber, } from \"@turf/helpers\";\n/**\n * Unwrap a coordinate from a Point Feature, Geometry or a single coordinate.\n *\n * @name getCoord\n * @param {Array<number>|Geometry<Point>|Feature<Point>} coord GeoJSON Point or an Array of numbers\n * @returns {Array<number>} coordinates\n * @example\n * var pt = turf.point([10, 10]);\n *\n * var coord = turf.getCoord(pt);\n * //= [10, 10]\n */\nexport function getCoord(coord) {\n    if (!coord) {\n        throw new Error(\"coord is required\");\n    }\n    if (!Array.isArray(coord)) {\n        if (coord.type === \"Feature\" &&\n            coord.geometry !== null &&\n            coord.geometry.type === \"Point\") {\n            return coord.geometry.coordinates;\n        }\n        if (coord.type === \"Point\") {\n            return coord.coordinates;\n        }\n    }\n    if (Array.isArray(coord) &&\n        coord.length >= 2 &&\n        !Array.isArray(coord[0]) &&\n        !Array.isArray(coord[1])) {\n        return coord;\n    }\n    throw new Error(\"coord must be GeoJSON Point or an Array of numbers\");\n}\n/**\n * Unwrap coordinates from a Feature, Geometry Object or an Array\n *\n * @name getCoords\n * @param {Array<any>|Geometry|Feature} coords Feature, Geometry Object or an Array\n * @returns {Array<any>} coordinates\n * @example\n * var poly = turf.polygon([[[119.32, -8.7], [119.55, -8.69], [119.51, -8.54], [119.32, -8.7]]]);\n *\n * var coords = turf.getCoords(poly);\n * //= [[[119.32, -8.7], [119.55, -8.69], [119.51, -8.54], [119.32, -8.7]]]\n */\nexport function getCoords(coords) {\n    if (Array.isArray(coords)) {\n        return coords;\n    }\n    // Feature\n    if (coords.type === \"Feature\") {\n        if (coords.geometry !== null) {\n            return coords.geometry.coordinates;\n        }\n    }\n    else {\n        // Geometry\n        if (coords.coordinates) {\n            return coords.coordinates;\n        }\n    }\n    throw new Error(\"coords must be GeoJSON Feature, Geometry Object or an Array\");\n}\n/**\n * Checks if coordinates contains a number\n *\n * @name containsNumber\n * @param {Array<any>} coordinates GeoJSON Coordinates\n * @returns {boolean} true if Array contains a number\n */\nexport function containsNumber(coordinates) {\n    if (coordinates.length > 1 &&\n        isNumber(coordinates[0]) &&\n        isNumber(coordinates[1])) {\n        return true;\n    }\n    if (Array.isArray(coordinates[0]) && coordinates[0].length) {\n        return containsNumber(coordinates[0]);\n    }\n    throw new Error(\"coordinates must only contain numbers\");\n}\n/**\n * Enforce expectations about types of GeoJSON objects for Turf.\n *\n * @name geojsonType\n * @param {GeoJSON} value any GeoJSON object\n * @param {string} type expected GeoJSON type\n * @param {string} name name of calling function\n * @throws {Error} if value is not the expected type.\n */\nexport function geojsonType(value, type, name) {\n    if (!type || !name) {\n        throw new Error(\"type and name required\");\n    }\n    if (!value || value.type !== type) {\n        throw new Error(\"Invalid input to \" +\n            name +\n            \": must be a \" +\n            type +\n            \", given \" +\n            value.type);\n    }\n}\n/**\n * Enforce expectations about types of {@link Feature} inputs for Turf.\n * Internally this uses {@link geojsonType} to judge geometry types.\n *\n * @name featureOf\n * @param {Feature} feature a feature with an expected geometry type\n * @param {string} type expected GeoJSON type\n * @param {string} name name of calling function\n * @throws {Error} error if value is not the expected type.\n */\nexport function featureOf(feature, type, name) {\n    if (!feature) {\n        throw new Error(\"No feature passed\");\n    }\n    if (!name) {\n        throw new Error(\".featureOf() requires a name\");\n    }\n    if (!feature || feature.type !== \"Feature\" || !feature.geometry) {\n        throw new Error(\"Invalid input to \" + name + \", Feature with geometry required\");\n    }\n    if (!feature.geometry || feature.geometry.type !== type) {\n        throw new Error(\"Invalid input to \" +\n            name +\n            \": must be a \" +\n            type +\n            \", given \" +\n            feature.geometry.type);\n    }\n}\n/**\n * Enforce expectations about types of {@link FeatureCollection} inputs for Turf.\n * Internally this uses {@link geojsonType} to judge geometry types.\n *\n * @name collectionOf\n * @param {FeatureCollection} featureCollection a FeatureCollection for which features will be judged\n * @param {string} type expected GeoJSON type\n * @param {string} name name of calling function\n * @throws {Error} if value is not the expected type.\n */\nexport function collectionOf(featureCollection, type, name) {\n    if (!featureCollection) {\n        throw new Error(\"No featureCollection passed\");\n    }\n    if (!name) {\n        throw new Error(\".collectionOf() requires a name\");\n    }\n    if (!featureCollection || featureCollection.type !== \"FeatureCollection\") {\n        throw new Error(\"Invalid input to \" + name + \", FeatureCollection required\");\n    }\n    for (var _i = 0, _a = featureCollection.features; _i < _a.length; _i++) {\n        var feature = _a[_i];\n        if (!feature || feature.type !== \"Feature\" || !feature.geometry) {\n            throw new Error(\"Invalid input to \" + name + \", Feature with geometry required\");\n        }\n        if (!feature.geometry || feature.geometry.type !== type) {\n            throw new Error(\"Invalid input to \" +\n                name +\n                \": must be a \" +\n                type +\n                \", given \" +\n                feature.geometry.type);\n        }\n    }\n}\n/**\n * Get Geometry from Feature or Geometry Object\n *\n * @param {Feature|Geometry} geojson GeoJSON Feature or Geometry Object\n * @returns {Geometry|null} GeoJSON Geometry Object\n * @throws {Error} if geojson is not a Feature or Geometry Object\n * @example\n * var point = {\n *   \"type\": \"Feature\",\n *   \"properties\": {},\n *   \"geometry\": {\n *     \"type\": \"Point\",\n *     \"coordinates\": [110, 40]\n *   }\n * }\n * var geom = turf.getGeom(point)\n * //={\"type\": \"Point\", \"coordinates\": [110, 40]}\n */\nexport function getGeom(geojson) {\n    if (geojson.type === \"Feature\") {\n        return geojson.geometry;\n    }\n    return geojson;\n}\n/**\n * Get GeoJSON object's type, Geometry type is prioritize.\n *\n * @param {GeoJSON} geojson GeoJSON object\n * @param {string} [name=\"geojson\"] name of the variable to display in error message (unused)\n * @returns {string} GeoJSON type\n * @example\n * var point = {\n *   \"type\": \"Feature\",\n *   \"properties\": {},\n *   \"geometry\": {\n *     \"type\": \"Point\",\n *     \"coordinates\": [110, 40]\n *   }\n * }\n * var geom = turf.getType(point)\n * //=\"Point\"\n */\nexport function getType(geojson, _name) {\n    if (geojson.type === \"FeatureCollection\") {\n        return \"FeatureCollection\";\n    }\n    if (geojson.type === \"GeometryCollection\") {\n        return \"GeometryCollection\";\n    }\n    if (geojson.type === \"Feature\" && geojson.geometry !== null) {\n        return geojson.geometry.type;\n    }\n    return geojson.type;\n}\n","import {\r\n    BBox,\r\n    Coord,\r\n    Feature,\r\n    MultiPolygon,\r\n    Polygon,\r\n    Properties,\r\n} from \"@turf/helpers\";\r\nimport { getCoord, getGeom } from \"@turf/invariant\";\r\n\r\n// http://en.wikipedia.org/wiki/Even%E2%80%93odd_rule\r\n// modified from: https://github.com/substack/point-in-polygon/blob/master/index.js\r\n// which was modified from http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html\r\n/**\r\n * Takes a {@link Point} and a {@link Polygon} or {@link MultiPolygon} and determines if the point\r\n * resides inside the polygon. The polygon can be convex or concave. The function accounts for holes.\r\n *\r\n * @name booleanPointInPolygon\r\n * @param {Coord} point input point\r\n * @param {Feature<Polygon|MultiPolygon>} polygon input polygon or multipolygon\r\n * @param {Object} [options={}] Optional parameters\r\n * @param {boolean} [options.ignoreBoundary=false] True if polygon boundary should be ignored when determining if\r\n * the point is inside the polygon otherwise false.\r\n * @returns {boolean} `true` if the Point is inside the Polygon; `false` if the Point is not inside the Polygon\r\n * @example\r\n * var pt = turf.point([-77, 44]);\r\n * var poly = turf.polygon([[\r\n *   [-81, 41],\r\n *   [-81, 47],\r\n *   [-72, 47],\r\n *   [-72, 41],\r\n *   [-81, 41]\r\n * ]]);\r\n *\r\n * turf.booleanPointInPolygon(pt, poly);\r\n * //= true\r\n */\r\nexport default function booleanPointInPolygon<\r\n    G extends Polygon | MultiPolygon,\r\n    P = Properties\r\n    >(\r\n    point: Coord,\r\n    polygon: Feature<G, P> | G,\r\n    options: {\r\n        ignoreBoundary?: boolean;\r\n    } = {}\r\n) {\r\n    // validation\r\n    if (!point) {\r\n        throw new Error(\"point is required\");\r\n    }\r\n    if (!polygon) {\r\n        throw new Error(\"polygon is required\");\r\n    }\r\n\r\n    const pt = getCoord(point);\r\n    const geom = getGeom(polygon);\r\n    const type = geom.type;\r\n    const bbox = polygon.bbox;\r\n    let polys: any[] = geom.coordinates;\r\n\r\n    // Quick elimination if point is not inside bbox\r\n    if (bbox && !inBBox(pt, bbox)) {\r\n        return false;\r\n    }\r\n    // normalize to multipolygon\r\n    if (type === \"Polygon\") {\r\n        polys = [polys];\r\n    }\r\n    let insidePoly = false;\r\n    for (let i = 0; i < polys.length && !insidePoly; i++) {\r\n        // check if it is in the outer ring first\r\n        const res = pointInPolygon(pt, polys[i]);\r\n        if ((res === 0 && !options.ignoreBoundary) || res) insidePoly = true;\r\n    }\r\n    return insidePoly;\r\n}\r\n\r\n/**\r\n * inBBox\r\n *\r\n * @private\r\n * @param {Position} pt point [x,y]\r\n * @param {BBox} bbox BBox [west, south, east, north]\r\n * @returns {boolean} true/false if point is inside BBox\r\n */\r\nfunction inBBox(pt: number[], bbox: BBox) {\r\n    return (\r\n        bbox[0] <= pt[0] && bbox[1] <= pt[1] && bbox[2] >= pt[0] && bbox[3] >= pt[1]\r\n    );\r\n}\r\n\r\n// This function is based on https://github.com/rowanwins/point-in-polygon-hao\r\n// Because it did not work with TypeScript well, so I put it directly here.\r\n\r\nfunction pointInPolygon(p: number[], polygon: number[][][]): boolean | 0 {\r\n    let i = 0\r\n    let ii = 0\r\n    let k = 0\r\n    let f = 0\r\n    let u1 = 0\r\n    let v1 = 0\r\n    let u2 = 0\r\n    let v2 = 0\r\n    let currentP = null\r\n    let nextP = null\r\n\r\n    const x = p[0]\r\n    const y = p[1]\r\n\r\n    const numContours = polygon.length\r\n    for (i; i < numContours; i++) {\r\n        ii = 0\r\n        const contourLen = polygon[i].length - 1\r\n        const contour = polygon[i]\r\n\r\n        currentP = contour[0]\r\n        u1 = currentP[0] - x\r\n        v1 = currentP[1] - y\r\n\r\n        for (ii; ii < contourLen; ii++) {\r\n            nextP = contour[ii + 1]\r\n\r\n            v2 = nextP[1] - y\r\n\r\n            if ((v1 < 0 && v2 < 0) || (v1 > 0 && v2 > 0)) {\r\n                currentP = nextP\r\n                v1 = v2\r\n                u1 = currentP[0] - x\r\n                continue\r\n            }\r\n\r\n            u2 = nextP[0] - p[0]\r\n\r\n            if (v2 > 0 && v1 <= 0) {\r\n                f = (u1 * v2) - (u2 * v1)\r\n                if (f > 0) k = k + 1\r\n                else if (f === 0) return 0\r\n            } else if (v1 > 0 && v2 <= 0) {\r\n                f = (u1 * v2) - (u2 * v1)\r\n                if (f < 0) k = k + 1\r\n                else if (f === 0) return 0\r\n            } else if (v2 === 0 && v1 < 0) {\r\n                f = (u1 * v2) - (u2 * v1)\r\n                if (f === 0) return 0\r\n            } else if (v1 === 0 && v2 < 0) {\r\n                f = u1 * v2 - u2 * v1\r\n                if (f === 0) return 0\r\n            } else if (v1 === 0 && v2 === 0) {\r\n                if (u2 <= 0 && u1 >= 0) {\r\n                    return 0\r\n                } else if (u1 <= 0 && u2 >= 0) {\r\n                    return 0\r\n                }\r\n            }\r\n            currentP = nextP\r\n            v1 = v2\r\n            u1 = u2\r\n        }\r\n    }\r\n\r\n    if (k % 2 === 0) return false\r\n    return true\r\n}\r\n","import { feature, point, lineString, isObject } from '@turf/helpers';\n\n/**\n * Callback for coordEach\n *\n * @callback coordEachCallback\n * @param {Array<number>} currentCoord The current coordinate being processed.\n * @param {number} coordIndex The current index of the coordinate being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n */\n\n/**\n * Iterate over coordinates in any GeoJSON object, similar to Array.forEach()\n *\n * @name coordEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentCoord, coordIndex, featureIndex, multiFeatureIndex)\n * @param {boolean} [excludeWrapCoord=false] whether or not to include the final coordinate of LinearRings that wraps the ring in its iteration.\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.coordEach(features, function (currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=currentCoord\n *   //=coordIndex\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n * });\n */\nfunction coordEach(geojson, callback, excludeWrapCoord) {\n  // Handles null Geometry -- Skips this GeoJSON\n  if (geojson === null) return;\n  var j,\n    k,\n    l,\n    geometry,\n    stopG,\n    coords,\n    geometryMaybeCollection,\n    wrapShrink = 0,\n    coordIndex = 0,\n    isGeometryCollection,\n    type = geojson.type,\n    isFeatureCollection = type === \"FeatureCollection\",\n    isFeature = type === \"Feature\",\n    stop = isFeatureCollection ? geojson.features.length : 1;\n\n  // This logic may look a little weird. The reason why it is that way\n  // is because it's trying to be fast. GeoJSON supports multiple kinds\n  // of objects at its root: FeatureCollection, Features, Geometries.\n  // This function has the responsibility of handling all of them, and that\n  // means that some of the `for` loops you see below actually just don't apply\n  // to certain inputs. For instance, if you give this just a\n  // Point geometry, then both loops are short-circuited and all we do\n  // is gradually rename the input until it's called 'geometry'.\n  //\n  // This also aims to allocate as few resources as possible: just a\n  // few numbers and booleans, rather than any temporary arrays as would\n  // be required with the normalization approach.\n  for (var featureIndex = 0; featureIndex < stop; featureIndex++) {\n    geometryMaybeCollection = isFeatureCollection\n      ? geojson.features[featureIndex].geometry\n      : isFeature\n      ? geojson.geometry\n      : geojson;\n    isGeometryCollection = geometryMaybeCollection\n      ? geometryMaybeCollection.type === \"GeometryCollection\"\n      : false;\n    stopG = isGeometryCollection\n      ? geometryMaybeCollection.geometries.length\n      : 1;\n\n    for (var geomIndex = 0; geomIndex < stopG; geomIndex++) {\n      var multiFeatureIndex = 0;\n      var geometryIndex = 0;\n      geometry = isGeometryCollection\n        ? geometryMaybeCollection.geometries[geomIndex]\n        : geometryMaybeCollection;\n\n      // Handles null Geometry -- Skips this geometry\n      if (geometry === null) continue;\n      coords = geometry.coordinates;\n      var geomType = geometry.type;\n\n      wrapShrink =\n        excludeWrapCoord &&\n        (geomType === \"Polygon\" || geomType === \"MultiPolygon\")\n          ? 1\n          : 0;\n\n      switch (geomType) {\n        case null:\n          break;\n        case \"Point\":\n          if (\n            callback(\n              coords,\n              coordIndex,\n              featureIndex,\n              multiFeatureIndex,\n              geometryIndex\n            ) === false\n          )\n            return false;\n          coordIndex++;\n          multiFeatureIndex++;\n          break;\n        case \"LineString\":\n        case \"MultiPoint\":\n          for (j = 0; j < coords.length; j++) {\n            if (\n              callback(\n                coords[j],\n                coordIndex,\n                featureIndex,\n                multiFeatureIndex,\n                geometryIndex\n              ) === false\n            )\n              return false;\n            coordIndex++;\n            if (geomType === \"MultiPoint\") multiFeatureIndex++;\n          }\n          if (geomType === \"LineString\") multiFeatureIndex++;\n          break;\n        case \"Polygon\":\n        case \"MultiLineString\":\n          for (j = 0; j < coords.length; j++) {\n            for (k = 0; k < coords[j].length - wrapShrink; k++) {\n              if (\n                callback(\n                  coords[j][k],\n                  coordIndex,\n                  featureIndex,\n                  multiFeatureIndex,\n                  geometryIndex\n                ) === false\n              )\n                return false;\n              coordIndex++;\n            }\n            if (geomType === \"MultiLineString\") multiFeatureIndex++;\n            if (geomType === \"Polygon\") geometryIndex++;\n          }\n          if (geomType === \"Polygon\") multiFeatureIndex++;\n          break;\n        case \"MultiPolygon\":\n          for (j = 0; j < coords.length; j++) {\n            geometryIndex = 0;\n            for (k = 0; k < coords[j].length; k++) {\n              for (l = 0; l < coords[j][k].length - wrapShrink; l++) {\n                if (\n                  callback(\n                    coords[j][k][l],\n                    coordIndex,\n                    featureIndex,\n                    multiFeatureIndex,\n                    geometryIndex\n                  ) === false\n                )\n                  return false;\n                coordIndex++;\n              }\n              geometryIndex++;\n            }\n            multiFeatureIndex++;\n          }\n          break;\n        case \"GeometryCollection\":\n          for (j = 0; j < geometry.geometries.length; j++)\n            if (\n              coordEach(geometry.geometries[j], callback, excludeWrapCoord) ===\n              false\n            )\n              return false;\n          break;\n        default:\n          throw new Error(\"Unknown Geometry Type\");\n      }\n    }\n  }\n}\n\n/**\n * Callback for coordReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback coordReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Array<number>} currentCoord The current coordinate being processed.\n * @param {number} coordIndex The current index of the coordinate being processed.\n * Starts at index 0, if an initialValue is provided, and at index 1 otherwise.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n */\n\n/**\n * Reduce coordinates in any GeoJSON object, similar to Array.reduce()\n *\n * @name coordReduce\n * @param {FeatureCollection|Geometry|Feature} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentCoord, coordIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @param {boolean} [excludeWrapCoord=false] whether or not to include the final coordinate of LinearRings that wraps the ring in its iteration.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.coordReduce(features, function (previousValue, currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=previousValue\n *   //=currentCoord\n *   //=coordIndex\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n *   return currentCoord;\n * });\n */\nfunction coordReduce(geojson, callback, initialValue, excludeWrapCoord) {\n  var previousValue = initialValue;\n  coordEach(\n    geojson,\n    function (\n      currentCoord,\n      coordIndex,\n      featureIndex,\n      multiFeatureIndex,\n      geometryIndex\n    ) {\n      if (coordIndex === 0 && initialValue === undefined)\n        previousValue = currentCoord;\n      else\n        previousValue = callback(\n          previousValue,\n          currentCoord,\n          coordIndex,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex\n        );\n    },\n    excludeWrapCoord\n  );\n  return previousValue;\n}\n\n/**\n * Callback for propEach\n *\n * @callback propEachCallback\n * @param {Object} currentProperties The current Properties being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Iterate over properties in any GeoJSON object, similar to Array.forEach()\n *\n * @name propEach\n * @param {FeatureCollection|Feature} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentProperties, featureIndex)\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.propEach(features, function (currentProperties, featureIndex) {\n *   //=currentProperties\n *   //=featureIndex\n * });\n */\nfunction propEach(geojson, callback) {\n  var i;\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      for (i = 0; i < geojson.features.length; i++) {\n        if (callback(geojson.features[i].properties, i) === false) break;\n      }\n      break;\n    case \"Feature\":\n      callback(geojson.properties, 0);\n      break;\n  }\n}\n\n/**\n * Callback for propReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback propReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {*} currentProperties The current Properties being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Reduce properties in any GeoJSON object into a single value,\n * similar to how Array.reduce works. However, in this case we lazily run\n * the reduction, so an array of all properties is unnecessary.\n *\n * @name propReduce\n * @param {FeatureCollection|Feature} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentProperties, featureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.propReduce(features, function (previousValue, currentProperties, featureIndex) {\n *   //=previousValue\n *   //=currentProperties\n *   //=featureIndex\n *   return currentProperties\n * });\n */\nfunction propReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  propEach(geojson, function (currentProperties, featureIndex) {\n    if (featureIndex === 0 && initialValue === undefined)\n      previousValue = currentProperties;\n    else\n      previousValue = callback(previousValue, currentProperties, featureIndex);\n  });\n  return previousValue;\n}\n\n/**\n * Callback for featureEach\n *\n * @callback featureEachCallback\n * @param {Feature<any>} currentFeature The current Feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Iterate over features in any GeoJSON object, similar to\n * Array.forEach.\n *\n * @name featureEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentFeature, featureIndex)\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {foo: 'bar'}),\n *   turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.featureEach(features, function (currentFeature, featureIndex) {\n *   //=currentFeature\n *   //=featureIndex\n * });\n */\nfunction featureEach(geojson, callback) {\n  if (geojson.type === \"Feature\") {\n    callback(geojson, 0);\n  } else if (geojson.type === \"FeatureCollection\") {\n    for (var i = 0; i < geojson.features.length; i++) {\n      if (callback(geojson.features[i], i) === false) break;\n    }\n  }\n}\n\n/**\n * Callback for featureReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback featureReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature} currentFeature The current Feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Reduce features in any GeoJSON object, similar to Array.reduce().\n *\n * @name featureReduce\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentFeature, featureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.featureReduce(features, function (previousValue, currentFeature, featureIndex) {\n *   //=previousValue\n *   //=currentFeature\n *   //=featureIndex\n *   return currentFeature\n * });\n */\nfunction featureReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  featureEach(geojson, function (currentFeature, featureIndex) {\n    if (featureIndex === 0 && initialValue === undefined)\n      previousValue = currentFeature;\n    else previousValue = callback(previousValue, currentFeature, featureIndex);\n  });\n  return previousValue;\n}\n\n/**\n * Get all coordinates from any GeoJSON object.\n *\n * @name coordAll\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @returns {Array<Array<number>>} coordinate position array\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {foo: 'bar'}),\n *   turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * var coords = turf.coordAll(features);\n * //= [[26, 37], [36, 53]]\n */\nfunction coordAll(geojson) {\n  var coords = [];\n  coordEach(geojson, function (coord) {\n    coords.push(coord);\n  });\n  return coords;\n}\n\n/**\n * Callback for geomEach\n *\n * @callback geomEachCallback\n * @param {Geometry} currentGeometry The current Geometry being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {Object} featureProperties The current Feature Properties being processed.\n * @param {Array<number>} featureBBox The current Feature BBox being processed.\n * @param {number|string} featureId The current Feature Id being processed.\n */\n\n/**\n * Iterate over each geometry in any GeoJSON object, similar to Array.forEach()\n *\n * @name geomEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentGeometry, featureIndex, featureProperties, featureBBox, featureId)\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.geomEach(features, function (currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {\n *   //=currentGeometry\n *   //=featureIndex\n *   //=featureProperties\n *   //=featureBBox\n *   //=featureId\n * });\n */\nfunction geomEach(geojson, callback) {\n  var i,\n    j,\n    g,\n    geometry,\n    stopG,\n    geometryMaybeCollection,\n    isGeometryCollection,\n    featureProperties,\n    featureBBox,\n    featureId,\n    featureIndex = 0,\n    isFeatureCollection = geojson.type === \"FeatureCollection\",\n    isFeature = geojson.type === \"Feature\",\n    stop = isFeatureCollection ? geojson.features.length : 1;\n\n  // This logic may look a little weird. The reason why it is that way\n  // is because it's trying to be fast. GeoJSON supports multiple kinds\n  // of objects at its root: FeatureCollection, Features, Geometries.\n  // This function has the responsibility of handling all of them, and that\n  // means that some of the `for` loops you see below actually just don't apply\n  // to certain inputs. For instance, if you give this just a\n  // Point geometry, then both loops are short-circuited and all we do\n  // is gradually rename the input until it's called 'geometry'.\n  //\n  // This also aims to allocate as few resources as possible: just a\n  // few numbers and booleans, rather than any temporary arrays as would\n  // be required with the normalization approach.\n  for (i = 0; i < stop; i++) {\n    geometryMaybeCollection = isFeatureCollection\n      ? geojson.features[i].geometry\n      : isFeature\n      ? geojson.geometry\n      : geojson;\n    featureProperties = isFeatureCollection\n      ? geojson.features[i].properties\n      : isFeature\n      ? geojson.properties\n      : {};\n    featureBBox = isFeatureCollection\n      ? geojson.features[i].bbox\n      : isFeature\n      ? geojson.bbox\n      : undefined;\n    featureId = isFeatureCollection\n      ? geojson.features[i].id\n      : isFeature\n      ? geojson.id\n      : undefined;\n    isGeometryCollection = geometryMaybeCollection\n      ? geometryMaybeCollection.type === \"GeometryCollection\"\n      : false;\n    stopG = isGeometryCollection\n      ? geometryMaybeCollection.geometries.length\n      : 1;\n\n    for (g = 0; g < stopG; g++) {\n      geometry = isGeometryCollection\n        ? geometryMaybeCollection.geometries[g]\n        : geometryMaybeCollection;\n\n      // Handle null Geometry\n      if (geometry === null) {\n        if (\n          callback(\n            null,\n            featureIndex,\n            featureProperties,\n            featureBBox,\n            featureId\n          ) === false\n        )\n          return false;\n        continue;\n      }\n      switch (geometry.type) {\n        case \"Point\":\n        case \"LineString\":\n        case \"MultiPoint\":\n        case \"Polygon\":\n        case \"MultiLineString\":\n        case \"MultiPolygon\": {\n          if (\n            callback(\n              geometry,\n              featureIndex,\n              featureProperties,\n              featureBBox,\n              featureId\n            ) === false\n          )\n            return false;\n          break;\n        }\n        case \"GeometryCollection\": {\n          for (j = 0; j < geometry.geometries.length; j++) {\n            if (\n              callback(\n                geometry.geometries[j],\n                featureIndex,\n                featureProperties,\n                featureBBox,\n                featureId\n              ) === false\n            )\n              return false;\n          }\n          break;\n        }\n        default:\n          throw new Error(\"Unknown Geometry Type\");\n      }\n    }\n    // Only increase `featureIndex` per each feature\n    featureIndex++;\n  }\n}\n\n/**\n * Callback for geomReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback geomReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Geometry} currentGeometry The current Geometry being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {Object} featureProperties The current Feature Properties being processed.\n * @param {Array<number>} featureBBox The current Feature BBox being processed.\n * @param {number|string} featureId The current Feature Id being processed.\n */\n\n/**\n * Reduce geometry in any GeoJSON object, similar to Array.reduce().\n *\n * @name geomReduce\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentGeometry, featureIndex, featureProperties, featureBBox, featureId)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.geomReduce(features, function (previousValue, currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {\n *   //=previousValue\n *   //=currentGeometry\n *   //=featureIndex\n *   //=featureProperties\n *   //=featureBBox\n *   //=featureId\n *   return currentGeometry\n * });\n */\nfunction geomReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  geomEach(\n    geojson,\n    function (\n      currentGeometry,\n      featureIndex,\n      featureProperties,\n      featureBBox,\n      featureId\n    ) {\n      if (featureIndex === 0 && initialValue === undefined)\n        previousValue = currentGeometry;\n      else\n        previousValue = callback(\n          previousValue,\n          currentGeometry,\n          featureIndex,\n          featureProperties,\n          featureBBox,\n          featureId\n        );\n    }\n  );\n  return previousValue;\n}\n\n/**\n * Callback for flattenEach\n *\n * @callback flattenEachCallback\n * @param {Feature} currentFeature The current flattened feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n */\n\n/**\n * Iterate over flattened features in any GeoJSON object, similar to\n * Array.forEach.\n *\n * @name flattenEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentFeature, featureIndex, multiFeatureIndex)\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.multiPoint([[40, 30], [36, 53]], {hello: 'world'})\n * ]);\n *\n * turf.flattenEach(features, function (currentFeature, featureIndex, multiFeatureIndex) {\n *   //=currentFeature\n *   //=featureIndex\n *   //=multiFeatureIndex\n * });\n */\nfunction flattenEach(geojson, callback) {\n  geomEach(geojson, function (geometry, featureIndex, properties, bbox, id) {\n    // Callback for single geometry\n    var type = geometry === null ? null : geometry.type;\n    switch (type) {\n      case null:\n      case \"Point\":\n      case \"LineString\":\n      case \"Polygon\":\n        if (\n          callback(\n            feature(geometry, properties, { bbox: bbox, id: id }),\n            featureIndex,\n            0\n          ) === false\n        )\n          return false;\n        return;\n    }\n\n    var geomType;\n\n    // Callback for multi-geometry\n    switch (type) {\n      case \"MultiPoint\":\n        geomType = \"Point\";\n        break;\n      case \"MultiLineString\":\n        geomType = \"LineString\";\n        break;\n      case \"MultiPolygon\":\n        geomType = \"Polygon\";\n        break;\n    }\n\n    for (\n      var multiFeatureIndex = 0;\n      multiFeatureIndex < geometry.coordinates.length;\n      multiFeatureIndex++\n    ) {\n      var coordinate = geometry.coordinates[multiFeatureIndex];\n      var geom = {\n        type: geomType,\n        coordinates: coordinate,\n      };\n      if (\n        callback(feature(geom, properties), featureIndex, multiFeatureIndex) ===\n        false\n      )\n        return false;\n    }\n  });\n}\n\n/**\n * Callback for flattenReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback flattenReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature} currentFeature The current Feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n */\n\n/**\n * Reduce flattened features in any GeoJSON object, similar to Array.reduce().\n *\n * @name flattenReduce\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentFeature, featureIndex, multiFeatureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.multiPoint([[40, 30], [36, 53]], {hello: 'world'})\n * ]);\n *\n * turf.flattenReduce(features, function (previousValue, currentFeature, featureIndex, multiFeatureIndex) {\n *   //=previousValue\n *   //=currentFeature\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   return currentFeature\n * });\n */\nfunction flattenReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  flattenEach(\n    geojson,\n    function (currentFeature, featureIndex, multiFeatureIndex) {\n      if (\n        featureIndex === 0 &&\n        multiFeatureIndex === 0 &&\n        initialValue === undefined\n      )\n        previousValue = currentFeature;\n      else\n        previousValue = callback(\n          previousValue,\n          currentFeature,\n          featureIndex,\n          multiFeatureIndex\n        );\n    }\n  );\n  return previousValue;\n}\n\n/**\n * Callback for segmentEach\n *\n * @callback segmentEachCallback\n * @param {Feature<LineString>} currentSegment The current Segment being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n * @param {number} segmentIndex The current index of the Segment being processed.\n * @returns {void}\n */\n\n/**\n * Iterate over 2-vertex line segment in any GeoJSON object, similar to Array.forEach()\n * (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON\n * @param {Function} callback a method that takes (currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex)\n * @returns {void}\n * @example\n * var polygon = turf.polygon([[[-50, 5], [-40, -10], [-50, -10], [-40, 5], [-50, 5]]]);\n *\n * // Iterate over GeoJSON by 2-vertex segments\n * turf.segmentEach(polygon, function (currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {\n *   //=currentSegment\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n *   //=segmentIndex\n * });\n *\n * // Calculate the total number of segments\n * var total = 0;\n * turf.segmentEach(polygon, function () {\n *     total++;\n * });\n */\nfunction segmentEach(geojson, callback) {\n  flattenEach(geojson, function (feature$$1, featureIndex, multiFeatureIndex) {\n    var segmentIndex = 0;\n\n    // Exclude null Geometries\n    if (!feature$$1.geometry) return;\n    // (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n    var type = feature$$1.geometry.type;\n    if (type === \"Point\" || type === \"MultiPoint\") return;\n\n    // Generate 2-vertex line segments\n    var previousCoords;\n    var previousFeatureIndex = 0;\n    var previousMultiIndex = 0;\n    var prevGeomIndex = 0;\n    if (\n      coordEach(\n        feature$$1,\n        function (\n          currentCoord,\n          coordIndex,\n          featureIndexCoord,\n          multiPartIndexCoord,\n          geometryIndex\n        ) {\n          // Simulating a meta.coordReduce() since `reduce` operations cannot be stopped by returning `false`\n          if (\n            previousCoords === undefined ||\n            featureIndex > previousFeatureIndex ||\n            multiPartIndexCoord > previousMultiIndex ||\n            geometryIndex > prevGeomIndex\n          ) {\n            previousCoords = currentCoord;\n            previousFeatureIndex = featureIndex;\n            previousMultiIndex = multiPartIndexCoord;\n            prevGeomIndex = geometryIndex;\n            segmentIndex = 0;\n            return;\n          }\n          var currentSegment = lineString(\n            [previousCoords, currentCoord],\n            feature$$1.properties\n          );\n          if (\n            callback(\n              currentSegment,\n              featureIndex,\n              multiFeatureIndex,\n              geometryIndex,\n              segmentIndex\n            ) === false\n          )\n            return false;\n          segmentIndex++;\n          previousCoords = currentCoord;\n        }\n      ) === false\n    )\n      return false;\n  });\n}\n\n/**\n * Callback for segmentReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback segmentReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature<LineString>} currentSegment The current Segment being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n * @param {number} segmentIndex The current index of the Segment being processed.\n */\n\n/**\n * Reduce 2-vertex line segment in any GeoJSON object, similar to Array.reduce()\n * (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON\n * @param {Function} callback a method that takes (previousValue, currentSegment, currentIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {void}\n * @example\n * var polygon = turf.polygon([[[-50, 5], [-40, -10], [-50, -10], [-40, 5], [-50, 5]]]);\n *\n * // Iterate over GeoJSON by 2-vertex segments\n * turf.segmentReduce(polygon, function (previousSegment, currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {\n *   //= previousSegment\n *   //= currentSegment\n *   //= featureIndex\n *   //= multiFeatureIndex\n *   //= geometryIndex\n *   //= segmentIndex\n *   return currentSegment\n * });\n *\n * // Calculate the total number of segments\n * var initialValue = 0\n * var total = turf.segmentReduce(polygon, function (previousValue) {\n *     previousValue++;\n *     return previousValue;\n * }, initialValue);\n */\nfunction segmentReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  var started = false;\n  segmentEach(\n    geojson,\n    function (\n      currentSegment,\n      featureIndex,\n      multiFeatureIndex,\n      geometryIndex,\n      segmentIndex\n    ) {\n      if (started === false && initialValue === undefined)\n        previousValue = currentSegment;\n      else\n        previousValue = callback(\n          previousValue,\n          currentSegment,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex,\n          segmentIndex\n        );\n      started = true;\n    }\n  );\n  return previousValue;\n}\n\n/**\n * Callback for lineEach\n *\n * @callback lineEachCallback\n * @param {Feature<LineString>} currentLine The current LineString|LinearRing being processed\n * @param {number} featureIndex The current index of the Feature being processed\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed\n * @param {number} geometryIndex The current index of the Geometry being processed\n */\n\n/**\n * Iterate over line or ring coordinates in LineString, Polygon, MultiLineString, MultiPolygon Features or Geometries,\n * similar to Array.forEach.\n *\n * @name lineEach\n * @param {Geometry|Feature<LineString|Polygon|MultiLineString|MultiPolygon>} geojson object\n * @param {Function} callback a method that takes (currentLine, featureIndex, multiFeatureIndex, geometryIndex)\n * @example\n * var multiLine = turf.multiLineString([\n *   [[26, 37], [35, 45]],\n *   [[36, 53], [38, 50], [41, 55]]\n * ]);\n *\n * turf.lineEach(multiLine, function (currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=currentLine\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n * });\n */\nfunction lineEach(geojson, callback) {\n  // validation\n  if (!geojson) throw new Error(\"geojson is required\");\n\n  flattenEach(geojson, function (feature$$1, featureIndex, multiFeatureIndex) {\n    if (feature$$1.geometry === null) return;\n    var type = feature$$1.geometry.type;\n    var coords = feature$$1.geometry.coordinates;\n    switch (type) {\n      case \"LineString\":\n        if (callback(feature$$1, featureIndex, multiFeatureIndex, 0, 0) === false)\n          return false;\n        break;\n      case \"Polygon\":\n        for (\n          var geometryIndex = 0;\n          geometryIndex < coords.length;\n          geometryIndex++\n        ) {\n          if (\n            callback(\n              lineString(coords[geometryIndex], feature$$1.properties),\n              featureIndex,\n              multiFeatureIndex,\n              geometryIndex\n            ) === false\n          )\n            return false;\n        }\n        break;\n    }\n  });\n}\n\n/**\n * Callback for lineReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback lineReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature<LineString>} currentLine The current LineString|LinearRing being processed.\n * @param {number} featureIndex The current index of the Feature being processed\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed\n * @param {number} geometryIndex The current index of the Geometry being processed\n */\n\n/**\n * Reduce features in any GeoJSON object, similar to Array.reduce().\n *\n * @name lineReduce\n * @param {Geometry|Feature<LineString|Polygon|MultiLineString|MultiPolygon>} geojson object\n * @param {Function} callback a method that takes (previousValue, currentLine, featureIndex, multiFeatureIndex, geometryIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var multiPoly = turf.multiPolygon([\n *   turf.polygon([[[12,48],[2,41],[24,38],[12,48]], [[9,44],[13,41],[13,45],[9,44]]]),\n *   turf.polygon([[[5, 5], [0, 0], [2, 2], [4, 4], [5, 5]]])\n * ]);\n *\n * turf.lineReduce(multiPoly, function (previousValue, currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=previousValue\n *   //=currentLine\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n *   return currentLine\n * });\n */\nfunction lineReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  lineEach(\n    geojson,\n    function (currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n      if (featureIndex === 0 && initialValue === undefined)\n        previousValue = currentLine;\n      else\n        previousValue = callback(\n          previousValue,\n          currentLine,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex\n        );\n    }\n  );\n  return previousValue;\n}\n\n/**\n * Finds a particular 2-vertex LineString Segment from a GeoJSON using `@turf/meta` indexes.\n *\n * Negative indexes are permitted.\n * Point & MultiPoint will always return null.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson Any GeoJSON Feature or Geometry\n * @param {Object} [options={}] Optional parameters\n * @param {number} [options.featureIndex=0] Feature Index\n * @param {number} [options.multiFeatureIndex=0] Multi-Feature Index\n * @param {number} [options.geometryIndex=0] Geometry Index\n * @param {number} [options.segmentIndex=0] Segment Index\n * @param {Object} [options.properties={}] Translate Properties to output LineString\n * @param {BBox} [options.bbox={}] Translate BBox to output LineString\n * @param {number|string} [options.id={}] Translate Id to output LineString\n * @returns {Feature<LineString>} 2-vertex GeoJSON Feature LineString\n * @example\n * var multiLine = turf.multiLineString([\n *     [[10, 10], [50, 30], [30, 40]],\n *     [[-10, -10], [-50, -30], [-30, -40]]\n * ]);\n *\n * // First Segment (defaults are 0)\n * turf.findSegment(multiLine);\n * // => Feature<LineString<[[10, 10], [50, 30]]>>\n *\n * // First Segment of 2nd Multi Feature\n * turf.findSegment(multiLine, {multiFeatureIndex: 1});\n * // => Feature<LineString<[[-10, -10], [-50, -30]]>>\n *\n * // Last Segment of Last Multi Feature\n * turf.findSegment(multiLine, {multiFeatureIndex: -1, segmentIndex: -1});\n * // => Feature<LineString<[[-50, -30], [-30, -40]]>>\n */\nfunction findSegment(geojson, options) {\n  // Optional Parameters\n  options = options || {};\n  if (!isObject(options)) throw new Error(\"options is invalid\");\n  var featureIndex = options.featureIndex || 0;\n  var multiFeatureIndex = options.multiFeatureIndex || 0;\n  var geometryIndex = options.geometryIndex || 0;\n  var segmentIndex = options.segmentIndex || 0;\n\n  // Find FeatureIndex\n  var properties = options.properties;\n  var geometry;\n\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      if (featureIndex < 0)\n        featureIndex = geojson.features.length + featureIndex;\n      properties = properties || geojson.features[featureIndex].properties;\n      geometry = geojson.features[featureIndex].geometry;\n      break;\n    case \"Feature\":\n      properties = properties || geojson.properties;\n      geometry = geojson.geometry;\n      break;\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n    case \"Polygon\":\n    case \"MultiLineString\":\n    case \"MultiPolygon\":\n      geometry = geojson;\n      break;\n    default:\n      throw new Error(\"geojson is invalid\");\n  }\n\n  // Find SegmentIndex\n  if (geometry === null) return null;\n  var coords = geometry.coordinates;\n  switch (geometry.type) {\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n      if (segmentIndex < 0) segmentIndex = coords.length + segmentIndex - 1;\n      return lineString(\n        [coords[segmentIndex], coords[segmentIndex + 1]],\n        properties,\n        options\n      );\n    case \"Polygon\":\n      if (geometryIndex < 0) geometryIndex = coords.length + geometryIndex;\n      if (segmentIndex < 0)\n        segmentIndex = coords[geometryIndex].length + segmentIndex - 1;\n      return lineString(\n        [\n          coords[geometryIndex][segmentIndex],\n          coords[geometryIndex][segmentIndex + 1],\n        ],\n        properties,\n        options\n      );\n    case \"MultiLineString\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (segmentIndex < 0)\n        segmentIndex = coords[multiFeatureIndex].length + segmentIndex - 1;\n      return lineString(\n        [\n          coords[multiFeatureIndex][segmentIndex],\n          coords[multiFeatureIndex][segmentIndex + 1],\n        ],\n        properties,\n        options\n      );\n    case \"MultiPolygon\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (geometryIndex < 0)\n        geometryIndex = coords[multiFeatureIndex].length + geometryIndex;\n      if (segmentIndex < 0)\n        segmentIndex =\n          coords[multiFeatureIndex][geometryIndex].length - segmentIndex - 1;\n      return lineString(\n        [\n          coords[multiFeatureIndex][geometryIndex][segmentIndex],\n          coords[multiFeatureIndex][geometryIndex][segmentIndex + 1],\n        ],\n        properties,\n        options\n      );\n  }\n  throw new Error(\"geojson is invalid\");\n}\n\n/**\n * Finds a particular Point from a GeoJSON using `@turf/meta` indexes.\n *\n * Negative indexes are permitted.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson Any GeoJSON Feature or Geometry\n * @param {Object} [options={}] Optional parameters\n * @param {number} [options.featureIndex=0] Feature Index\n * @param {number} [options.multiFeatureIndex=0] Multi-Feature Index\n * @param {number} [options.geometryIndex=0] Geometry Index\n * @param {number} [options.coordIndex=0] Coord Index\n * @param {Object} [options.properties={}] Translate Properties to output Point\n * @param {BBox} [options.bbox={}] Translate BBox to output Point\n * @param {number|string} [options.id={}] Translate Id to output Point\n * @returns {Feature<Point>} 2-vertex GeoJSON Feature Point\n * @example\n * var multiLine = turf.multiLineString([\n *     [[10, 10], [50, 30], [30, 40]],\n *     [[-10, -10], [-50, -30], [-30, -40]]\n * ]);\n *\n * // First Segment (defaults are 0)\n * turf.findPoint(multiLine);\n * // => Feature<Point<[10, 10]>>\n *\n * // First Segment of the 2nd Multi-Feature\n * turf.findPoint(multiLine, {multiFeatureIndex: 1});\n * // => Feature<Point<[-10, -10]>>\n *\n * // Last Segment of last Multi-Feature\n * turf.findPoint(multiLine, {multiFeatureIndex: -1, coordIndex: -1});\n * // => Feature<Point<[-30, -40]>>\n */\nfunction findPoint(geojson, options) {\n  // Optional Parameters\n  options = options || {};\n  if (!isObject(options)) throw new Error(\"options is invalid\");\n  var featureIndex = options.featureIndex || 0;\n  var multiFeatureIndex = options.multiFeatureIndex || 0;\n  var geometryIndex = options.geometryIndex || 0;\n  var coordIndex = options.coordIndex || 0;\n\n  // Find FeatureIndex\n  var properties = options.properties;\n  var geometry;\n\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      if (featureIndex < 0)\n        featureIndex = geojson.features.length + featureIndex;\n      properties = properties || geojson.features[featureIndex].properties;\n      geometry = geojson.features[featureIndex].geometry;\n      break;\n    case \"Feature\":\n      properties = properties || geojson.properties;\n      geometry = geojson.geometry;\n      break;\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n    case \"Polygon\":\n    case \"MultiLineString\":\n    case \"MultiPolygon\":\n      geometry = geojson;\n      break;\n    default:\n      throw new Error(\"geojson is invalid\");\n  }\n\n  // Find Coord Index\n  if (geometry === null) return null;\n  var coords = geometry.coordinates;\n  switch (geometry.type) {\n    case \"Point\":\n      return point(coords, properties, options);\n    case \"MultiPoint\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      return point(coords[multiFeatureIndex], properties, options);\n    case \"LineString\":\n      if (coordIndex < 0) coordIndex = coords.length + coordIndex;\n      return point(coords[coordIndex], properties, options);\n    case \"Polygon\":\n      if (geometryIndex < 0) geometryIndex = coords.length + geometryIndex;\n      if (coordIndex < 0)\n        coordIndex = coords[geometryIndex].length + coordIndex;\n      return point(coords[geometryIndex][coordIndex], properties, options);\n    case \"MultiLineString\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (coordIndex < 0)\n        coordIndex = coords[multiFeatureIndex].length + coordIndex;\n      return point(coords[multiFeatureIndex][coordIndex], properties, options);\n    case \"MultiPolygon\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (geometryIndex < 0)\n        geometryIndex = coords[multiFeatureIndex].length + geometryIndex;\n      if (coordIndex < 0)\n        coordIndex =\n          coords[multiFeatureIndex][geometryIndex].length - coordIndex;\n      return point(\n        coords[multiFeatureIndex][geometryIndex][coordIndex],\n        properties,\n        options\n      );\n  }\n  throw new Error(\"geojson is invalid\");\n}\n\nexport { coordEach, coordReduce, propEach, propReduce, featureEach, featureReduce, coordAll, geomEach, geomReduce, flattenEach, flattenReduce, segmentEach, segmentReduce, lineEach, lineReduce, findSegment, findPoint };\n","import { polygon, } from \"@turf/helpers\";\nimport { coordEach } from \"@turf/meta\";\nimport concaveman from \"concaveman\";\n/**\n * Takes a {@link Feature} or a {@link FeatureCollection} and returns a convex hull {@link Polygon}.\n *\n * Internally this uses\n * the [convex-hull](https://github.com/mikolalysenko/convex-hull) module that implements a\n * [monotone chain hull](http://en.wikibooks.org/wiki/Algorithm_Implementation/Geometry/Convex_hull/Monotone_chain).\n *\n * @name convex\n * @param {GeoJSON} geojson input Feature or FeatureCollection\n * @param {Object} [options={}] Optional parameters\n * @param {number} [options.concavity=Infinity] 1 - thin shape. Infinity - convex hull.\n * @param {Object} [options.properties={}] Translate Properties to Feature\n * @returns {Feature<Polygon>} a convex hull\n * @example\n * var points = turf.featureCollection([\n *   turf.point([10.195312, 43.755225]),\n *   turf.point([10.404052, 43.8424511]),\n *   turf.point([10.579833, 43.659924]),\n *   turf.point([10.360107, 43.516688]),\n *   turf.point([10.14038, 43.588348]),\n *   turf.point([10.195312, 43.755225])\n * ]);\n *\n * var hull = turf.convex(points);\n *\n * //addToMap\n * var addToMap = [points, hull]\n */\nexport default function convex(geojson, options) {\n    if (options === void 0) { options = {}; }\n    // Default parameters\n    options.concavity = options.concavity || Infinity;\n    // Container\n    var points = [];\n    // Convert all points to flat 2D coordinate Array\n    coordEach(geojson, function (coord) {\n        points.push([coord[0], coord[1]]);\n    });\n    if (!points.length) {\n        return null;\n    }\n    var convexHull = concaveman(points, options.concavity);\n    // Convex hull should have at least 3 different vertices in order to create a valid polygon\n    if (convexHull.length > 3) {\n        return polygon([convexHull]);\n    }\n    return null;\n}\n","import polygonClipping from 'polygon-clipping';\nimport { polygon, multiPolygon } from '@turf/helpers';\nimport { getGeom } from '@turf/invariant';\n\n/**\n * Finds the difference between two {@link Polygon|polygons} by clipping the second polygon from the first.\n *\n * @name difference\n * @param {Feature<Polygon|MultiPolygon>} polygon1 input Polygon feature\n * @param {Feature<Polygon|MultiPolygon>} polygon2 Polygon feature to difference from polygon1\n * @returns {Feature<Polygon|MultiPolygon>|null} a Polygon or MultiPolygon feature showing the area of `polygon1` excluding the area of `polygon2` (if empty returns `null`)\n * @example\n * var polygon1 = turf.polygon([[\n *   [128, -26],\n *   [141, -26],\n *   [141, -21],\n *   [128, -21],\n *   [128, -26]\n * ]], {\n *   \"fill\": \"#F00\",\n *   \"fill-opacity\": 0.1\n * });\n * var polygon2 = turf.polygon([[\n *   [126, -28],\n *   [140, -28],\n *   [140, -20],\n *   [126, -20],\n *   [126, -28]\n * ]], {\n *   \"fill\": \"#00F\",\n *   \"fill-opacity\": 0.1\n * });\n *\n * var difference = turf.difference(polygon1, polygon2);\n *\n * //addToMap\n * var addToMap = [polygon1, polygon2, difference];\n */\nfunction difference(polygon1, polygon2) {\n  var geom1 = getGeom(polygon1);\n  var geom2 = getGeom(polygon2);\n  var properties = polygon1.properties || {};\n\n  var differenced = polygonClipping.difference(\n    geom1.coordinates,\n    geom2.coordinates\n  );\n  if (differenced.length === 0) return null;\n  if (differenced.length === 1) return polygon(differenced[0], properties);\n  return multiPolygon(differenced, properties);\n}\n\nexport default difference;\n","import { featureCollection, lineString, } from \"@turf/helpers\";\nimport { getCoords } from \"@turf/invariant\";\nimport { flattenEach } from \"@turf/meta\";\n/**\n * Creates a {@link FeatureCollection} of 2-vertex {@link LineString} segments from a\n * {@link LineString|(Multi)LineString} or {@link Polygon|(Multi)Polygon}.\n *\n * @name lineSegment\n * @param {GeoJSON} geojson GeoJSON Polygon or LineString\n * @returns {FeatureCollection<LineString>} 2-vertex line segments\n * @example\n * var polygon = turf.polygon([[[-50, 5], [-40, -10], [-50, -10], [-40, 5], [-50, 5]]]);\n * var segments = turf.lineSegment(polygon);\n *\n * //addToMap\n * var addToMap = [polygon, segments]\n */\nfunction lineSegment(geojson) {\n    if (!geojson) {\n        throw new Error(\"geojson is required\");\n    }\n    var results = [];\n    flattenEach(geojson, function (feature) {\n        lineSegmentFeature(feature, results);\n    });\n    return featureCollection(results);\n}\n/**\n * Line Segment\n *\n * @private\n * @param {Feature<LineString|Polygon>} geojson Line or polygon feature\n * @param {Array} results push to results\n * @returns {void}\n */\nfunction lineSegmentFeature(geojson, results) {\n    var coords = [];\n    var geometry = geojson.geometry;\n    if (geometry !== null) {\n        switch (geometry.type) {\n            case \"Polygon\":\n                coords = getCoords(geometry);\n                break;\n            case \"LineString\":\n                coords = [getCoords(geometry)];\n        }\n        coords.forEach(function (coord) {\n            var segments = createSegments(coord, geojson.properties);\n            segments.forEach(function (segment) {\n                segment.id = results.length;\n                results.push(segment);\n            });\n        });\n    }\n}\n/**\n * Create Segments from LineString coordinates\n *\n * @private\n * @param {Array<Array<number>>} coords LineString coordinates\n * @param {*} properties GeoJSON properties\n * @returns {Array<Feature<LineString>>} line segments\n */\nfunction createSegments(coords, properties) {\n    var segments = [];\n    coords.reduce(function (previousCoords, currentCoords) {\n        var segment = lineString([previousCoords, currentCoords], properties);\n        segment.bbox = bbox(previousCoords, currentCoords);\n        segments.push(segment);\n        return currentCoords;\n    });\n    return segments;\n}\n/**\n * Create BBox between two coordinates (faster than @turf/bbox)\n *\n * @private\n * @param {Array<number>} coords1 Point coordinate\n * @param {Array<number>} coords2 Point coordinate\n * @returns {BBox} [west, south, east, north]\n */\nfunction bbox(coords1, coords2) {\n    var x1 = coords1[0];\n    var y1 = coords1[1];\n    var x2 = coords2[0];\n    var y2 = coords2[1];\n    var west = x1 < x2 ? x1 : x2;\n    var south = y1 < y2 ? y1 : y2;\n    var east = x1 > x2 ? x1 : x2;\n    var north = y1 > y2 ? y1 : y2;\n    return [west, south, east, north];\n}\nexport default lineSegment;\n","import { feature, featureCollection, point, } from \"@turf/helpers\";\nimport { getCoords } from \"@turf/invariant\";\nimport lineSegment from \"@turf/line-segment\";\nimport { featureEach } from \"@turf/meta\";\nimport rbush from \"geojson-rbush\";\n/**\n * Takes any LineString or Polygon GeoJSON and returns the intersecting point(s).\n *\n * @name lineIntersect\n * @param {GeoJSON} line1 any LineString or Polygon\n * @param {GeoJSON} line2 any LineString or Polygon\n * @returns {FeatureCollection<Point>} point(s) that intersect both\n * @example\n * var line1 = turf.lineString([[126, -11], [129, -21]]);\n * var line2 = turf.lineString([[123, -18], [131, -14]]);\n * var intersects = turf.lineIntersect(line1, line2);\n *\n * //addToMap\n * var addToMap = [line1, line2, intersects]\n */\nfunction lineIntersect(line1, line2) {\n    var unique = {};\n    var results = [];\n    // First, normalize geometries to features\n    // Then, handle simple 2-vertex segments\n    if (line1.type === \"LineString\") {\n        line1 = feature(line1);\n    }\n    if (line2.type === \"LineString\") {\n        line2 = feature(line2);\n    }\n    if (line1.type === \"Feature\" &&\n        line2.type === \"Feature\" &&\n        line1.geometry !== null &&\n        line2.geometry !== null &&\n        line1.geometry.type === \"LineString\" &&\n        line2.geometry.type === \"LineString\" &&\n        line1.geometry.coordinates.length === 2 &&\n        line2.geometry.coordinates.length === 2) {\n        var intersect = intersects(line1, line2);\n        if (intersect) {\n            results.push(intersect);\n        }\n        return featureCollection(results);\n    }\n    // Handles complex GeoJSON Geometries\n    var tree = rbush();\n    tree.load(lineSegment(line2));\n    featureEach(lineSegment(line1), function (segment) {\n        featureEach(tree.search(segment), function (match) {\n            var intersect = intersects(segment, match);\n            if (intersect) {\n                // prevent duplicate points https://github.com/Turfjs/turf/issues/688\n                var key = getCoords(intersect).join(\",\");\n                if (!unique[key]) {\n                    unique[key] = true;\n                    results.push(intersect);\n                }\n            }\n        });\n    });\n    return featureCollection(results);\n}\n/**\n * Find a point that intersects LineStrings with two coordinates each\n *\n * @private\n * @param {Feature<LineString>} line1 GeoJSON LineString (Must only contain 2 coordinates)\n * @param {Feature<LineString>} line2 GeoJSON LineString (Must only contain 2 coordinates)\n * @returns {Feature<Point>} intersecting GeoJSON Point\n */\nfunction intersects(line1, line2) {\n    var coords1 = getCoords(line1);\n    var coords2 = getCoords(line2);\n    if (coords1.length !== 2) {\n        throw new Error(\"<intersects> line1 must only contain 2 coordinates\");\n    }\n    if (coords2.length !== 2) {\n        throw new Error(\"<intersects> line2 must only contain 2 coordinates\");\n    }\n    var x1 = coords1[0][0];\n    var y1 = coords1[0][1];\n    var x2 = coords1[1][0];\n    var y2 = coords1[1][1];\n    var x3 = coords2[0][0];\n    var y3 = coords2[0][1];\n    var x4 = coords2[1][0];\n    var y4 = coords2[1][1];\n    var denom = (y4 - y3) * (x2 - x1) - (x4 - x3) * (y2 - y1);\n    var numeA = (x4 - x3) * (y1 - y3) - (y4 - y3) * (x1 - x3);\n    var numeB = (x2 - x1) * (y1 - y3) - (y2 - y1) * (x1 - x3);\n    if (denom === 0) {\n        if (numeA === 0 && numeB === 0) {\n            return null;\n        }\n        return null;\n    }\n    var uA = numeA / denom;\n    var uB = numeB / denom;\n    if (uA >= 0 && uA <= 1 && uB >= 0 && uB <= 1) {\n        var x = x1 + uA * (x2 - x1);\n        var y = y1 + uA * (y2 - y1);\n        return point([x, y]);\n    }\n    return null;\n}\nexport default lineIntersect;\n","import { Position } from \"@turf/turf\";\nimport { point } from \"@turf/helpers\";\n\nexport default function findIntersections(coords: Position[][]) {\n  const arcs = new ArcCollection(coords);\n  const xy = arcs.findSegmentIntersections();\n  return dedupIntersections(xy).reduce(\n    (prev: any, apoint: any, index: any, array: any) => {\n      if (!prev) prev = {};\n      prev[`${apoint.x}:${apoint.y}`] = apoint;\n      if (index != array.length - 1) return prev;\n      return Object.keys(prev).map(key => point([prev[key].x, prev[key].y]));\n    },\n    []\n  );\n}\n\nclass ArcCollection {\n  _xx?: Float64Array;\n  _yy?: Float64Array; // coordinates data\n  _ii?: Uint32Array;\n  _nn?: Uint32Array; // indexes, sizes\n  _zz: any;\n  _zlimit = 0; // simplification\n  _bb: any;\n  _allBounds: any; // bounding boxes\n  _arcIter: any;\n  _filteredArcIter: any; // path iterators\n  buf?: ArrayBuffer;\n\n  constructor(coords: Position[][]) {\n    this.initArcs(coords);\n  }\n\n  initArcs(arcs: Position[][]) {\n    const xx: number[] = [],\n      yy: number[] = [];\n    const nn = arcs.map(points => {\n      const n = points ? points.length : 0;\n      for (let i = 0; i < n; i++) {\n        xx.push(points[i][0]);\n        yy.push(points[i][1]);\n      }\n      return n;\n    });\n    this.initXYData(nn, xx, yy);\n  }\n\n  initXYData(nn: number[], xx: number[], yy: number[]) {\n    const size = nn.length;\n    this._xx = new Float64Array(xx);\n    this._yy = new Float64Array(yy);\n    this._nn = new Uint32Array(nn);\n    this._zz = null;\n    this._zlimit = 0;\n    this._filteredArcIter = null;\n\n    // generate array of starting idxs of each arc\n    this._ii = new Uint32Array(size);\n    let idx = 0;\n    for (let j = 0; j < size; j++) {\n      this._ii[j] = idx;\n      idx += nn[j];\n    }\n\n    if (idx != this._xx.length || this._xx.length != this._yy.length) {\n      error(\"ArcCollection#initXYData() Counting error\");\n    }\n\n    this.initBounds();\n    // Pre-allocate some path iterators for repeated use.\n    this._arcIter = new ArcIter(this._xx, this._yy);\n  }\n\n  initBounds() {\n    const data = this.calcArcBounds_(this._xx!, this._yy!, this._nn!);\n    this._bb = data.bb;\n    this._allBounds = data.bounds;\n  }\n\n  calcArcBounds_(xx: Float64Array, yy: Float64Array, nn: Uint32Array) {\n    const numArcs = nn.length,\n      bb = new Float64Array(numArcs * 4),\n      bounds = new Bounds();\n    let arcOffs = 0,\n      arcLen: number,\n      j: number,\n      b: number[];\n    for (let i = 0; i < numArcs; i++) {\n      arcLen = nn[i];\n      if (arcLen > 0) {\n        j = i * 4;\n        b = calcArcBounds(xx, yy, arcOffs, arcLen) as number[];\n        bb[j++] = b[0];\n        bb[j++] = b[1];\n        bb[j++] = b[2];\n        bb[j] = b[3];\n        arcOffs += arcLen;\n        bounds.mergeBounds(b);\n      }\n    }\n    return {\n      bb,\n      bounds\n    };\n  }\n\n  getBounds() {\n    return this._allBounds.clone();\n  }\n\n  // @cb function(i, j, xx, yy)\n  forEachSegment(cb: any) {\n    let count = 0;\n    for (let i = 0, n = this.size(); i < n; i++) {\n      count += this.forEachArcSegment(i, cb);\n    }\n    return count;\n  }\n\n  size() {\n    return (this._ii && this._ii.length) || 0;\n  }\n\n  // @cb function(i, j, xx, yy)\n  forEachArcSegment(arcId: any, cb: any): any {\n    const fw = arcId >= 0,\n      absId = fw ? arcId : ~arcId,\n      zlim = this.getRetainedInterval(),\n      n = this._nn![absId],\n      step = fw ? 1 : -1;\n    let v1 = fw ? this._ii![absId] : this._ii![absId] + n - 1,\n      v2 = v1,\n      count = 0;\n\n    for (let j = 1; j < n; j++) {\n      v2 += step;\n      if (zlim === 0 || this._zz![v2] >= zlim) {\n        cb(v1, v2, this._xx!, this._yy!);\n        v1 = v2;\n        count++;\n      }\n    }\n    return count;\n  }\n\n  getRetainedInterval() {\n    return this._zlimit;\n  }\n\n  // Give access to raw data arrays...\n  getVertexData() {\n    return {\n      xx: this._xx,\n      yy: this._yy,\n      zz: this._zz,\n      bb: this._bb,\n      nn: this._nn,\n      ii: this._ii\n    };\n  }\n\n  getUint32Array(count: number) {\n    const bytes = count * 4;\n    if (!this.buf || this.buf.byteLength < bytes) {\n      this.buf = new ArrayBuffer(bytes);\n    }\n    return new Uint32Array(this.buf, 0, count);\n  }\n\n  // Return average magnitudes of dx, dy (with simplification)\n  getAvgSegment2() {\n    let dx = 0,\n      dy = 0;\n    const count = this.forEachSegment(\n      (i: number, j: number, xx: number[], yy: number[]) => {\n        dx += Math.abs(xx[i] - xx[j]);\n        dy += Math.abs(yy[i] - yy[j]);\n      }\n    );\n    return [dx / count || 0, dy / count || 0];\n  }\n\n  calcSegmentIntersectionStripeCount() {\n    const yrange = this.getBounds().height(),\n      segLen = this.getAvgSegment2()[1];\n    let count = 1;\n    if (segLen > 0 && yrange > 0) {\n      count = Math.ceil(yrange / segLen / 20);\n    }\n    return count || 1;\n  }\n\n  findSegmentIntersections() {\n    const bounds = this.getBounds(),\n      ymin = bounds.ymin,\n      yrange = bounds.ymax - ymin,\n      stripeCount = this.calcSegmentIntersectionStripeCount(),\n      stripeSizes = new Uint32Array(stripeCount),\n      stripeId =\n        stripeCount > 1\n          ? (y: number) => Math.floor(((stripeCount - 1) * (y - ymin)) / yrange)\n          : () => 0;\n    let i, j;\n\n    // Count segments in each stripe\n    this.forEachSegment(\n      (id1: number, id2: number, xx: number[], yy: number[]) => {\n        let s1 = stripeId(yy[id1]);\n        const s2 = stripeId(yy[id2]);\n        // eslint-disable-next-line no-constant-condition\n        while (true) {\n          stripeSizes[s1] = stripeSizes[s1] + 2;\n          if (s1 == s2) break;\n          s1 += s2 > s1 ? 1 : -1;\n        }\n      }\n    );\n\n    // Allocate arrays for segments in each stripe\n    const stripeData = this.getUint32Array(utilsSum(stripeSizes));\n    let offs = 0;\n    const stripes: any[] = [];\n    utilsForEach(stripeSizes, (stripeSize: number) => {\n      const start = offs;\n      offs += stripeSize;\n      stripes.push(stripeData.subarray(start, offs));\n    });\n    // Assign segment ids to each stripe\n    initializeArray(stripeSizes, 0);\n\n    this.forEachSegment(\n      (id1: number, id2: number, xx: number[], yy: number[]) => {\n        let s1 = stripeId(yy[id1]);\n        const s2 = stripeId(yy[id2]);\n        let count, stripe;\n        // eslint-disable-next-line no-constant-condition\n        while (true) {\n          count = stripeSizes[s1];\n          stripeSizes[s1] = count + 2;\n          stripe = stripes[s1];\n          stripe[count] = id1;\n          stripe[count + 1] = id2;\n          if (s1 == s2) break;\n          s1 += s2 > s1 ? 1 : -1;\n        }\n      }\n    );\n\n    // Detect intersections among segments in each stripe.\n    const raw = this.getVertexData(),\n      intersections = [];\n    let arr;\n    for (i = 0; i < stripeCount; i++) {\n      arr = intersectSegments(stripes[i], raw.xx, raw.yy);\n      for (j = 0; j < arr.length; j++) {\n        intersections.push(arr[j]);\n      }\n    }\n    return dedupIntersections(intersections);\n  }\n}\n\nfunction error(...args: any[]) {\n  const msg = args.join(\" \");\n  throw new Error(msg);\n}\n\nfunction isArrayLike(obj: any) {\n  if (!obj) return false;\n  if (isArray(obj)) return true;\n  if (isString(obj)) return false;\n  if (obj.length === 0) return true;\n  return obj.length > 0;\n}\n\nfunction isString(obj: any) {\n  return obj != null && obj.toString === String.prototype.toString;\n}\n\nfunction isArray(obj: any) {\n  return Array.isArray(obj);\n}\n\n// Calc sum, skip falsy and NaN values\n// Assumes: no other non-numeric objects in array\n//\nfunction utilsSum(arr: Uint32Array, info?: any) {\n  if (!isArrayLike(arr)) error(\"utils.sum() expects an array, received:\", arr);\n  let tot = 0,\n    nan = 0,\n    val;\n  for (let i = 0, n = arr.length; i < n; i++) {\n    val = arr[i];\n    if (val) {\n      tot += val;\n    } else if (isNaN(val)) {\n      nan++;\n    }\n  }\n  if (info) {\n    info.nan = nan;\n  }\n  return tot;\n}\n\n// Support for iterating over array-like objects, like typed arrays\nfunction utilsForEach(arr: any, func: any, ctx?: any) {\n  if (!isArrayLike(arr)) {\n    throw new Error(`#forEach() takes an array-like argument. ${arr}`);\n  }\n  for (let i = 0, n = arr.length; i < n; i++) {\n    func.call(ctx, arr[i], i);\n  }\n}\n\nfunction initializeArray(arr: any, init: any) {\n  for (let i = 0, len = arr.length; i < len; i++) {\n    arr[i] = init;\n  }\n  return arr;\n}\n\n// Find intersections among a group of line segments\n//\n// TODO: handle case where a segment starts and ends at the same point (i.e. duplicate coords);\n//\n// @ids: Array of indexes: [s0p0, s0p1, s1p0, s1p1, ...] where xx[sip0] <= xx[sip1]\n// @xx, @yy: Arrays of x- and y-coordinates\n//\nfunction intersectSegments(ids: any, xx: any, yy: any) {\n  const lim = ids.length - 2,\n    intersections = [];\n  let s1p1,\n    s1p2,\n    s2p1,\n    s2p2,\n    s1p1x,\n    s1p2x,\n    s2p1x,\n    s2p2x,\n    s1p1y,\n    s1p2y,\n    s2p1y,\n    s2p2y,\n    hit,\n    seg1,\n    seg2,\n    i,\n    j;\n\n  // Sort segments by xmin, to allow efficient exclusion of segments with\n  // non-overlapping x extents.\n  sortSegmentIds(xx, ids); // sort by ascending xmin\n\n  i = 0;\n  while (i < lim) {\n    s1p1 = ids[i];\n    s1p2 = ids[i + 1];\n    s1p1x = xx[s1p1];\n    s1p2x = xx[s1p2];\n    s1p1y = yy[s1p1];\n    s1p2y = yy[s1p2];\n    // count++;\n\n    j = i;\n    while (j < lim) {\n      j += 2;\n      s2p1 = ids[j];\n      s2p1x = xx[s2p1];\n\n      if (s1p2x < s2p1x) break; // x extent of seg 2 is greater than seg 1: done with seg 1\n      //if (s1p2x <= s2p1x) break; // this misses point-segment intersections when s1 or s2 is vertical\n\n      s2p1y = yy[s2p1];\n      s2p2 = ids[j + 1];\n      s2p2x = xx[s2p2];\n      s2p2y = yy[s2p2];\n\n      // skip segments with non-overlapping y ranges\n      if (s1p1y >= s2p1y) {\n        if (s1p1y > s2p2y && s1p2y > s2p1y && s1p2y > s2p2y) continue;\n      } else {\n        if (s1p1y < s2p2y && s1p2y < s2p1y && s1p2y < s2p2y) continue;\n      }\n\n      // skip segments that are adjacent in a path (optimization)\n      // TODO: consider if this eliminates some cases that should\n      // be detected, e.g. spikes formed by unequal segments\n      if (s1p1 == s2p1 || s1p1 == s2p2 || s1p2 == s2p1 || s1p2 == s2p2) {\n        continue;\n      }\n\n      // test two candidate segments for intersection\n      hit = segmentIntersection(\n        s1p1x,\n        s1p1y,\n        s1p2x,\n        s1p2y,\n        s2p1x,\n        s2p1y,\n        s2p2x,\n        s2p2y\n      );\n      if (hit) {\n        seg1 = [s1p1, s1p2];\n        seg2 = [s2p1, s2p2];\n        intersections.push(formatIntersection(hit, seg1, seg2, xx, yy));\n        if (hit.length == 4) {\n          // two collinear segments may have two endpoint intersections\n          intersections.push(\n            formatIntersection(hit.slice(2), seg1, seg2, xx, yy)\n          );\n        }\n      }\n    }\n    i += 2;\n  }\n  return intersections;\n}\n\n// Find the interection between two 2D segments\n// Returns 0, 1 or two x, y locations as null, [x, y], or [x1, y1, x2, y2]\n// Special cases:\n// If the segments touch at an endpoint of both segments, it is not treated as an intersection\n// If the segments touch at a T-intersection, it is treated as an intersection\n// If the segments are collinear and partially overlapping, each subsumed endpoint\n//    is counted as an intersection (there will be one or two)\n//\nfunction segmentIntersection(\n  ax: any,\n  ay: any,\n  bx: any,\n  by: any,\n  cx: any,\n  cy: any,\n  dx: any,\n  dy: any\n) {\n  const hit = segmentHit(ax, ay, bx, by, cx, cy, dx, dy);\n  let p = null;\n  if (hit) {\n    p = crossIntersection(ax, ay, bx, by, cx, cy, dx, dy);\n    if (!p) {\n      // collinear if p is null\n      p = collinearIntersection(ax, ay, bx, by, cx, cy, dx, dy);\n    } else if (endpointHit(ax, ay, bx, by, cx, cy, dx, dy)) {\n      p = null; // filter out segments that only intersect at an endpoint\n    }\n  }\n  return p;\n}\n\n// Source: Sedgewick, _Algorithms in C_\n// (Tried various other functions that failed owing to floating point errors)\nfunction segmentHit(\n  ax: any,\n  ay: any,\n  bx: any,\n  by: any,\n  cx: any,\n  cy: any,\n  dx: any,\n  dy: any\n) {\n  return (\n    orient2D(ax, ay, bx, by, cx, cy) * orient2D(ax, ay, bx, by, dx, dy) <= 0 &&\n    orient2D(cx, cy, dx, dy, ax, ay) * orient2D(cx, cy, dx, dy, bx, by) <= 0\n  );\n}\n\n// returns a positive value if the points a, b, and c are arranged in\n// counterclockwise order, a negative value if the points are in clockwise\n// order, and zero if the points are collinear.\n// Source: Jonathan Shewchuk http://www.cs.berkeley.edu/~jrs/meshpapers/robnotes.pdf\nfunction orient2D(ax: any, ay: any, bx: any, by: any, cx: any, cy: any) {\n  return determinant2D(ax - cx, ay - cy, bx - cx, by - cy);\n}\n\n// Determinant of matrix\n//  | a  b |\n//  | c  d |\nfunction determinant2D(a: any, b: any, c: any, d: any) {\n  return a * d - b * c;\n}\n\n// Get intersection point if segments are non-collinear, else return null\n// Assumes that segments have been intersect\nfunction crossIntersection(\n  ax: any,\n  ay: any,\n  bx: any,\n  by: any,\n  cx: any,\n  cy: any,\n  dx: any,\n  dy: any\n) {\n  let p = lineIntersection(ax, ay, bx, by, cx, cy, dx, dy);\n  let nearest;\n  if (p) {\n    // Re-order operands so intersection point is closest to a (better precision)\n    // Source: Jonathan Shewchuk http://www.cs.berkeley.edu/~jrs/meshpapers/robnotes.pdf\n    nearest = nearestPoint(p[0], p[1], ax, ay, bx, by, cx, cy, dx, dy);\n    if (nearest == 1) {\n      p = lineIntersection(bx, by, ax, ay, cx, cy, dx, dy);\n    } else if (nearest == 2) {\n      p = lineIntersection(cx, cy, dx, dy, ax, ay, bx, by);\n    } else if (nearest == 3) {\n      p = lineIntersection(dx, dy, cx, cy, ax, ay, bx, by);\n    }\n  }\n  if (p) {\n    clampIntersectionPoint(p, ax, ay, bx, by, cx, cy, dx, dy);\n  }\n  return p;\n}\n\nfunction lineIntersection(\n  ax: any,\n  ay: any,\n  bx: any,\n  by: any,\n  cx: any,\n  cy: any,\n  dx: any,\n  dy: any\n) {\n  const den = determinant2D(bx - ax, by - ay, dx - cx, dy - cy);\n  const eps = 1e-18;\n  let p;\n  if (den === 0) return null;\n  const m = orient2D(cx, cy, dx, dy, ax, ay) / den;\n  if (den <= eps && den >= -eps) {\n    // tiny denominator = low precision; using one of the endpoints as intersection\n    p = findEndpointInRange(ax, ay, bx, by, cx, cy, dx, dy);\n    /*if (!p) {\n      debug(\"[lineIntersection()]\");\n      debugSegmentIntersection([], ax, ay, bx, by, cx, cy, dx, dy);\n    }*/\n  } else {\n    p = [ax + m * (bx - ax), ay + m * (by - ay)];\n  }\n  return p;\n}\n\nfunction findEndpointInRange(\n  ax: any,\n  ay: any,\n  bx: any,\n  by: any,\n  cx: any,\n  cy: any,\n  dx: any,\n  dy: any\n) {\n  let p = null;\n  if (!outsideRange(ax, cx, dx) && !outsideRange(ay, cy, dy)) {\n    p = [ax, ay];\n  } else if (!outsideRange(bx, cx, dx) && !outsideRange(by, cy, dy)) {\n    p = [bx, by];\n  } else if (!outsideRange(cx, ax, bx) && !outsideRange(cy, ay, by)) {\n    p = [cx, cy];\n  } else if (!outsideRange(dx, ax, bx) && !outsideRange(dy, ay, by)) {\n    p = [dx, dy];\n  }\n  return p;\n}\n\n// a: coordinate of point\n// b: endpoint coordinate of segment\n// c: other endpoint of segment\nfunction outsideRange(a: any, b: any, c: any) {\n  let out;\n  if (b < c) {\n    out = a < b || a > c;\n  } else if (b > c) {\n    out = a > b || a < c;\n  } else {\n    out = a != b;\n  }\n  return out;\n}\n\n// Return id of nearest point to x, y, among x0, y0, x1, y1, ...\nfunction nearestPoint(x: any, y: any, ...args: any[]) {\n  let minIdx = -1,\n    minDist = Infinity,\n    dist;\n  for (let i = 0, j = 0, n = args.length; j < n; i++, j += 2) {\n    dist = distanceSq(x, y, args[j], args[j + 1]);\n    if (dist < minDist) {\n      minDist = dist;\n      minIdx = i;\n    }\n  }\n  return minIdx;\n}\n\nfunction distanceSq(ax: any, ay: any, bx: any, by: any) {\n  const dx = ax - bx,\n    dy = ay - by;\n  return dx * dx + dy * dy;\n}\n\nfunction clampIntersectionPoint(\n  p: any,\n  ax: any,\n  ay: any,\n  bx: any,\n  by: any,\n  cx: any,\n  cy: any,\n  dx: any,\n  dy: any\n) {\n  // Handle intersection points that fall outside the x-y range of either\n  // segment by snapping to nearest endpoint coordinate. Out-of-range\n  // intersection points can be caused by floating point rounding errors\n  // when a segment is vertical or horizontal. This has caused problems when\n  // repeatedly applying bbox clipping along the same segment\n  let x = p[0],\n    y = p[1];\n  // assumes that segment ranges intersect\n  x = clampToCloseRange(x, ax, bx);\n  x = clampToCloseRange(x, cx, dx);\n  y = clampToCloseRange(y, ay, by);\n  y = clampToCloseRange(y, cy, dy);\n  p[0] = x;\n  p[1] = y;\n}\n\nfunction clampToCloseRange(a: any, b: any, c: any) {\n  let lim;\n  if (outsideRange(a, b, c)) {\n    lim = Math.abs(a - b) < Math.abs(a - c) ? b : c;\n    if (Math.abs(a - lim) > 1e-15) {\n      //debug(\"[clampToCloseRange()] large clamping interval\", a, b, c);\n    }\n    a = lim;\n  }\n  return a;\n}\n\n// Assume segments s1 and s2 are collinear and overlap; find one or two internal endpoints\nfunction collinearIntersection(\n  ax: any,\n  ay: any,\n  bx: any,\n  by: any,\n  cx: any,\n  cy: any,\n  dx: any,\n  dy: any\n) {\n  const minX = Math.min(ax, bx, cx, dx),\n    maxX = Math.max(ax, bx, cx, dx),\n    minY = Math.min(ay, by, cy, dy),\n    maxY = Math.max(ay, by, cy, dy),\n    useY = maxY - minY > maxX - minX;\n  let coords: any = [];\n\n  if (useY ? inside(ay, minY, maxY) : inside(ax, minX, maxX)) {\n    coords.push(ax, ay);\n  }\n  if (useY ? inside(by, minY, maxY) : inside(bx, minX, maxX)) {\n    coords.push(bx, by);\n  }\n  if (useY ? inside(cy, minY, maxY) : inside(cx, minX, maxX)) {\n    coords.push(cx, cy);\n  }\n  if (useY ? inside(dy, minY, maxY) : inside(dx, minX, maxX)) {\n    coords.push(dx, dy);\n  }\n  if (coords.length != 2 && coords.length != 4) {\n    coords = null;\n    //debug(\"Invalid collinear segment intersection\", coords);\n  } else if (\n    coords.length == 4 &&\n    coords[0] == coords[2] &&\n    coords[1] == coords[3]\n  ) {\n    // segs that meet in the middle don't count\n    coords = null;\n  }\n  return coords;\n}\n\nfunction endpointHit(\n  ax: any,\n  ay: any,\n  bx: any,\n  by: any,\n  cx: any,\n  cy: any,\n  dx: any,\n  dy: any\n) {\n  return (\n    (ax == cx && ay == cy) ||\n    (ax == dx && ay == dy) ||\n    (bx == cx && by == cy) ||\n    (bx == dx && by == dy)\n  );\n}\n\nfunction inside(x: any, minX: any, maxX: any) {\n  return x > minX && x < maxX;\n}\n\n// @xx array of x coords\n// @ids an array of segment endpoint ids [a0, b0, a1, b1, ...]\n// Sort @ids in place so that xx[a(n)] <= xx[b(n)] and xx[a(n)] <= xx[a(n+1)]\nfunction sortSegmentIds(xx: any, ids: any) {\n  orderSegmentIds(xx, ids);\n  quicksortSegmentIds(xx, ids, 0, ids.length - 2);\n}\n\nfunction orderSegmentIds(xx: any, ids: any) {\n  for (let i = 0, n = ids.length; i < n; i += 2) {\n    if (xx[ids[i]] > xx[ids[i + 1]]) {\n      swap(ids, i, i + 1);\n    }\n  }\n}\n\nfunction swap(ids: any, i: number, j: number) {\n  const tmp = ids[i];\n  ids[i] = ids[j];\n  ids[j] = tmp;\n}\n\nfunction quicksortSegmentIds(a: any, ids: any, lo: any, hi: any) {\n  let i = lo,\n    j = hi,\n    pivot,\n    tmp;\n  while (i < hi) {\n    pivot = a[ids[((lo + hi) >> 2) << 1]]; // avoid n^2 performance on sorted arrays\n    while (i <= j) {\n      while (a[ids[i]] < pivot) i += 2;\n      while (a[ids[j]] > pivot) j -= 2;\n      if (i <= j) {\n        tmp = ids[i];\n        ids[i] = ids[j];\n        ids[j] = tmp;\n        tmp = ids[i + 1];\n        ids[i + 1] = ids[j + 1];\n        ids[j + 1] = tmp;\n        i += 2;\n        j -= 2;\n      }\n    }\n\n    if (j - lo < 40) insertionSortSegmentIds(a, ids, lo, j);\n    else quicksortSegmentIds(a, ids, lo, j);\n    if (hi - i < 40) {\n      insertionSortSegmentIds(a, ids, i, hi);\n      return;\n    }\n    lo = i;\n    j = hi;\n  }\n}\n\nfunction insertionSortSegmentIds(arr: any, ids: any, start: any, end: any) {\n  let id, id2;\n  for (let j = start + 2; j <= end; j += 2) {\n    id = ids[j];\n    id2 = ids[j + 1];\n    let i;\n    for (i = j - 2; i >= start && arr[id] < arr[ids[i]]; i -= 2) {\n      ids[i + 2] = ids[i];\n      ids[i + 3] = ids[i + 1];\n    }\n    ids[i + 2] = id;\n    ids[i + 3] = id2;\n  }\n}\n\nfunction formatIntersection(xy: any, s1: any, s2: any, xx: any, yy: any) {\n  const x = xy[0],\n    y = xy[1];\n  s1 = formatIntersectingSegment(x, y, s1[0], s1[1], xx, yy);\n  s2 = formatIntersectingSegment(x, y, s2[0], s2[1], xx, yy);\n  const a = s1[0] < s2[0] ? s1 : s2;\n  const b = a == s1 ? s2 : s1;\n  return { x, y, a, b };\n}\n\nfunction formatIntersectingSegment(\n  x: any,\n  y: any,\n  id1: any,\n  id2: any,\n  xx: any,\n  yy: any\n) {\n  let i = id1 < id2 ? id1 : id2,\n    j = i === id1 ? id2 : id1;\n  if (xx[i] == x && yy[i] == y) {\n    j = i;\n  } else if (xx[j] == x && yy[j] == y) {\n    i = j;\n  }\n  return [i, j];\n}\n\nfunction dedupIntersections(arr: any) {\n  const index: any = {};\n  return arr.filter((o: any) => {\n    const key = getIntersectionKey(o);\n    if (key in index) {\n      return false;\n    }\n    index[key] = true;\n    return true;\n  });\n}\n\n// Get an indexable key from an intersection object\n// Assumes that vertex ids of o.a and o.b are sorted\nfunction getIntersectionKey(o: any) {\n  return `${o.a.join(\",\")};${o.b.join(\",\")}`;\n}\n\n// Constructor takes arrays of coords: xx, yy, zz (optional)\n//\nclass ArcIter {\n  _i = 0;\n  _n = 0;\n  _inc = 1;\n  _xx: Float64Array;\n  _yy: Float64Array;\n  i = 0;\n  x = 0;\n  y = 0;\n\n  constructor(xx: Float64Array, yy: Float64Array) {\n    this._xx = xx;\n    this._yy = yy;\n  }\n}\n\nfunction calcArcBounds(\n  xx: Float64Array,\n  yy: Float64Array,\n  start: number,\n  len: number\n) {\n  let i = start | 0;\n  const n = isNaN(len) ? xx.length - i : len + i;\n  let x: number,\n    y: number,\n    xmin: number,\n    ymin: number,\n    xmax: number,\n    ymax: number;\n  if (n > 0) {\n    xmin = xmax = xx[i];\n    ymin = ymax = yy[i];\n  } else return [undefined, undefined, undefined, undefined];\n  for (i++; i < n; i++) {\n    x = xx[i];\n    y = yy[i];\n    if (x < xmin) xmin = x;\n    if (x > xmax) xmax = x;\n    if (y < ymin) ymin = y;\n    if (y > ymax) ymax = y;\n  }\n  return [xmin, ymin, xmax, ymax];\n}\n\nclass Bounds {\n  xmin?: number;\n  ymin?: number;\n  xmax?: number;\n  ymax?: number;\n\n  constructor(...args: any[]) {\n    if (args.length > 0) {\n      this.setBounds(args);\n    }\n  }\n\n  // Return a bounding box with the same extent as this one.\n  cloneBounds() {\n    return this.clone();\n  }\n\n  clone() {\n    // alias so child classes can override clone()\n    return new Bounds(this.xmin, this.ymin, this.xmax, this.ymax);\n  }\n\n  width() {\n    return this.xmax! - this.xmin! || 0;\n  }\n\n  height() {\n    return this.ymax! - this.ymin! || 0;\n  }\n\n  setBounds(a: any, b?: number, c?: number, d?: number) {\n    if (arguments.length == 1) {\n      // assume first arg is a Bounds or array\n      if (isArrayLike(a)) {\n        b = a[1];\n        c = a[2];\n        d = a[3];\n        a = a[0];\n      } else {\n        b = a.ymin;\n        c = a.xmax;\n        d = a.ymax;\n        a = a.xmin;\n      }\n    }\n\n    this.xmin = a;\n    this.ymin = b;\n    this.xmax = c;\n    this.ymax = d;\n    if (a > c! || b! > d!) this.update();\n    // error(\"Bounds#setBounds() min/max reversed:\", a, b, c, d);\n    return this;\n  }\n\n  update() {\n    let tmp: number;\n    if (this.xmin! > this.xmax!) {\n      tmp = this.xmin!;\n      this.xmin = this.xmax;\n      this.xmax = tmp;\n    }\n    if (this.ymin! > this.ymax!) {\n      tmp = this.ymin!;\n      this.ymin = this.ymax;\n      this.ymax = tmp;\n    }\n  }\n\n  mergeBounds(bb: number | number[] | Bounds, ...args: number[]) {\n    let a: number, b: number, c: number, d: number;\n    if (bb instanceof Bounds) {\n      a = bb.xmin!;\n      b = bb.ymin!;\n      c = bb.xmax!;\n      d = bb.ymax!;\n    } else if (args.length == 3) {\n      a = bb as number;\n      b = args[0];\n      c = args[1];\n      d = args[2];\n    } else if ((bb as number[]).length == 4) {\n      // assume array: [xmin, ymin, xmax, ymax]\n      a = (bb as number[])[0];\n      b = (bb as number[])[1];\n      c = (bb as number[])[2];\n      d = (bb as number[])[3];\n    } else {\n      error(\"Bounds#mergeBounds() invalid argument:\", bb);\n    }\n\n    if (this.xmin === void 0) {\n      this.setBounds(a!, b!, c!, d!);\n    } else {\n      if (a! < this.xmin) this.xmin = a!;\n      if (b! < this.ymin!) this.ymin = b!;\n      if (c! > this.xmax!) this.xmax = c!;\n      if (d! > this.ymax!) this.ymax = d!;\n    }\n    return this;\n  }\n}\n","/* eslint-disable @typescript-eslint/ban-ts-comment */\n// This library is based on\n// https://savithru-j.github.io/cdt-js/\n// Copyright 2018 Savithru Jayasinghe\n// Licensed under the MIT License\n// A fast algorithm for generating constrained delaunay triangulations\n// https://www.sciencedirect.com/science/article/pii/004579499390239A\n// A robust efficient algorithm for point location in triangulations\n// https://www.cl.cam.ac.uk/techreports/UCAM-CL-TR-728.pdf\n\nimport { polygon, featureCollection, FeatureCollection } from \"@turf/helpers\";\n\nclass Point {\n  // eslint-disable-next-line no-useless-constructor\n  constructor(public x: number, public y: number) {}\n\n  public dot(p1: Point): number {\n    return this.x * p1.x + this.y * p1.y;\n  }\n\n  public add(p1: Point): Point {\n    return new Point(this.x + p1.x, this.y + p1.y);\n  }\n\n  public sub(p1: Point): Point {\n    return new Point(this.x - p1.x, this.y - p1.y);\n  }\n\n  public scale(s: number): Point {\n    return new Point(this.x * s, this.y * s);\n  }\n\n  public sqDistanceTo(p1: Point): number {\n    return (\n      (this.x - p1.x) * (this.x - p1.x) + (this.y - p1.y) * (this.y - p1.y)\n    );\n  }\n\n  public toStr(): string {\n    return `(${this.x.toFixed(3)}, ${this.y.toFixed(3)})`;\n  }\n\n  public copyFrom(p: Point): void {\n    this.x = p.x;\n    this.y = p.y;\n  }\n}\n\nfunction cross(vec0: Point, vec1: Point): number {\n  return vec0.x * vec1.y - vec0.y * vec1.x;\n}\n\nfunction getPointOrientation(edge: [Point, Point], p: Point): number {\n  const vec_edge01 = edge[1].sub(edge[0]);\n  const vec_edge0_to_p = p.sub(edge[0]);\n  return cross(vec_edge01, vec_edge0_to_p);\n}\n\n//Some variables for rendering\nconst fieldOrigin = new Point(0.0, 0.0); //new Point(-16000000, -16000000);\nconst fieldSize = 1.0; //32000000;\nconst boundingTriangleSize = 1000; //1000000000;\n\ninterface Bin {\n  ind: number;\n  bin: number;\n}\n\nfunction binSorter(a: Bin, b: Bin) {\n  if (a.bin == b.bin) {\n    return 0;\n  } else {\n    return a.bin < b.bin ? -1 : 1;\n  }\n}\n\nfunction isQuadConvex(p0: Point, p1: Point, p2: Point, p3: Point): boolean {\n  const diag0: [Point, Point] = [p0, p2];\n  const diag1: [Point, Point] = [p1, p3];\n  return isEdgeIntersecting(diag0, diag1);\n}\n\nfunction isSameEdge(edge0: Edge, edge1: Edge): boolean {\n  return (\n    (edge0[0] == edge1[0] && edge0[1] == edge1[1]) ||\n    (edge0[1] == edge1[0] && edge0[0] == edge1[1])\n  );\n}\n\nfunction isEdgeIntersecting(\n  edgeA: [Point, Point],\n  edgeB: [Point, Point]\n): boolean {\n  const vecA0A1 = edgeA[1].sub(edgeA[0]);\n  const vecA0B0 = edgeB[0].sub(edgeA[0]);\n  const vecA0B1 = edgeB[1].sub(edgeA[0]);\n  const AxB0 = cross(vecA0A1, vecA0B0);\n  const AxB1 = cross(vecA0A1, vecA0B1);\n  //Check if the endpoints of edgeB are on the same side of edgeA\n  if ((AxB0 > 0 && AxB1 > 0) || (AxB0 < 0 && AxB1 < 0)) return false;\n  const vecB0B1 = edgeB[1].sub(edgeB[0]);\n  const vecB0A0 = edgeA[0].sub(edgeB[0]);\n  const vecB0A1 = edgeA[1].sub(edgeB[0]);\n  const BxA0 = cross(vecB0B1, vecB0A0);\n  const BxA1 = cross(vecB0B1, vecB0A1);\n  //Check if the endpoints of edgeA are on the same side of edgeB\n  if ((BxA0 > 0 && BxA1 > 0) || (BxA0 < 0 && BxA1 < 0)) return false;\n  //Special case of colinear edges\n  if (Math.abs(AxB0) < 1e-14 && Math.abs(AxB1) < 1e-14) {\n    //Separated in x\n    if (\n      Math.max(edgeB[0].x, edgeB[1].x) < Math.min(edgeA[0].x, edgeA[1].x) ||\n      Math.min(edgeB[0].x, edgeB[1].x) > Math.max(edgeA[0].x, edgeA[1].x)\n    )\n      return false;\n    //Separated in y\n    if (\n      Math.max(edgeB[0].y, edgeB[1].y) < Math.min(edgeA[0].y, edgeA[1].y) ||\n      Math.min(edgeB[0].y, edgeB[1].y) > Math.max(edgeA[0].y, edgeA[1].y)\n    )\n      return false;\n  }\n  return true;\n}\n\ninterface Mesh {\n  vert: Point[];\n  scaled_vert: Point[];\n  bin: Bin[];\n  tri: [[number, number, number]];\n  adj: [[number, number, number]];\n  vert_to_tri: any[];\n  con_edge: Edge[];\n}\n\nfunction setupDelaunay(meshData: Mesh) {\n  const nVertex = meshData.vert.length;\n  const nBinsX = Math.round(Math.pow(nVertex, 0.25));\n  //Compute scaled vertex coordinates and assign each vertex to a bin\n  const scaledverts: Point[] = [];\n  const bin_index: Bin[] = [];\n  for (let i = 0; i < nVertex; i++) {\n    const scaled_x = (meshData.vert[i].x - fieldOrigin.x) / fieldSize;\n    const scaled_y = (meshData.vert[i].y - fieldOrigin.y) / fieldSize;\n    scaledverts.push(new Point(scaled_x, scaled_y));\n    const ind_i = Math.round((nBinsX - 1) * scaled_x);\n    const ind_j = Math.round((nBinsX - 1) * scaled_y);\n    let bin_id: number;\n    if (ind_j % 2 === 0) {\n      bin_id = ind_j * nBinsX + ind_i;\n    } else {\n      bin_id = (ind_j + 1) * nBinsX - ind_i - 1;\n    }\n    bin_index.push({ ind: i, bin: bin_id });\n  }\n  //Add super-triangle vertices (far away)\n  const D = boundingTriangleSize;\n  scaledverts.push(new Point(-D + 0.5, -D / Math.sqrt(3) + 0.5));\n  scaledverts.push(new Point(D + 0.5, -D / Math.sqrt(3) + 0.5));\n  scaledverts.push(new Point(0.5, (2 * D) / Math.sqrt(3) + 0.5));\n  for (let i = nVertex; i < nVertex + 3; i++)\n    meshData.vert.push(\n      new Point(\n        fieldSize * scaledverts[i].x + fieldOrigin.x,\n        fieldSize * scaledverts[i].y + fieldOrigin.y\n      )\n    );\n  //Sort the vertices in ascending bin order\n  bin_index.sort(binSorter);\n  meshData.scaled_vert = scaledverts;\n  meshData.bin = bin_index;\n  //Super-triangle connectivity\n  meshData.tri = [[nVertex, nVertex + 1, nVertex + 2]];\n  meshData.adj = [[-1, -1, -1]];\n  meshData.vert_to_tri = [];\n}\n\n//Function for computing the unconstrained Delaunay triangulation\nfunction delaunay(meshData: Mesh): void {\n  //Sort input vertices and setup super-triangle\n  setupDelaunay(meshData);\n  const verts = meshData.scaled_vert;\n  const bins = meshData.bin;\n  const triangles = meshData.tri;\n  const adjacency = meshData.adj;\n  const N = verts.length - 3; //vertices includes super-triangle nodes\n  let ind_tri = 0; //points to the super-triangle\n  for (let i = 0; i < N; i++) {\n    const new_i = bins[i].ind;\n    const res = findEnclosingTriangle(verts[new_i], meshData, ind_tri);\n    ind_tri = res[0];\n    if (ind_tri === -1)\n      throw \"Could not find a triangle containing the new vertex!\";\n    const cur_tri = triangles[ind_tri]; //vertex indices of triangle containing new point\n    const new_tri0: [number, number, number] = [cur_tri[0], cur_tri[1], new_i];\n    const new_tri1: [number, number, number] = [new_i, cur_tri[1], cur_tri[2]];\n    const new_tri2: [number, number, number] = [cur_tri[0], new_i, cur_tri[2]];\n    //Replace the triangle containing the point with new_tri0, and\n    //fix its adjacency\n    triangles[ind_tri] = new_tri0;\n    const N_tri = triangles.length;\n    const cur_tri_adj = adjacency[ind_tri]; //neighbors of cur_tri\n    adjacency[ind_tri] = [N_tri, N_tri + 1, cur_tri_adj[2]];\n    //Add the other two new triangles to the list\n    triangles.push(new_tri1); //triangle index N_tri\n    triangles.push(new_tri2); //triangle index (N_tri+1)\n    adjacency.push([cur_tri_adj[0], N_tri + 1, ind_tri]); //adj for triangle N_tri\n    adjacency.push([N_tri, cur_tri_adj[1], ind_tri]); //adj for triangle (N_tri+1)\n    //stack of triangles which need to be checked for Delaunay condition\n    //each element contains: [index of tri to check, adjncy index to goto triangle that contains new point]\n    const stack: [number, number][] = [];\n    if (cur_tri_adj[2] >= 0) {\n      //if triangle cur_tri's neighbor exists\n      //Find the index for cur_tri in the adjacency of the neighbor\n      const neigh_adj_ind = adjacency[cur_tri_adj[2]].indexOf(ind_tri);\n      //No need to update adjacency, but push the neighbor on to the stack\n      stack.push([cur_tri_adj[2], neigh_adj_ind]);\n    }\n    if (cur_tri_adj[0] >= 0) {\n      //if triangle N_tri's neighbor exists\n      //Find the index for cur_tri in the adjacency of the neighbor\n      const neigh_adj_ind = adjacency[cur_tri_adj[0]].indexOf(ind_tri);\n      adjacency[cur_tri_adj[0]][neigh_adj_ind] = N_tri;\n      stack.push([cur_tri_adj[0], neigh_adj_ind]);\n    }\n    if (cur_tri_adj[1] >= 0) {\n      //if triangle (N_tri+1)'s neighbor exists\n      //Find the index for cur_tri in the adjacency of the neighbor\n      const neigh_adj_ind = adjacency[cur_tri_adj[1]].indexOf(ind_tri);\n      adjacency[cur_tri_adj[1]][neigh_adj_ind] = N_tri + 1;\n      stack.push([cur_tri_adj[1], neigh_adj_ind]);\n    }\n    restoreDelaunay(new_i, meshData, stack);\n  } //loop over vertices\n  removeBoundaryTriangles(meshData);\n}\n\n//Uses edge orientations - based on Peter Brown's Technical Report 1997\nfunction findEnclosingTriangle(\n  target_vertex: Point,\n  meshData: Mesh,\n  ind_tri_cur: number\n): number[] {\n  const vertices = meshData.scaled_vert;\n  const triangles = meshData.tri;\n  const adjacency = meshData.adj;\n  const max_hops = Math.max(10, adjacency.length);\n  let nhops = 0;\n  const found_tri = false;\n  const path = [];\n  while (!found_tri && nhops < max_hops) {\n    if (ind_tri_cur === -1)\n      //target is outside triangulation\n      return [ind_tri_cur, nhops];\n    const tri_cur = triangles[ind_tri_cur];\n    //Orientation of target wrt each edge of triangle (positive if on left of edge)\n    const orients = [\n      getPointOrientation(\n        [vertices[tri_cur[1]], vertices[tri_cur[2]]],\n        target_vertex\n      ),\n      getPointOrientation(\n        [vertices[tri_cur[2]], vertices[tri_cur[0]]],\n        target_vertex\n      ),\n      getPointOrientation(\n        [vertices[tri_cur[0]], vertices[tri_cur[1]]],\n        target_vertex\n      )\n    ];\n    if (orients[0] >= 0 && orients[1] >= 0 && orients[2] >= 0)\n      //target is to left of all edges, so inside tri\n      return [ind_tri_cur, nhops];\n    let base_ind = -1;\n    for (let iedge = 0; iedge < 3; iedge++) {\n      if (orients[iedge] >= 0) {\n        base_ind = iedge;\n        break;\n      }\n    }\n    const base_p1_ind = (base_ind + 1) % 3;\n    const base_p2_ind = (base_ind + 2) % 3;\n    if (orients[base_p1_ind] >= 0 && orients[base_p2_ind] < 0) {\n      ind_tri_cur = adjacency[ind_tri_cur][base_p2_ind]; //should move to the triangle opposite base_p2_ind\n      path[nhops] = vertices[tri_cur[base_ind]]\n        .add(vertices[tri_cur[base_p1_ind]])\n        .scale(0.5);\n    } else if (orients[base_p1_ind] < 0 && orients[base_p2_ind] >= 0) {\n      ind_tri_cur = adjacency[ind_tri_cur][base_p1_ind]; //should move to the triangle opposite base_p1_ind\n      path[nhops] = vertices[tri_cur[base_p2_ind]]\n        .add(vertices[tri_cur[base_ind]])\n        .scale(0.5);\n    } else {\n      const vec0 = vertices[tri_cur[base_p1_ind]].sub(\n        vertices[tri_cur[base_ind]]\n      ); //vector from base_ind to base_p1_ind\n      const vec1 = target_vertex.sub(vertices[tri_cur[base_ind]]); //vector from base_ind to target_vertex\n      if (vec0.dot(vec1) > 0) {\n        ind_tri_cur = adjacency[ind_tri_cur][base_p2_ind]; //should move to the triangle opposite base_p2_ind\n        path[nhops] = vertices[tri_cur[base_ind]]\n          .add(vertices[tri_cur[base_p1_ind]])\n          .scale(0.5);\n      } else {\n        ind_tri_cur = adjacency[ind_tri_cur][base_p1_ind]; //should move to the triangle opposite base_p1_ind\n        path[nhops] = vertices[tri_cur[base_p2_ind]]\n          .add(vertices[tri_cur[base_ind]])\n          .scale(0.5);\n      }\n    }\n    nhops++;\n  }\n  if (!found_tri) {\n    throw `Could not locate the triangle that encloses (${target_vertex.x}, ${target_vertex.y})!`;\n  }\n  return [ind_tri_cur, nhops - 1];\n}\n\nfunction restoreDelaunay(\n  ind_vert: number,\n  meshData: Mesh,\n  stack: [number, number][]\n) {\n  const vertices = meshData.scaled_vert;\n  const triangles = meshData.tri;\n  const adjacency = meshData.adj;\n  const v_new = vertices[ind_vert];\n  while (stack.length > 0) {\n    const ind_tri_pair = stack.pop(); //[index of tri to check, adjncy index to goto triangle that contains new point]\n    // @ts-expect-error\n    const ind_tri = ind_tri_pair[0];\n    const ind_tri_vert = triangles[ind_tri]; //vertex indices of the triangle\n    // @ts-expect-error\n    const v_tri: [Point, Point, Point] = [];\n    for (let i = 0; i < 3; i++) v_tri[i] = vertices[ind_tri_vert[i]];\n    if (!isDelaunay2(v_tri, v_new)) {\n      //v_new lies inside the circumcircle of the triangle, so need to swap diagonals\n      // @ts-expect-error\n      const outernode_tri = ind_tri_pair[1]; // [0,1,2] node-index of vertex that's not part of the common edge\n      const ind_tri_neigh = adjacency[ind_tri][outernode_tri];\n      if (ind_tri_neigh < 0) throw \"negative index\";\n      //Swap the diagonal between the adjacent triangles\n      swapDiagonal(meshData, ind_tri, ind_tri_neigh);\n      //Add the triangles opposite the new vertex to the stack\n      const new_node_ind_tri = triangles[ind_tri].indexOf(ind_vert);\n      const ind_tri_outerp2 = adjacency[ind_tri][new_node_ind_tri];\n      if (ind_tri_outerp2 >= 0) {\n        const neigh_node = adjacency[ind_tri_outerp2].indexOf(ind_tri);\n        stack.push([ind_tri_outerp2, neigh_node]);\n      }\n      const new_node_ind_tri_neigh = triangles[ind_tri_neigh].indexOf(ind_vert);\n      const ind_tri_neigh_outer =\n        adjacency[ind_tri_neigh][new_node_ind_tri_neigh];\n      if (ind_tri_neigh_outer >= 0) {\n        const neigh_node = adjacency[ind_tri_neigh_outer].indexOf(\n          ind_tri_neigh\n        );\n        stack.push([ind_tri_neigh_outer, neigh_node]);\n      }\n    } //is not Delaunay\n  }\n}\n//Swaps the diagonal of adjacent triangles A and B\nfunction swapDiagonal(\n  meshData: Mesh,\n  ind_triA: number,\n  ind_triB: number\n): void {\n  const triangles = meshData.tri;\n  const adjacency = meshData.adj;\n  const vert2tri = meshData.vert_to_tri;\n  //Find the node index of the outer vertex in each triangle\n  const outernode_triA = adjacency[ind_triA].indexOf(ind_triB);\n  const outernode_triB = adjacency[ind_triB].indexOf(ind_triA);\n  //Indices of nodes after the outernode (i.e. nodes of the common edge)\n  const outernode_triA_p1 = (outernode_triA + 1) % 3;\n  const outernode_triA_p2 = (outernode_triA + 2) % 3;\n  const outernode_triB_p1 = (outernode_triB + 1) % 3;\n  const outernode_triB_p2 = (outernode_triB + 2) % 3;\n  //Update triangle nodes\n  triangles[ind_triA][outernode_triA_p2] = triangles[ind_triB][outernode_triB];\n  triangles[ind_triB][outernode_triB_p2] = triangles[ind_triA][outernode_triA];\n  //Update adjacencies for triangle opposite outernode\n  adjacency[ind_triA][outernode_triA] = adjacency[ind_triB][outernode_triB_p1];\n  adjacency[ind_triB][outernode_triB] = adjacency[ind_triA][outernode_triA_p1];\n  //Update adjacency of neighbor opposite triangle A's (outernode+1) node\n  const ind_triA_neigh_outerp1 = adjacency[ind_triA][outernode_triA_p1];\n  if (ind_triA_neigh_outerp1 >= 0) {\n    const neigh_node = adjacency[ind_triA_neigh_outerp1].indexOf(ind_triA);\n    adjacency[ind_triA_neigh_outerp1][neigh_node] = ind_triB;\n  }\n  //Update adjacency of neighbor opposite triangle B's (outernode+1) node\n  const ind_triB_neigh_outerp1 = adjacency[ind_triB][outernode_triB_p1];\n  if (ind_triB_neigh_outerp1 >= 0) {\n    const neigh_node = adjacency[ind_triB_neigh_outerp1].indexOf(ind_triB);\n    adjacency[ind_triB_neigh_outerp1][neigh_node] = ind_triA;\n  }\n  //Update adjacencies for triangles opposite the (outernode+1) node\n  adjacency[ind_triA][outernode_triA_p1] = ind_triB;\n  adjacency[ind_triB][outernode_triB_p1] = ind_triA;\n  //Update vertex to triangle connectivity, if data structure exists\n  if (vert2tri.length > 0) {\n    //The original outernodes will now be part of both triangles\n    vert2tri[triangles[ind_triA][outernode_triA]].push(ind_triB);\n    vert2tri[triangles[ind_triB][outernode_triB]].push(ind_triA);\n    //Remove triangle B from the triangle set of outernode_triA_p1\n    let local_ind = vert2tri[triangles[ind_triA][outernode_triA_p1]].indexOf(\n      ind_triB\n    );\n    vert2tri[triangles[ind_triA][outernode_triA_p1]].splice(local_ind, 1);\n    //Remove triangle A from the triangle set of outernode_triB_p1\n    local_ind = vert2tri[triangles[ind_triB][outernode_triB_p1]].indexOf(\n      ind_triA\n    );\n    vert2tri[triangles[ind_triB][outernode_triB_p1]].splice(local_ind, 1);\n  }\n}\nfunction removeBoundaryTriangles(meshData: Mesh): void {\n  const verts = meshData.scaled_vert;\n  const triangles = meshData.tri;\n  const adjacency = meshData.adj;\n  const N = verts.length - 3;\n  let del_count = 0;\n  const indmap: number[] = [];\n  for (let i = 0; i < triangles.length; i++) {\n    const prev_del_count = del_count;\n    for (let j = i; j < triangles.length; j++) {\n      if (triangles[j][0] < N && triangles[j][1] < N && triangles[j][2] < N) {\n        indmap[i + del_count] = i;\n        break;\n      } else {\n        indmap[i + del_count] = -1;\n        del_count++;\n      }\n    }\n    const del_length = del_count - prev_del_count;\n    if (del_length > 0) {\n      triangles.splice(i, del_length);\n      adjacency.splice(i, del_length);\n    }\n  }\n  //Update adjacencies\n  for (let i = 0; i < adjacency.length; i++)\n    for (let j = 0; j < 3; j++) adjacency[i][j] = indmap[adjacency[i][j]];\n  //Delete super-triangle nodes\n  meshData.scaled_vert.splice(-3, 3);\n  meshData.vert.splice(-3, 3);\n}\n\nfunction isDelaunay2(v_tri: [Point, Point, Point], p: Point): boolean {\n  const vecp0 = v_tri[0].sub(p);\n  const vecp1 = v_tri[1].sub(p);\n  const vecp2 = v_tri[2].sub(p);\n  const p0_sq = vecp0.x * vecp0.x + vecp0.y * vecp0.y;\n  const p1_sq = vecp1.x * vecp1.x + vecp1.y * vecp1.y;\n  const p2_sq = vecp2.x * vecp2.x + vecp2.y * vecp2.y;\n  const det =\n    vecp0.x * (vecp1.y * p2_sq - p1_sq * vecp2.y) -\n    vecp0.y * (vecp1.x * p2_sq - p1_sq * vecp2.x) +\n    p0_sq * (vecp1.x * vecp2.y - vecp1.y * vecp2.x);\n  return det <= 0;\n}\n\nfunction constrainEdges(meshData: Mesh) {\n  if (meshData.con_edge.length == 0) return;\n  buildVertexConnectivity(meshData);\n  const con_edges = meshData.con_edge;\n  const triangles = meshData.tri;\n  const verts = meshData.scaled_vert;\n  const adjacency = meshData.adj;\n  const vert2tri = meshData.vert_to_tri;\n  const newEdgeList: any = [];\n  for (let iedge = 0; iedge < con_edges.length; iedge++) {\n    let intersections = getEdgeIntersections(meshData, iedge);\n    let iter = 0;\n    const maxIter = Math.max(intersections.length, 1);\n    while (intersections.length > 0 && iter < maxIter) {\n      fixEdgeIntersections(meshData, intersections, iedge, newEdgeList);\n      intersections = getEdgeIntersections(meshData, iedge);\n      iter++;\n    }\n    if (intersections.length > 0)\n      throw `Could not add edge ${iedge} to triangulation after ${maxIter} iterations!`;\n  } //loop over constrained edges\n  //Restore Delaunay\n  // eslint-disable-next-line no-constant-condition\n  while (true) {\n    let num_diagonal_swaps = 0;\n    for (let iedge = 0; iedge < newEdgeList.length; iedge++) {\n      const new_edge_nodes = newEdgeList[iedge];\n      //Check if the new edge is a constrained edge\n      let is_con_edge = false;\n      for (let jedge = 0; jedge < con_edges.length; jedge++) {\n        if (isSameEdge(new_edge_nodes, con_edges[jedge])) {\n          is_con_edge = true;\n          break;\n        }\n      }\n      if (is_con_edge) continue; //cannot change this edge if it's constrained\n      const tri_around_v0 = vert2tri[new_edge_nodes[0]];\n      let tri_count = 0;\n      const tri_ind_pair = [-1, -1]; //indices of the triangles on either side of this edge\n      for (let itri = 0; itri < tri_around_v0.length; itri++) {\n        const cur_tri = triangles[tri_around_v0[itri]];\n        if (\n          cur_tri[0] == new_edge_nodes[1] ||\n          cur_tri[1] == new_edge_nodes[1] ||\n          cur_tri[2] == new_edge_nodes[1]\n        ) {\n          tri_ind_pair[tri_count] = tri_around_v0[itri];\n          tri_count++;\n          if (tri_count == 2) break; //found both neighboring triangles\n        }\n      }\n      if (tri_ind_pair[0] == -1) continue; //this edge no longer exists, so nothing to do.\n      const triA_verts: [Point, Point, Point] = [\n        verts[triangles[tri_ind_pair[0]][0]],\n        verts[triangles[tri_ind_pair[0]][1]],\n        verts[triangles[tri_ind_pair[0]][2]]\n      ];\n      const outer_nodeB_ind = adjacency[tri_ind_pair[1]].indexOf(\n        tri_ind_pair[0]\n      );\n      const triB_vert = verts[triangles[tri_ind_pair[1]][outer_nodeB_ind]];\n      if (!isDelaunay2(triA_verts, triB_vert)) {\n        const outer_nodeA_ind = adjacency[tri_ind_pair[0]].indexOf(\n          tri_ind_pair[1]\n        );\n        //Swap the diagonal between the pair of triangles\n        swapDiagonal(meshData, tri_ind_pair[0], tri_ind_pair[1]);\n        num_diagonal_swaps++;\n        //Replace current new edge with the new diagonal\n        newEdgeList[iedge] = [\n          triangles[tri_ind_pair[0]][outer_nodeA_ind],\n          triangles[tri_ind_pair[1]][outer_nodeB_ind]\n        ];\n      }\n    } //loop over new edges\n    if (num_diagonal_swaps == 0) break; //no further swaps, we're done.\n  }\n}\nfunction buildVertexConnectivity(meshData: Mesh): void {\n  const triangles = meshData.tri;\n  meshData.vert_to_tri = [];\n  const vConnectivity = meshData.vert_to_tri;\n  for (let itri = 0; itri < triangles.length; itri++) {\n    for (let node = 0; node < 3; node++) {\n      if (vConnectivity[triangles[itri][node]] == undefined)\n        vConnectivity[triangles[itri][node]] = [itri];\n      else vConnectivity[triangles[itri][node]].push(itri);\n    }\n  }\n}\nfunction getEdgeIntersections(meshData: Mesh, iedge: any) {\n  const triangles = meshData.tri;\n  const verts = meshData.scaled_vert;\n  const adjacency = meshData.adj;\n  const con_edges = meshData.con_edge;\n  const vert2tri = meshData.vert_to_tri;\n  const edge_v0_ind = con_edges[iedge][0];\n  const edge_v1_ind = con_edges[iedge][1];\n  const edge_coords: [Point, Point] = [verts[edge_v0_ind], verts[edge_v1_ind]];\n  const tri_around_v0 = vert2tri[edge_v0_ind];\n  let edge_in_triangulation = false;\n  //stores the index of tri that intersects current edge,\n  //and the edge-index of intersecting edge in triangle\n  const intersections = [];\n  for (let itri = 0; itri < tri_around_v0.length; itri++) {\n    const cur_tri = triangles[tri_around_v0[itri]];\n    const v0_node = cur_tri.indexOf(edge_v0_ind);\n    const v0p1_node = (v0_node + 1) % 3;\n    const v0p2_node = (v0_node + 2) % 3;\n    if (edge_v1_ind == cur_tri[v0p1_node]) {\n      //constrained edge is an edge of the current tri (node v0_node to v0_node+1)\n      edge_in_triangulation = true;\n      break;\n    } else if (edge_v1_ind == cur_tri[v0p2_node]) {\n      //constrained edge is an edge of the current tri (node v0_node to v0_node+2)\n      edge_in_triangulation = true;\n      break;\n    }\n    const opposite_edge_coords: [Point, Point] = [\n      verts[cur_tri[v0p1_node]],\n      verts[cur_tri[v0p2_node]]\n    ];\n    if (isEdgeIntersecting(edge_coords, opposite_edge_coords)) {\n      intersections.push([tri_around_v0[itri], v0_node]);\n      break;\n    }\n  }\n  if (!edge_in_triangulation) {\n    if (intersections.length == 0) throw \"Cannot have no intersections!\";\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n      const prev_intersection: any = intersections[intersections.length - 1]; //[tri ind][node ind for edge]\n      const tri_ind = adjacency[prev_intersection[0]][prev_intersection[1]];\n      if (\n        triangles[tri_ind][0] == edge_v1_ind ||\n        triangles[tri_ind][1] == edge_v1_ind ||\n        triangles[tri_ind][2] == edge_v1_ind\n      ) {\n        break; //found the end node of the edge\n      }\n      //Find the index of the edge from which we came into this triangle\n\n      const prev_edge_ind = adjacency[tri_ind].indexOf(prev_intersection[0]);\n      if (prev_edge_ind == -1) throw \"Could not find edge!\";\n      const cur_tri = triangles[tri_ind];\n      //Loop over the other two edges in this triangle,\n      //and check if they intersect the constrained edge\n      for (let offset = 1; offset < 3; offset++) {\n        const v0_node = (prev_edge_ind + offset + 1) % 3;\n        const v1_node = (prev_edge_ind + offset + 2) % 3;\n        const cur_edge_coords: [Point, Point] = [\n          verts[cur_tri[v0_node]],\n          verts[cur_tri[v1_node]]\n        ];\n        if (isEdgeIntersecting(edge_coords, cur_edge_coords)) {\n          intersections.push([tri_ind, (prev_edge_ind + offset) % 3]);\n          break;\n        }\n      }\n    } //while intersections not found\n  } //if edge not in triangulation\n  return intersections;\n}\nfunction fixEdgeIntersections(\n  meshData: Mesh,\n  intersectionList: any,\n  con_edge_ind: any,\n  newEdgeList: any\n) {\n  const triangles = meshData.tri;\n  const verts = meshData.scaled_vert;\n  const adjacency = meshData.adj;\n  const con_edges = meshData.con_edge;\n  //Node indices and endpoint coords of current constrained edge\n  const con_edge_nodes = con_edges[con_edge_ind];\n  const cur_con_edge_coords: [Point, Point] = [\n    verts[con_edge_nodes[0]],\n    verts[con_edge_nodes[1]]\n  ];\n  const nIntersections = intersectionList.length;\n  for (let i = 0; i < nIntersections; i++) {\n    //Looping in reverse order is important since then the\n    //indices in intersectionList remain unaffected by any diagonal swaps\n    const tri0_ind = intersectionList[nIntersections - 1 - i][0];\n    const tri0_node = intersectionList[nIntersections - 1 - i][1];\n    const tri1_ind = adjacency[tri0_ind][tri0_node];\n    const tri1_node = adjacency[tri1_ind].indexOf(tri0_ind);\n    const quad_v0 = verts[triangles[tri0_ind][tri0_node]];\n    const quad_v1 = verts[triangles[tri0_ind][(tri0_node + 1) % 3]];\n    const quad_v2 = verts[triangles[tri1_ind][tri1_node]];\n    const quad_v3 = verts[triangles[tri0_ind][(tri0_node + 2) % 3]];\n    const isConvex = isQuadConvex(quad_v0, quad_v1, quad_v2, quad_v3);\n    if (isConvex) {\n      swapDiagonal(meshData, tri0_ind, tri1_ind);\n      const newDiagonal_nodes = [\n        triangles[tri0_ind][tri0_node],\n        triangles[tri1_ind][tri1_node]\n      ];\n      const newDiagonal_coords: [Point, Point] = [quad_v0, quad_v2];\n      const hasCommonNode =\n        newDiagonal_nodes[0] == con_edge_nodes[0] ||\n        newDiagonal_nodes[0] == con_edge_nodes[1] ||\n        newDiagonal_nodes[1] == con_edge_nodes[0] ||\n        newDiagonal_nodes[1] == con_edge_nodes[1];\n      if (\n        hasCommonNode ||\n        !isEdgeIntersecting(cur_con_edge_coords, newDiagonal_coords)\n      ) {\n        newEdgeList.push([newDiagonal_nodes[0], newDiagonal_nodes[1]]);\n      }\n    } //is convex\n  } //loop over intersections\n}\nfunction loadEdges(meshData: Mesh, edges: Edge[]) {\n  const nVertex = meshData.vert.length;\n  meshData.con_edge = [];\n  for (let i = 0; i < edges.length; i++) {\n    const edge = edges[i];\n    if (\n      edge[0] < 0 ||\n      edge[0] >= nVertex ||\n      edge[1] < 0 ||\n      edge[1] >= nVertex\n    ) {\n      throw `Vertex indices of edge ${i} need to be non-negative and less than the number of input vertices.`;\n      // meshData.con_edge = [];\n      // break;\n    }\n    if (edge[0] === edge[1]) {\n      throw `Edge ${i} is degenerate!`;\n      // meshData.con_edge = [];\n      // break;\n    }\n    if (!isEdgeValid(edge, meshData.con_edge, meshData.vert)) {\n      throw `Edge ${i} already exists or intersects with an existing edge!`;\n      // meshData.con_edge = [];\n      // break;\n    }\n    meshData.con_edge.push([edge[0], edge[1]]);\n  }\n}\nfunction isEdgeValid(\n  newEdge: Edge,\n  edgeList: Mesh[\"con_edge\"],\n  vertices: Mesh[\"vert\"]\n): boolean {\n  const new_edge_verts: [Point, Point] = [\n    vertices[newEdge[0]],\n    vertices[newEdge[1]]\n  ];\n  for (let i = 0; i < edgeList.length; i++) {\n    //Not valid if edge already exists\n    if (\n      (edgeList[i][0] == newEdge[0] && edgeList[i][1] == newEdge[1]) ||\n      (edgeList[i][0] == newEdge[1] && edgeList[i][1] == newEdge[0])\n    )\n      return false;\n    const hasCommonNode =\n      edgeList[i][0] == newEdge[0] ||\n      edgeList[i][0] == newEdge[1] ||\n      edgeList[i][1] == newEdge[0] ||\n      edgeList[i][1] == newEdge[1];\n    const edge_verts: [Point, Point] = [\n      vertices[edgeList[i][0]],\n      vertices[edgeList[i][1]]\n    ];\n    if (!hasCommonNode && isEdgeIntersecting(edge_verts, new_edge_verts))\n      return false;\n  }\n  return true;\n}\n\ntype Edge = [number, number];\n\nexport default function (points: FeatureCollection, edges: Edge[], z: string) {\n  if (!edges) edges = [];\n  if (typeof points !== \"object\" || points.type !== \"FeatureCollection\")\n    throw \"Argument points must be FeatureCollection\";\n  if (!Array.isArray(edges)) throw \"Argument points must be Array of Array\";\n  let isPointZ = false;\n  // Caluculating scale factor\n  // Original cdt-js not working well with coordinates between (0,0)-(1,1)\n  // So points must be normalized\n  const xyzs = points.features.reduce(\n    (prev: any, point) => {\n      // @ts-expect-error\n      const xy = point.geometry.coordinates;\n      prev[0].push(xy[0]);\n      prev[1].push(xy[1]);\n      if (z) {\n        // @ts-expect-error\n        prev[2].push(point.properties[z]);\n      } else if (xy.length === 3) {\n        isPointZ = true;\n        // @ts-expect-error\n        prev[2].push(point.geometry.coordinates[2]);\n      }\n      return prev;\n    },\n    [[], [], []]\n  ) as [[number, number, number], [number, number, number], any];\n\n  const xMax = Math.max.apply(null, xyzs[0]);\n  const xMin = Math.min.apply(null, xyzs[0]);\n  const yMax = Math.max.apply(null, xyzs[1]);\n  const yMin = Math.min.apply(null, xyzs[1]);\n  const xDiff = xMax - xMin;\n  const xCenter = (xMax + xMin) / 2.0;\n  const yDiff = yMax - yMin;\n  const yCenter = (yMax + yMin) / 2.0;\n  const maxDiff = Math.max(xDiff, yDiff) * 1.1;\n  // Normalize points\n  const normPoints = points.features.map(point => {\n    // @ts-expect-error\n    const xy = point.geometry.coordinates;\n    const normXy = [\n      (xy[0] - xCenter) / maxDiff + 0.5,\n      (xy[1] - yCenter) / maxDiff + 0.5\n    ];\n    return new Point(normXy[0], normXy[1]);\n  });\n  // Create data structure for cdt-js\n  const meshData = {\n    vert: normPoints\n  } as Mesh;\n  // Load edges to data structure, with checking error\n  loadEdges(meshData, edges);\n  // Calculating Delaunay\n  delaunay(meshData);\n  // Applying edges constrain\n  constrainEdges(meshData);\n  // Unnormalize points and create output results\n  const keys = [\"a\", \"b\", \"c\"] as const;\n  return featureCollection(\n    meshData.tri.map(indices => {\n      const properties: any = {};\n      const coords = indices.map((index, i) => {\n        const coord: [number, number] = [xyzs[0][index], xyzs[1][index]];\n        if (xyzs[2][index] !== undefined) {\n          if (isPointZ) {\n            // @ts-expect-error\n            coord[2] = xyzs[2][index];\n          } else {\n            properties[keys[i]] = xyzs[2][index];\n          }\n        }\n        return coord;\n      });\n      coords[3] = coords[0];\n      return polygon([coords], properties);\n    })\n  );\n}\n","/* eslint-disable @typescript-eslint/ban-ts-comment */\r\n\"use strict\";\r\nimport booleanPointInPolygon from \"./booleanPointInPolygon\";\r\nimport centroid from \"@turf/centroid\";\r\nimport convex from \"@turf/convex\";\r\nimport difference from \"@turf/difference\";\r\nimport { featureCollection, lineString, point, polygon } from \"@turf/helpers\";\r\nimport intersect from \"@turf/intersect\";\r\nimport { getCoords } from \"@turf/invariant\";\r\nimport lineIntersect from \"@turf/line-intersect\";\r\nimport union from \"@turf/union\";\r\nimport {\r\n  Feature,\r\n  FeatureCollection,\r\n  Polygon,\r\n  Point,\r\n  Position\r\n} from \"@turf/turf\";\r\nimport findIntersections from \"./kinks\";\r\n\r\nconst format_version = 2.00703; //(Version 2 format for library version 0.7.3)\r\n\r\nimport constrainedTin from \"./constrained-tin\";\r\n\r\nexport type VertexMode = \"plain\" | \"birdeye\";\r\nexport type StrictMode = \"strict\" | \"auto\" | \"loose\";\r\nexport type StrictStatus = \"strict\" | \"strict_error\" | \"loose\";\r\nexport type YaxisMode = \"follow\" | \"invert\";\r\ntype BiDirectionKey = \"forw\" | \"bakw\";\r\nexport type PointSet = [Position, Position];\r\ntype Centroid = Feature<Point>;\r\ntype CentroidBD = { [key in BiDirectionKey]?: Centroid };\r\ntype EdgeLegacy = {\r\n  illstNodes: Position[];\r\n  mercNodes: Position[];\r\n  startEnd: number[];\r\n};\r\nexport type Edge = [Position[], Position[], number[]];\r\ntype WeightBuffer = { [index: string]: number };\r\ntype WeightBufferBD = { [key in BiDirectionKey]?: WeightBuffer };\r\ntype Kinks = FeatureCollection<Point>;\r\ntype KinksBD = { [key in BiDirectionKey]?: Kinks };\r\ntype VerticesParams = [number[], FeatureCollection<Polygon>[]?];\r\ntype VerticesParamsBD = { [key in BiDirectionKey]?: VerticesParams };\r\ntype PropertyTri = { geom: Position; index: number | string };\r\ntype PropertyTriKey = \"a\" | \"b\" | \"c\";\r\ntype PropertiesTri = { [key in PropertyTriKey]: PropertyTri };\r\ntype Tri = Feature<Polygon, PropertiesTri>;\r\ntype Tins = FeatureCollection<Polygon, PropertiesTri>;\r\ntype TinsBD = { [key in BiDirectionKey]?: Tins };\r\ntype SearchTris = { [key in BiDirectionKey]: Tri };\r\ntype SearchIndex = { [key: string]: SearchTris[] };\r\n\r\ninterface IndexedTins {\r\n  gridNum: number;\r\n  xOrigin: number;\r\n  yOrigin: number;\r\n  xUnit: number;\r\n  yUnit: number;\r\n  gridCache: number[][][];\r\n}\r\ntype IndexedTinsBD = { [key in BiDirectionKey]?: IndexedTins };\r\n\r\nexport interface Options {\r\n  bounds: Position[];\r\n  wh: number[];\r\n  vertexMode: VertexMode;\r\n  strictMode: StrictMode;\r\n  yaxisMode: YaxisMode;\r\n  importance: number;\r\n  priority: number;\r\n  stateFull: boolean;\r\n  points: PointSet[];\r\n  edges: Edge[];\r\n}\r\n\r\nexport interface Compiled {\r\n  version?: number;\r\n  points: PointSet[];\r\n  tins_points: (number | string)[][][];\r\n  weight_buffer: WeightBufferBD;\r\n  strict_status?: StrictStatus;\r\n  centroid_point: Position[];\r\n  edgeNodes?: PointSet[];\r\n  kinks_points?: Position[];\r\n  yaxisMode?: YaxisMode;\r\n  vertexMode?: VertexMode;\r\n  strictMode?: StrictMode;\r\n  vertices_params: number[][];\r\n  vertices_points: PointSet[];\r\n  edges: Edge[];\r\n  bounds?: number[][];\r\n  boundsPolygon?: Feature<Polygon>;\r\n  wh?: number[];\r\n  xy?: number[];\r\n}\r\n\r\n// For old Interface\r\ninterface CompiledLegacy extends Compiled {\r\n  tins?: TinsBD;\r\n  centroid?: CentroidBD;\r\n  kinks?: KinksBD;\r\n  vertices_params: number[][] & VerticesParamsBD;\r\n  edges: Edge[] & EdgeLegacy[];\r\n}\r\n\r\nclass Tin {\r\n  public static VERTEX_PLAIN = \"plain\" as const;\r\n  public static VERTEX_BIRDEYE = \"birdeye\" as const;\r\n  public static MODE_STRICT = \"strict\" as const;\r\n  public static MODE_AUTO = \"auto\" as const;\r\n  public static MODE_LOOSE = \"loose\" as const;\r\n  public static STATUS_STRICT = \"strict\" as const;\r\n  public static STATUS_ERROR = \"strict_error\" as const;\r\n  public static STATUS_LOOSE = \"loose\" as const;\r\n  public static YAXIS_FOLLOW = \"follow\" as const;\r\n  public static YAXIS_INVERT = \"invert\" as const;\r\n  bounds?: number[][];\r\n  boundsPolygon?: Feature<Polygon>;\r\n  centroid?: CentroidBD;\r\n  edgeNodes?: PointSet[];\r\n  edges?: Edge[];\r\n  importance: number;\r\n  indexedTins?: IndexedTinsBD;\r\n  kinks?: KinksBD;\r\n  points: PointSet[] = [];\r\n  pointsWeightBuffer?: WeightBufferBD;\r\n  priority: number;\r\n  stateBackward?: boolean;\r\n  stateFull: boolean;\r\n  stateTriangle?: Tri;\r\n  strictMode: StrictMode;\r\n  strict_status?: StrictStatus;\r\n  tins?: TinsBD;\r\n  vertexMode?: VertexMode;\r\n  vertices_params?: VerticesParamsBD;\r\n  wh?: number[];\r\n  xy?: number[];\r\n  yaxisMode: YaxisMode;\r\n  pointsSet: any;\r\n\r\n  constructor(options: Partial<Options> = {} as Options) {\r\n    if (options.bounds) {\r\n      this.setBounds(options.bounds);\r\n    } else {\r\n      this.setWh(options.wh!);\r\n      this.vertexMode = options.vertexMode || Tin.VERTEX_PLAIN;\r\n    }\r\n    this.strictMode = options.strictMode || Tin.MODE_AUTO;\r\n    this.yaxisMode = options.yaxisMode || Tin.YAXIS_INVERT;\r\n    this.importance = options.importance || 0;\r\n    this.priority = options.priority || 0;\r\n    this.stateFull = options.stateFull || false;\r\n    if (options.points) {\r\n      this.setPoints(options.points);\r\n    }\r\n    if (options.edges) {\r\n      this.setEdges(options.edges);\r\n    }\r\n  }\r\n  getFormatVersion() {\r\n    return format_version;\r\n  }\r\n  setPoints(points: PointSet[]) {\r\n    if (this.yaxisMode == Tin.YAXIS_FOLLOW) {\r\n      points = points.map(point => [point[0], [point[1][0], -1 * point[1][1]]]);\r\n    }\r\n    this.points = points;\r\n    this.tins = undefined;\r\n    this.indexedTins = undefined;\r\n  }\r\n  setEdges(edges: Edge[] | EdgeLegacy[] = []) {\r\n    this.edges = normalizeEdges(edges);\r\n    this.edgeNodes = undefined;\r\n    this.tins = undefined;\r\n    this.indexedTins = undefined;\r\n  }\r\n  setBounds(bounds: number[][]) {\r\n    this.bounds = bounds;\r\n    let minx = bounds[0][0];\r\n    let maxx = minx;\r\n    let miny = bounds[0][1];\r\n    let maxy = miny;\r\n    const coords = [bounds[0]];\r\n    for (let i = 1; i < bounds.length; i++) {\r\n      const xy = bounds[i];\r\n      if (xy[0] < minx) minx = xy[0];\r\n      if (xy[0] > maxx) maxx = xy[0];\r\n      if (xy[1] < miny) miny = xy[1];\r\n      if (xy[1] > maxy) maxy = xy[1];\r\n      coords.push(xy);\r\n    }\r\n    coords.push(bounds[0]);\r\n    this.boundsPolygon = polygon([coords]);\r\n    this.xy = [minx, miny];\r\n    this.wh = [maxx - minx, maxy - miny];\r\n    this.vertexMode = Tin.VERTEX_PLAIN;\r\n    this.tins = undefined;\r\n    this.indexedTins = undefined;\r\n  }\r\n  setCompiled(compiled: Compiled | CompiledLegacy) {\r\n    if (\r\n      compiled.version ||\r\n      (!(compiled as any).tins && compiled.points && compiled.tins_points)\r\n    ) {\r\n      // 新コンパイルロジック\r\n      // pointsはそのままpoints\r\n      this.points = compiled.points;\r\n      // After 0.7.3 Normalizing old formats for weightBuffer\r\n      this.pointsWeightBuffer =\r\n        !compiled.version || compiled.version < 2.00703\r\n          ? ([\"forw\", \"bakw\"] as BiDirectionKey[]).reduce((bd, forb) => {\r\n              const base = compiled.weight_buffer[forb];\r\n              if (base) {\r\n                bd[forb] = Object.keys(base!).reduce((buffer, key) => {\r\n                  const normKey = normalizeNodeKey(key);\r\n                  buffer[normKey] = base![key];\r\n                  return buffer;\r\n                }, {} as WeightBuffer);\r\n              }\r\n              return bd;\r\n            }, {} as WeightBufferBD)\r\n          : compiled.weight_buffer;\r\n      // kinksやtinsの存在状況でstrict_statusを判定\r\n      if (compiled.strict_status) {\r\n        this.strict_status = compiled.strict_status;\r\n      } else if (compiled.kinks_points) {\r\n        this.strict_status = Tin.STATUS_ERROR;\r\n      } else if (compiled.tins_points.length == 2) {\r\n        this.strict_status = Tin.STATUS_LOOSE;\r\n      } else {\r\n        this.strict_status = Tin.STATUS_STRICT;\r\n      }\r\n      // vertices_paramsを復元\r\n      this.vertices_params = {\r\n        forw: [(compiled.vertices_params as number[][])[0]],\r\n        bakw: [(compiled.vertices_params as number[][])[1]]\r\n      };\r\n      this.vertices_params.forw![1] = [0, 1, 2, 3].map(idx => {\r\n        const idxNxt = (idx + 1) % 4;\r\n        const tri = indexesToTri(\r\n          [\"c\", `b${idx}`, `b${idxNxt}`],\r\n          compiled.points,\r\n          compiled.edgeNodes || [],\r\n          compiled.centroid_point,\r\n          compiled.vertices_points,\r\n          false,\r\n          format_version\r\n        );\r\n        return featureCollection([tri]);\r\n      });\r\n      this.vertices_params.bakw![1] = [0, 1, 2, 3].map(idx => {\r\n        const idxNxt = (idx + 1) % 4;\r\n        const tri = indexesToTri(\r\n          [\"c\", `b${idx}`, `b${idxNxt}`],\r\n          compiled.points,\r\n          compiled.edgeNodes || [],\r\n          compiled.centroid_point,\r\n          compiled.vertices_points,\r\n          true,\r\n          format_version\r\n        );\r\n        return featureCollection([tri]);\r\n      });\r\n      // centroidを復元\r\n      this.centroid = {\r\n        forw: point(compiled.centroid_point[0], {\r\n          target: {\r\n            geom: compiled.centroid_point[1],\r\n            index: \"c\"\r\n          }\r\n        }),\r\n        bakw: point(compiled.centroid_point[1], {\r\n          target: {\r\n            geom: compiled.centroid_point[0],\r\n            index: \"c\"\r\n          }\r\n        })\r\n      };\r\n      // edgesを復元\r\n      this.edges = normalizeEdges(compiled.edges || []);\r\n      this.edgeNodes = compiled.edgeNodes || [];\r\n      // tinsを復元\r\n      const bakwI = compiled.tins_points.length == 1 ? 0 : 1;\r\n      this.tins = {\r\n        forw: featureCollection(\r\n          compiled.tins_points[0].map((idxes: any) =>\r\n            indexesToTri(\r\n              idxes,\r\n              compiled.points,\r\n              compiled.edgeNodes || [],\r\n              compiled.centroid_point,\r\n              compiled.vertices_points,\r\n              false,\r\n              compiled.version\r\n            )\r\n          )\r\n        ),\r\n        bakw: featureCollection(\r\n          compiled.tins_points[bakwI].map((idxes: any) =>\r\n            indexesToTri(\r\n              idxes,\r\n              compiled.points,\r\n              compiled.edgeNodes || [],\r\n              compiled.centroid_point,\r\n              compiled.vertices_points,\r\n              true,\r\n              compiled.version\r\n            )\r\n          )\r\n        )\r\n      };\r\n      this.addIndexedTin();\r\n      // kinksを復元\r\n      if (compiled.kinks_points) {\r\n        this.kinks = {\r\n          bakw: featureCollection(\r\n            compiled.kinks_points.map((coord: Position) => point(coord))\r\n          )\r\n        };\r\n      }\r\n      // yaxisModeを復元\r\n      if (compiled.yaxisMode) {\r\n        this.yaxisMode = compiled.yaxisMode;\r\n      } else {\r\n        this.yaxisMode = Tin.YAXIS_INVERT;\r\n      }\r\n      // After 0.7.3: Restore strict_mode & vertex_mode\r\n      if (compiled.vertexMode) {\r\n        this.vertexMode = compiled.vertexMode;\r\n      }\r\n      if (compiled.strictMode) {\r\n        this.strictMode = compiled.strictMode;\r\n      }\r\n      // boundsを復元\r\n      if (compiled.bounds) {\r\n        this.bounds = compiled.bounds;\r\n        this.boundsPolygon = compiled.boundsPolygon;\r\n        this.xy = compiled.xy;\r\n        this.wh = compiled.wh;\r\n      } else {\r\n        this.xy = [0, 0];\r\n        if (compiled.wh) this.wh = compiled.wh;\r\n        this.bounds = undefined;\r\n        this.boundsPolygon = undefined;\r\n      }\r\n    } else {\r\n      // 旧コンパイルロジック\r\n      compiled = JSON.parse(\r\n        JSON.stringify(compiled)\r\n          .replace('\"cent\"', '\"c\"')\r\n          .replace(/\"bbox(\\d+)\"/g, '\"b$1\"')\r\n      );\r\n      this.tins = (compiled as CompiledLegacy).tins;\r\n      this.addIndexedTin();\r\n      this.strict_status = compiled.strict_status;\r\n      this.pointsWeightBuffer = compiled.weight_buffer;\r\n      this.vertices_params = compiled.vertices_params as VerticesParamsBD;\r\n      this.centroid = (compiled as CompiledLegacy).centroid;\r\n      this.kinks = (compiled as CompiledLegacy).kinks;\r\n      const points: any = [];\r\n      for (let i = 0; i < this.tins!.forw!.features.length; i++) {\r\n        const tri = this.tins!.forw!.features[i];\r\n        ([\"a\", \"b\", \"c\"] as PropertyTriKey[]).map((key, idx) => {\r\n          const forw = tri.geometry!.coordinates[0][idx];\r\n          const bakw = tri.properties![key].geom;\r\n          const pIdx = tri.properties![key].index;\r\n          points[pIdx] = [forw, bakw];\r\n        });\r\n      }\r\n      this.points = points;\r\n    }\r\n    // 翻訳したオブジェクトを返す\r\n    return {\r\n      tins: this.tins,\r\n      strict_status: this.strict_status,\r\n      weight_buffer: this.pointsWeightBuffer,\r\n      vertices_params: this.vertices_params,\r\n      centroid: this.centroid,\r\n      kinks: this.kinks\r\n    };\r\n  }\r\n  getCompiled(): Compiled {\r\n    const compiled: Partial<Compiled> = {};\r\n    // 新compileロジック\r\n    // Formatバージョン\r\n    compiled.version = format_version;\r\n    // points, weightBufferはそのまま保存\r\n    compiled.points = this.points;\r\n    compiled.weight_buffer = this.pointsWeightBuffer;\r\n    // centroidは座標の対応のみ保存\r\n    compiled.centroid_point = [\r\n      this.centroid!.forw!.geometry!.coordinates,\r\n      this.centroid!.forw!.properties!.target.geom\r\n    ];\r\n    // vertices_paramsの最初の値はそのまま保存\r\n    compiled.vertices_params = [\r\n      this.vertices_params!.forw![0],\r\n      this.vertices_params!.bakw![0]\r\n    ];\r\n    // vertices_paramsの2番目の値（セントロイドと地図頂点の三角形ポリゴン）は、地図頂点座標のみ記録\r\n    compiled.vertices_points = [];\r\n    const vertices = this.vertices_params!.forw![1];\r\n    [0, 1, 2, 3].map(i => {\r\n      const vertex_data = vertices![i].features[0];\r\n      const forw = vertex_data.geometry!.coordinates[0][1];\r\n      const bakw = vertex_data.properties!.b.geom;\r\n      compiled.vertices_points![i] = [forw, bakw];\r\n    });\r\n    compiled.strict_status = this.strict_status;\r\n    // tinは座標インデックスのみ記録\r\n    compiled.tins_points = [[]];\r\n    this.tins!.forw!.features.map((tin: Tri) => {\r\n      compiled.tins_points![0].push(\r\n        ([\"a\", \"b\", \"c\"] as PropertyTriKey[]).map(\r\n          idx => tin.properties![idx]!.index\r\n        )\r\n      );\r\n    });\r\n    // 自動モードでエラーがある時（loose）は、逆方向のtinも記録。\r\n    // 厳格モードでエラーがある時（strict_error）は、エラー点情報(kinks)を記録。\r\n    if (this.strict_status == Tin.STATUS_LOOSE) {\r\n      compiled.tins_points[1] = [];\r\n      this.tins!.bakw!.features.map((tin: Tri) => {\r\n        compiled.tins_points![1].push(\r\n          ([\"a\", \"b\", \"c\"] as PropertyTriKey[]).map(\r\n            idx => tin.properties![idx]!.index\r\n          )\r\n        );\r\n      });\r\n    } else if (this.strict_status == Tin.STATUS_ERROR) {\r\n      compiled.kinks_points = this.kinks!.bakw!.features.map(\r\n        (kink: Feature<Point>) => kink.geometry!.coordinates\r\n      );\r\n    }\r\n    // After 0.7.3: Freeze strict_mode & vertex_mode & Update yAxis logic\r\n    compiled.yaxisMode = this.yaxisMode;\r\n    compiled.vertexMode = this.vertexMode;\r\n    compiled.strictMode = this.strictMode;\r\n    // bounds対応\r\n    if (this.bounds) {\r\n      compiled.bounds = this.bounds;\r\n      compiled.boundsPolygon = this.boundsPolygon;\r\n      compiled.xy = this.xy;\r\n      compiled.wh = this.wh;\r\n    } else {\r\n      compiled.wh = this.wh;\r\n    }\r\n    // edge対応\r\n    compiled.edges = this.edges;\r\n    compiled.edgeNodes = this.edgeNodes;\r\n    return compiled as Compiled;\r\n  }\r\n  addIndexedTin() {\r\n    const tins = this.tins!;\r\n    const forw = tins.forw;\r\n    const bakw = tins.bakw;\r\n    const gridNum = Math.ceil(Math.sqrt(forw!.features.length));\r\n    if (gridNum < 3) {\r\n      this.indexedTins = undefined;\r\n      return;\r\n    }\r\n    let forwBound: Position[] = [];\r\n    let bakwBound: Position[] = [];\r\n    const forwEachBound = forw!.features.map((tri: Tri) => {\r\n      let eachBound: Position[] = [];\r\n      getCoords(tri)[0].map((point: Position) => {\r\n        if (forwBound.length === 0)\r\n          forwBound = [Array.from(point), Array.from(point)];\r\n        else {\r\n          if (point[0] < forwBound[0][0]) forwBound[0][0] = point[0];\r\n          if (point[0] > forwBound[1][0]) forwBound[1][0] = point[0];\r\n          if (point[1] < forwBound[0][1]) forwBound[0][1] = point[1];\r\n          if (point[1] > forwBound[1][1]) forwBound[1][1] = point[1];\r\n        }\r\n        if (eachBound.length === 0)\r\n          eachBound = [Array.from(point), Array.from(point)];\r\n        else {\r\n          if (point[0] < eachBound[0][0]) eachBound[0][0] = point[0];\r\n          if (point[0] > eachBound[1][0]) eachBound[1][0] = point[0];\r\n          if (point[1] < eachBound[0][1]) eachBound[0][1] = point[1];\r\n          if (point[1] > eachBound[1][1]) eachBound[1][1] = point[1];\r\n        }\r\n      });\r\n      return eachBound;\r\n    });\r\n    const forwXUnit = (forwBound[1][0] - forwBound[0][0]) / gridNum;\r\n    const forwYUnit = (forwBound[1][1] - forwBound[0][1]) / gridNum;\r\n    const forwGridCache = forwEachBound.reduce(\r\n      (prev: number[][][], bound: Position[], index: number) => {\r\n        const normXMin = unitCalc(\r\n          bound[0][0],\r\n          forwBound[0][0],\r\n          forwXUnit,\r\n          gridNum\r\n        );\r\n        const normXMax = unitCalc(\r\n          bound[1][0],\r\n          forwBound[0][0],\r\n          forwXUnit,\r\n          gridNum\r\n        );\r\n        const normYMin = unitCalc(\r\n          bound[0][1],\r\n          forwBound[0][1],\r\n          forwYUnit,\r\n          gridNum\r\n        );\r\n        const normYMax = unitCalc(\r\n          bound[1][1],\r\n          forwBound[0][1],\r\n          forwYUnit,\r\n          gridNum\r\n        );\r\n        for (let cx = normXMin; cx <= normXMax; cx++) {\r\n          if (!prev[cx]) prev[cx] = [];\r\n          for (let cy = normYMin; cy <= normYMax; cy++) {\r\n            if (!prev[cx][cy]) prev[cx][cy] = [];\r\n            prev[cx][cy].push(index);\r\n          }\r\n        }\r\n        return prev;\r\n      },\r\n      []\r\n    );\r\n    const bakwEachBound = bakw!.features.map((tri: Tri) => {\r\n      let eachBound: Position[] = [];\r\n      getCoords(tri)[0].map((point: Position) => {\r\n        if (bakwBound.length === 0)\r\n          bakwBound = [Array.from(point), Array.from(point)];\r\n        else {\r\n          if (point[0] < bakwBound[0][0]) bakwBound[0][0] = point[0];\r\n          if (point[0] > bakwBound[1][0]) bakwBound[1][0] = point[0];\r\n          if (point[1] < bakwBound[0][1]) bakwBound[0][1] = point[1];\r\n          if (point[1] > bakwBound[1][1]) bakwBound[1][1] = point[1];\r\n        }\r\n        if (eachBound.length === 0)\r\n          eachBound = [Array.from(point), Array.from(point)];\r\n        else {\r\n          if (point[0] < eachBound[0][0]) eachBound[0][0] = point[0];\r\n          if (point[0] > eachBound[1][0]) eachBound[1][0] = point[0];\r\n          if (point[1] < eachBound[0][1]) eachBound[0][1] = point[1];\r\n          if (point[1] > eachBound[1][1]) eachBound[1][1] = point[1];\r\n        }\r\n      });\r\n      return eachBound;\r\n    });\r\n    const bakwXUnit = (bakwBound[1][0] - bakwBound[0][0]) / gridNum;\r\n    const bakwYUnit = (bakwBound[1][1] - bakwBound[0][1]) / gridNum;\r\n    const bakwGridCache = bakwEachBound.reduce(\r\n      (prev: any, bound: any, index: number) => {\r\n        const normXMin = unitCalc(\r\n          bound[0][0],\r\n          bakwBound[0][0],\r\n          bakwXUnit,\r\n          gridNum\r\n        );\r\n        const normXMax = unitCalc(\r\n          bound[1][0],\r\n          bakwBound[0][0],\r\n          bakwXUnit,\r\n          gridNum\r\n        );\r\n        const normYMin = unitCalc(\r\n          bound[0][1],\r\n          bakwBound[0][1],\r\n          bakwYUnit,\r\n          gridNum\r\n        );\r\n        const normYMax = unitCalc(\r\n          bound[1][1],\r\n          bakwBound[0][1],\r\n          bakwYUnit,\r\n          gridNum\r\n        );\r\n        for (let cx = normXMin; cx <= normXMax; cx++) {\r\n          if (!prev[cx]) prev[cx] = [];\r\n          for (let cy = normYMin; cy <= normYMax; cy++) {\r\n            if (!prev[cx][cy]) prev[cx][cy] = [];\r\n            prev[cx][cy].push(index);\r\n          }\r\n        }\r\n        return prev;\r\n      },\r\n      []\r\n    );\r\n    this.indexedTins = {\r\n      forw: {\r\n        gridNum,\r\n        xOrigin: forwBound[0][0],\r\n        yOrigin: forwBound[0][1],\r\n        xUnit: forwXUnit,\r\n        yUnit: forwYUnit,\r\n        gridCache: forwGridCache\r\n      },\r\n      bakw: {\r\n        gridNum,\r\n        xOrigin: bakwBound[0][0],\r\n        yOrigin: bakwBound[0][1],\r\n        xUnit: bakwXUnit,\r\n        yUnit: bakwYUnit,\r\n        gridCache: bakwGridCache\r\n      }\r\n    };\r\n  }\r\n  setWh(wh: number[]) {\r\n    this.wh = wh;\r\n    this.xy = [0, 0];\r\n    this.bounds = undefined;\r\n    this.boundsPolygon = undefined;\r\n    this.tins = undefined;\r\n    this.indexedTins = undefined;\r\n  }\r\n  setVertexMode(mode: VertexMode) {\r\n    this.vertexMode = mode;\r\n    this.tins = undefined;\r\n    this.indexedTins = undefined;\r\n  }\r\n  setStrictMode(mode: StrictMode) {\r\n    this.strictMode = mode;\r\n    this.tins = undefined;\r\n    this.indexedTins = undefined;\r\n  }\r\n  calcurateStrictTinAsync() {\r\n    const edges = this.pointsSet.edges;\r\n    return Promise.all(\r\n      this.tins!.forw!.features.map((tri: Tri) =>\r\n        Promise.resolve(counterTri(tri))\r\n      )\r\n    )\r\n      .then((tris: Tri[]) => {\r\n        this.tins!.bakw = featureCollection(tris);\r\n      })\r\n      .then(() => {\r\n        const searchIndex: SearchIndex = {};\r\n        return Promise.all(\r\n          this.tins!.forw!.features.map((forTri: Tri, index: number) => {\r\n            const bakTri: Tri = this.tins!.bakw!.features[index];\r\n            return Promise.resolve(\r\n              insertSearchIndex(searchIndex, { forw: forTri, bakw: bakTri })\r\n            );\r\n          })\r\n        )\r\n          .then(() =>\r\n            Promise.all([\r\n              overlapCheckAsync(searchIndex),\r\n              Promise.resolve(searchIndex)\r\n            ])\r\n          )\r\n          .catch(err => {\r\n            throw err;\r\n          });\r\n      })\r\n      .then((prevResult: [any, SearchIndex]) => {\r\n        const overlapped = prevResult[0];\r\n        const searchIndex = prevResult[1];\r\n        if (overlapped.bakw)\r\n          Object.keys(overlapped.bakw).map(key => {\r\n            if (overlapped.bakw[key] == \"Not include case\") return;\r\n            const trises = searchIndex[key];\r\n            const forUnion = union(trises[0].forw, trises[1].forw);\r\n            const forConvex = convex(\r\n              featureCollection([trises[0].forw, trises[1].forw])\r\n            );\r\n            const forDiff = difference(forConvex!, forUnion);\r\n            if (forDiff) return;\r\n            const splittedKey = key.split(\"-\");\r\n            if (\r\n              splittedKey[0].match(/^[0-9]+$/) &&\r\n              splittedKey[1].match(/^[0-9]+$/)\r\n            ) {\r\n              const numberKey = splittedKey\r\n                .map(key => parseInt(key))\r\n                .sort((a, b) => (a < b ? -1 : 1));\r\n              for (let i = 0; i < edges.length - 1; i++) {\r\n                if (numberKey[0] == edges[i][0] && numberKey[1] == edges[i][1])\r\n                  return;\r\n              }\r\n            }\r\n            const sharedVtx = splittedKey.map(\r\n              val =>\r\n                ([\"a\", \"b\", \"c\"] as PropertyTriKey[])\r\n                  .map((alpha, index) => {\r\n                    const prop = trises[0].bakw.properties![alpha];\r\n                    const geom = trises[0].bakw.geometry!.coordinates[0][index];\r\n                    return { geom, prop };\r\n                  })\r\n                  .filter(vtx => vtx.prop.index == val)[0]\r\n            );\r\n            const nonSharedVtx = trises.map(\r\n              (tris: any) =>\r\n                [\"a\", \"b\", \"c\"]\r\n                  .map((alpha, index) => {\r\n                    const prop = tris.bakw.properties[alpha];\r\n                    const geom = tris.bakw.geometry.coordinates[0][index];\r\n                    return { geom, prop };\r\n                  })\r\n                  .filter(\r\n                    vtx =>\r\n                      vtx.prop.index != sharedVtx[0].prop.index &&\r\n                      vtx.prop.index != sharedVtx[1].prop.index\r\n                  )[0]\r\n            );\r\n            removeSearchIndex(searchIndex, trises[0], this.tins);\r\n            removeSearchIndex(searchIndex, trises[1], this.tins);\r\n            sharedVtx.map(sVtx => {\r\n              const newTriCoords = [\r\n                sVtx.geom,\r\n                nonSharedVtx[0].geom,\r\n                nonSharedVtx[1].geom,\r\n                sVtx.geom\r\n              ];\r\n              const newTriProp = {\r\n                a: sVtx.prop,\r\n                b: nonSharedVtx[0].prop,\r\n                c: nonSharedVtx[1].prop\r\n              };\r\n              const newBakTri = polygon([newTriCoords], newTriProp);\r\n              const newForTri = counterTri(newBakTri);\r\n              insertSearchIndex(\r\n                searchIndex,\r\n                { forw: newForTri, bakw: newBakTri },\r\n                this.tins\r\n              );\r\n            });\r\n          });\r\n        return Promise.all(\r\n          ([\"forw\", \"bakw\"] as BiDirectionKey[]).map(direc =>\r\n            new Promise(resolve => {\r\n              const coords = this.tins![direc]!.features.map(\r\n                poly => poly.geometry!.coordinates[0]\r\n              );\r\n              resolve(findIntersections(coords));\r\n            }).catch(err => {\r\n              throw err;\r\n            })\r\n          )\r\n        )\r\n          .then((result: any) => {\r\n            if (result[0].length == 0 && result[1].length == 0) {\r\n              this.strict_status = Tin.STATUS_STRICT;\r\n              delete this.kinks;\r\n            } else {\r\n              this.strict_status = Tin.STATUS_ERROR;\r\n              this.kinks = {};\r\n              if (result[0].length > 0)\r\n                this.kinks.forw = featureCollection(result[0]);\r\n              if (result[1].length > 0)\r\n                this.kinks.bakw = featureCollection(result[1]);\r\n            }\r\n          })\r\n          .catch(err => {\r\n            throw err;\r\n          });\r\n      })\r\n      .catch(err => {\r\n        throw err;\r\n      });\r\n  }\r\n  generatePointsSet() {\r\n    const pointsArray = { forw: [] as any[], bakw: [] as any[] };\r\n    for (let i = 0; i < this.points.length; i++) {\r\n      const mapxy = this.points[i][0];\r\n      const mercs = this.points[i][1];\r\n      const forPoint = createPoint(mapxy, mercs, i);\r\n      pointsArray.forw.push(forPoint as any);\r\n      pointsArray.bakw.push(counterPoint(forPoint));\r\n    }\r\n    const edges = [];\r\n    let edgeNodeIndex = 0;\r\n    this.edgeNodes = [];\r\n    if (!this.edges) this.edges = [];\r\n    for (let i = 0; i < this.edges.length; i++) {\r\n      const startEnd = this.edges[i][2];\r\n      const illstNodes = Object.assign([], this.edges[i][0]);\r\n      const mercNodes = Object.assign([], this.edges[i][1]);\r\n      if (illstNodes.length === 0 && mercNodes.length === 0) {\r\n        edges.push(startEnd);\r\n        continue;\r\n      }\r\n      illstNodes.unshift(this.points[startEnd[0]][0]);\r\n      illstNodes.push(this.points[startEnd[1]][0]);\r\n      mercNodes.unshift(this.points[startEnd[0]][1]);\r\n      mercNodes.push(this.points[startEnd[1]][1]);\r\n      const lengths = [illstNodes, mercNodes].map(nodes => {\r\n        const eachLengths = nodes.map((node: any, index: any, arr: any) => {\r\n          if (index === 0) return 0;\r\n          const prev = arr[index - 1];\r\n          return Math.sqrt(\r\n            Math.pow(node[0] - prev[0], 2) + Math.pow(node[1] - prev[1], 2)\r\n          );\r\n        });\r\n        const sumLengths = eachLengths.reduce(\r\n          (prev: any, node: any, index: any) => {\r\n            if (index === 0) return [0];\r\n            prev.push(prev[index - 1] + node);\r\n            return prev;\r\n          },\r\n          []\r\n        );\r\n        return sumLengths.map((eachSum: any, index: any, arr: any) => {\r\n          const ratio = eachSum / arr[arr.length - 1];\r\n          return [nodes[index], eachLengths[index], sumLengths[index], ratio];\r\n        });\r\n      });\r\n      lengths\r\n        .map((thisLengths, i) => {\r\n          const anotherLengths = lengths[i ? 0 : 1];\r\n          return thisLengths\r\n            .filter(\r\n              (val: any, index: any) =>\r\n                !(\r\n                  index === 0 ||\r\n                  index === thisLengths.length - 1 ||\r\n                  val[4] === \"handled\"\r\n                )\r\n            )\r\n            .map((lengthItem: any) => {\r\n              const node = lengthItem[0];\r\n              const ratio = lengthItem[3];\r\n              const anotherSets = anotherLengths.reduce(\r\n                (prev: any, item: any, index: any, arr: any) => {\r\n                  if (prev) return prev;\r\n                  const next = arr[index + 1];\r\n                  if (item[3] === ratio) {\r\n                    item[4] = \"handled\";\r\n                    return [item];\r\n                  }\r\n                  if (item[3] < ratio && next[3] > ratio) return [item, next];\r\n                  return;\r\n                },\r\n                undefined\r\n              );\r\n              if (anotherSets.length === 1) {\r\n                return i === 0\r\n                  ? [node, anotherSets[0][0], ratio]\r\n                  : [anotherSets[0][0], node, ratio];\r\n              } else {\r\n                const anotherPrev = anotherSets[0];\r\n                const anotherNext = anotherSets[1];\r\n                const ratioDelta = ratio - anotherPrev[3];\r\n                const ratioAnother = anotherNext[3] - anotherPrev[3];\r\n                const ratioInEdge = ratioDelta / ratioAnother;\r\n                const anotherNode = [\r\n                  (anotherNext[0][0] - anotherPrev[0][0]) * ratioInEdge +\r\n                    anotherPrev[0][0],\r\n                  (anotherNext[0][1] - anotherPrev[0][1]) * ratioInEdge +\r\n                    anotherPrev[0][1]\r\n                ];\r\n                return i === 0\r\n                  ? [node, anotherNode, ratio]\r\n                  : [anotherNode, node, ratio];\r\n              }\r\n            });\r\n        })\r\n        .reduce((prev, nodes) => prev.concat(nodes), [])\r\n        .sort((a: any, b: any) => (a[2] < b[2] ? -1 : 1))\r\n        .map((node: any, index: any, arr: any) => {\r\n          this.edgeNodes![edgeNodeIndex] = [node[0], node[1]];\r\n          const forPoint = createPoint(node[0], node[1], `e${edgeNodeIndex}`);\r\n          edgeNodeIndex++;\r\n          pointsArray.forw.push(forPoint);\r\n          pointsArray.bakw.push(counterPoint(forPoint));\r\n          if (index === 0) {\r\n            edges.push([startEnd[0], pointsArray.forw.length - 1]);\r\n          } else {\r\n            edges.push([\r\n              pointsArray.forw.length - 2,\r\n              pointsArray.forw.length - 1\r\n            ]);\r\n          }\r\n          if (index === arr.length - 1) {\r\n            edges.push([pointsArray.forw.length - 1, startEnd[1]]);\r\n          }\r\n        });\r\n    }\r\n    return {\r\n      forw: featureCollection(pointsArray.forw),\r\n      bakw: featureCollection(pointsArray.bakw),\r\n      edges\r\n    };\r\n  }\r\n  updateTinAsync() {\r\n    let strict = this.strictMode;\r\n    const minx = this.xy![0] - 0.05 * this.wh![0];\r\n    const maxx = this.xy![0] + 1.05 * this.wh![0];\r\n    const miny = this.xy![1] - 0.05 * this.wh![1];\r\n    const maxy = this.xy![1] + 1.05 * this.wh![1];\r\n    const insideCheck = this.bounds\r\n      ? (xy: any) => booleanPointInPolygon(xy, this.boundsPolygon!)\r\n      : (xy: any) =>\r\n          xy[0] >= this.xy![0] &&\r\n          xy[0] <= this.xy![0] + this.wh![0] &&\r\n          xy[1] >= this.xy![1] &&\r\n          xy[1] <= this.xy![1] + this.wh![1];\r\n    const inside = this.points.reduce(\r\n      (prev: any, curr: any) => prev && insideCheck(curr[0]),\r\n      true\r\n    );\r\n    if (!inside) {\r\n      return new Promise((resolve, reject) => {\r\n        reject(\"SOME POINTS OUTSIDE\");\r\n      });\r\n    }\r\n    return new Promise(resolve => {\r\n      if (strict != Tin.MODE_STRICT && strict != Tin.MODE_LOOSE)\r\n        strict = Tin.MODE_AUTO;\r\n      let bbox: any = [];\r\n      if (this.wh) {\r\n        bbox = [\r\n          [minx, miny],\r\n          [maxx, miny],\r\n          [minx, maxy],\r\n          [maxx, maxy]\r\n        ];\r\n      }\r\n      const pointsSet = this.generatePointsSet();\r\n      resolve([pointsSet, bbox]);\r\n    })\r\n      .then((prevResults: any) => {\r\n        const pointsSet = prevResults[0];\r\n        // Forward TIN for calcurating Backward Centroid and Backward Vertices\r\n        return Promise.all([\r\n          new Promise(resolve => {\r\n            resolve(constrainedTin(pointsSet.forw, pointsSet.edges, \"target\"));\r\n          }),\r\n          new Promise(resolve => {\r\n            resolve(constrainedTin(pointsSet.bakw, pointsSet.edges, \"target\"));\r\n          }),\r\n          new Promise(resolve => {\r\n            resolve(centroid(pointsSet.forw));\r\n          }),\r\n          Promise.resolve(prevResults)\r\n        ]).catch(err => {\r\n          throw err;\r\n        });\r\n      })\r\n      .then(prevResults => {\r\n        const tinForCentroid: any = prevResults[0];\r\n        const tinBakCentroid: any = prevResults[1];\r\n        const forCentroidFt: any = prevResults[2];\r\n        const pointsSetBbox: any = prevResults[3];\r\n        const pointsSet: any = pointsSetBbox[0];\r\n        if (\r\n          tinForCentroid.features.length == 0 ||\r\n          tinBakCentroid.features.length == 0\r\n        )\r\n          throw \"TOO LINEAR1\";\r\n        // Calcurating Forward/Backward Centroid\r\n        const centroid = {\r\n          forw: forCentroidFt.geometry.coordinates,\r\n          bakw: transformArr(forCentroidFt, tinForCentroid)\r\n        };\r\n        const forwBuf = createPoint(centroid.forw, centroid.bakw, \"c\");\r\n        this.centroid = {\r\n          forw: forwBuf,\r\n          bakw: counterPoint(forwBuf)\r\n        };\r\n        const convexBuf: any = {};\r\n        return Promise.all([\r\n          new Promise(resolve => {\r\n            const forConvex = (convex(pointsSet.forw)!.geometry as any)\r\n              .coordinates[0];\r\n            let vconvex;\r\n            try {\r\n              vconvex = forConvex.map((forw: any) => ({\r\n                forw,\r\n                bakw: transformArr(point(forw), tinForCentroid)\r\n              }));\r\n            } catch (e) {\r\n              throw \"TOO LINEAR2\";\r\n            }\r\n            vconvex.map((vertex: any) => {\r\n              convexBuf[`${vertex.forw[0]}:${vertex.forw[1]}`] = vertex;\r\n            });\r\n            resolve(undefined);\r\n          }),\r\n          new Promise(resolve => {\r\n            const bakConvex = (convex(pointsSet.bakw!)!.geometry as any)\r\n              .coordinates[0];\r\n            let vconvex;\r\n            try {\r\n              vconvex = bakConvex.map((bakw: any) => ({\r\n                bakw,\r\n                forw: transformArr(point(bakw), tinBakCentroid)\r\n              }));\r\n            } catch (e) {\r\n              throw \"TOO LINEAR2\";\r\n            }\r\n            vconvex.map((vertex: any) => {\r\n              convexBuf[`${vertex.forw[0]}:${vertex.forw[1]}`] = vertex;\r\n            });\r\n            resolve(undefined);\r\n          })\r\n        ])\r\n          .then(() => [centroid, convexBuf, pointsSetBbox])\r\n          .catch(err => {\r\n            throw err;\r\n          });\r\n      })\r\n      .then(prevResults => {\r\n        const centroid = prevResults[0];\r\n        const convexBuf = prevResults[1];\r\n        const pointsSetBbox = prevResults[2];\r\n        // Calcurating Convex full to get Convex full polygon's vertices\r\n        const expandConvex = Object.keys(convexBuf).reduce(\r\n          (prev, key, _, _array) => {\r\n            const forVertex = convexBuf[key].forw;\r\n            const bakVertex = convexBuf[key].bakw;\r\n            // Convexhullの各頂点に対し、重心からの差分を取る\r\n            const vertexDelta = {\r\n              forw: [\r\n                forVertex[0] - centroid.forw[0],\r\n                forVertex[1] - centroid.forw[1]\r\n              ]\r\n            };\r\n            (vertexDelta as any).bakw = [\r\n              bakVertex[0] - centroid.bakw[0],\r\n              bakVertex[1] - centroid.bakw[1]\r\n            ];\r\n            // X軸方向、Y軸方向それぞれに対し、地図外郭XY座標との重心との比を取る\r\n            const xRate =\r\n              vertexDelta.forw[0] == 0\r\n                ? Infinity\r\n                : ((vertexDelta.forw[0] < 0 ? minx : maxx) - centroid.forw[0]) /\r\n                  vertexDelta.forw[0];\r\n            const yRate =\r\n              vertexDelta.forw[1] == 0\r\n                ? Infinity\r\n                : ((vertexDelta.forw[1] < 0 ? miny : maxy) - centroid.forw[1]) /\r\n                  vertexDelta.forw[1];\r\n            // xRate, yRateが同じ値であれば重心と地図頂点を結ぶ線上に乗る\r\n            if (Math.abs(xRate) / Math.abs(yRate) < 1.1) {\r\n              const point = {\r\n                forw: [\r\n                  vertexDelta.forw[0] * xRate + centroid.forw[0],\r\n                  vertexDelta.forw[1] * xRate + centroid.forw[1]\r\n                ],\r\n                bakw: [\r\n                  (vertexDelta as any).bakw[0] * xRate + centroid.bakw[0],\r\n                  (vertexDelta as any).bakw[1] * xRate + centroid.bakw[1]\r\n                ]\r\n              };\r\n              if (vertexDelta.forw[0] < 0) (prev[3] as any[]).push(point);\r\n              else (prev[1] as any[]).push(point);\r\n            }\r\n            if (Math.abs(yRate) / Math.abs(xRate) < 1.1) {\r\n              const point = {\r\n                forw: [\r\n                  vertexDelta.forw[0] * yRate + centroid.forw[0],\r\n                  vertexDelta.forw[1] * yRate + centroid.forw[1]\r\n                ],\r\n                bakw: [\r\n                  (vertexDelta as any).bakw[0] * yRate + centroid.bakw[0],\r\n                  (vertexDelta as any).bakw[1] * yRate + centroid.bakw[1]\r\n                ]\r\n              };\r\n              if (vertexDelta.forw[1] < 0) (prev[0] as any[]).push(point);\r\n              else (prev[2] as any[]).push(point);\r\n            }\r\n            return prev;\r\n          },\r\n          [[], [], [], []]\r\n        );\r\n        // Calcurating Average scaling factors and rotation factors per orthants\r\n        let orthant = Object.keys(convexBuf)\r\n          .reduce(\r\n            (prev, key, idx, array) => {\r\n              const forVertex = convexBuf[key].forw;\r\n              const bakVertex = convexBuf[key].bakw;\r\n              const vertexDelta = {\r\n                forw: [\r\n                  forVertex[0] - centroid.forw[0],\r\n                  forVertex[1] - centroid.forw[1]\r\n                ]\r\n              };\r\n              (vertexDelta as any).bakw = [\r\n                bakVertex[0] - centroid.bakw[0],\r\n                centroid.bakw[1] - bakVertex[1]\r\n              ];\r\n              if (vertexDelta.forw[0] == 0 || vertexDelta.forw[1] == 0)\r\n                return prev;\r\n              let index = 0;\r\n              if (vertexDelta.forw[0] > 0) index += 1;\r\n              if (vertexDelta.forw[1] > 0) index += 2;\r\n              (prev[index] as any[]).push([\r\n                vertexDelta.forw,\r\n                (vertexDelta as any).bakw\r\n              ]);\r\n              if (idx == array.length - 1) {\r\n                // If some orthants have no Convex full polygon's vertices, use same average factor to every orthants\r\n                return prev.length ==\r\n                  prev.filter(val => val.length > 0).length &&\r\n                  this.vertexMode == Tin.VERTEX_BIRDEYE\r\n                  ? prev\r\n                  : prev.reduce((pre, cur) => [pre[0].concat(cur)], [[]]);\r\n              }\r\n              return prev;\r\n            },\r\n            [[], [], [], []]\r\n          )\r\n          .map(item =>\r\n            // Finalize calcuration of Average scaling factors and rotation factors\r\n            item.reduce(\r\n              (prev: number[] | null, curr: any, index: number, arr: any[]) => {\r\n                if (!prev) prev = [Infinity, 0, 0];\r\n                // if (!prev) prev = [0, 0, 0];\r\n                // var distanceSum = prev[0] + Math.sqrt(Math.pow(curr[0][0], 2) + Math.pow(curr[0][1], 2)) /\r\n                //     Math.sqrt(Math.pow(curr[1][0], 2) + Math.pow(curr[1][1], 2));\r\n                let distanceSum =\r\n                  Math.sqrt(Math.pow(curr[0][0], 2) + Math.pow(curr[0][1], 2)) /\r\n                  Math.sqrt(Math.pow(curr[1][0], 2) + Math.pow(curr[1][1], 2));\r\n                distanceSum = distanceSum < prev[0] ? distanceSum : prev[0];\r\n                const thetaDelta =\r\n                  Math.atan2(curr[0][0], curr[0][1]) -\r\n                  Math.atan2(curr[1][0], curr[1][1]);\r\n                const sumThetaX = prev[1] + Math.cos(thetaDelta);\r\n                const sumThetaY = prev[2] + Math.sin(thetaDelta);\r\n                if (index == arr.length - 1) {\r\n                  // return [distanceSum / arr.length, Math.atan2(sumThetaY, sumThetaX)];\r\n                  return [distanceSum, Math.atan2(sumThetaY, sumThetaX)];\r\n                }\r\n                return [distanceSum, sumThetaX, sumThetaY];\r\n              },\r\n              null\r\n            )\r\n          );\r\n        // \"Using same average factor to every orthants\" case\r\n        if (orthant.length == 1)\r\n          orthant = [orthant[0], orthant[0], orthant[0], orthant[0]];\r\n        return [orthant, centroid, expandConvex, pointsSetBbox];\r\n      })\r\n      .then(prevResults => {\r\n        const orthant = prevResults[0];\r\n        const centroid = prevResults[1];\r\n        const expandConvex = prevResults[2];\r\n        const pointsSet = prevResults[3][0];\r\n        const bbox = prevResults[3][1];\r\n        // Calcurating Backward Bounding box of map\r\n        let verticesSet = orthant.map((delta: any, index: any) => {\r\n          const forVertex = bbox[index];\r\n          const forDelta = [\r\n            forVertex[0] - centroid.forw[0],\r\n            forVertex[1] - centroid.forw[1]\r\n          ];\r\n          const forDistance = Math.sqrt(\r\n            Math.pow(forDelta[0], 2) + Math.pow(forDelta[1], 2)\r\n          );\r\n          const bakDistance = forDistance / delta[0];\r\n          const forTheta = Math.atan2(forDelta[0], forDelta[1]);\r\n          const bakTheta = forTheta - delta[1];\r\n          const bakVertex = [\r\n            centroid.bakw[0] + bakDistance * Math.sin(bakTheta),\r\n            centroid.bakw[1] - bakDistance * Math.cos(bakTheta)\r\n          ];\r\n          return { forw: forVertex, bakw: bakVertex };\r\n        });\r\n        const swap = verticesSet[2];\r\n        verticesSet[2] = verticesSet[3];\r\n        verticesSet[3] = swap;\r\n        // Bounding Boxの頂点を、全てのgcpが内部に入るように引き延ばす\r\n        const expandRate = [1, 1, 1, 1];\r\n        for (let i = 0; i < 4; i++) {\r\n          const j = (i + 1) % 4;\r\n          const side = lineString([verticesSet[i].bakw, verticesSet[j].bakw]);\r\n          const expands = expandConvex[i];\r\n          expands.map((expand: any) => {\r\n            const expandLine = lineString([centroid.bakw, expand.bakw]);\r\n            const intersect = lineIntersect(side, expandLine);\r\n            if (\r\n              intersect.features.length > 0 &&\r\n              intersect.features[0].geometry\r\n            ) {\r\n              const intersect_ = intersect.features[0];\r\n              const expandDist = Math.sqrt(\r\n                Math.pow(expand.bakw[0] - centroid.bakw[0], 2) +\r\n                  Math.pow(expand.bakw[1] - centroid.bakw[1], 2)\r\n              );\r\n              const onSideDist = Math.sqrt(\r\n                Math.pow(\r\n                  (intersect_.geometry as any).coordinates[0] -\r\n                    centroid.bakw[0],\r\n                  2\r\n                ) +\r\n                  Math.pow(\r\n                    (intersect_.geometry as any).coordinates[1] -\r\n                      centroid.bakw[1],\r\n                    2\r\n                  )\r\n              );\r\n              const rate = expandDist / onSideDist;\r\n              if (rate > expandRate[i]) expandRate[i] = rate;\r\n              if (rate > expandRate[j]) expandRate[j] = rate;\r\n            }\r\n          });\r\n        }\r\n        verticesSet = verticesSet.map((vertex: any, index: any) => {\r\n          const rate = expandRate[index];\r\n          const point = [\r\n            (vertex.bakw[0] - centroid.bakw[0]) * rate + centroid.bakw[0],\r\n            (vertex.bakw[1] - centroid.bakw[1]) * rate + centroid.bakw[1]\r\n          ];\r\n          return { forw: vertex.forw, bakw: point };\r\n        });\r\n        return [verticesSet, pointsSet];\r\n      })\r\n      .then(prevResults => {\r\n        const verticesSet = prevResults[0];\r\n        const pointsSet = prevResults[1];\r\n        const verticesList = { forw: [] as any[], bakw: [] as any[] };\r\n        for (let i = 0; i < verticesSet.length; i++) {\r\n          const forVertex = verticesSet[i].forw;\r\n          const bakVertex = verticesSet[i].bakw;\r\n          const forVertexFt = createPoint(forVertex, bakVertex, `b${i}`);\r\n          const bakVertexFt = counterPoint(forVertexFt);\r\n          pointsSet.forw.features.push(forVertexFt);\r\n          pointsSet.bakw.features.push(bakVertexFt);\r\n          verticesList.forw.push(forVertexFt);\r\n          verticesList.bakw.push(bakVertexFt);\r\n        }\r\n        (this as any).pointsSet = pointsSet;\r\n        this.tins = {\r\n          forw: rotateVerticesTriangle(\r\n            constrainedTin(pointsSet.forw, pointsSet.edges, \"target\")\r\n          )\r\n        };\r\n        let prom;\r\n        if (strict == Tin.MODE_STRICT || strict == Tin.MODE_AUTO) {\r\n          prom = this.calcurateStrictTinAsync();\r\n        } else {\r\n          prom = Promise.resolve();\r\n        }\r\n        return prom\r\n          .then(() => {\r\n            if (\r\n              strict == Tin.MODE_LOOSE ||\r\n              (strict == Tin.MODE_AUTO &&\r\n                this.strict_status == Tin.STATUS_ERROR)\r\n            ) {\r\n              this.tins!.bakw = rotateVerticesTriangle(\r\n                constrainedTin(pointsSet.bakw, pointsSet.edges, \"target\")\r\n              );\r\n              delete this.kinks;\r\n              this.strict_status = Tin.STATUS_LOOSE;\r\n            }\r\n            this.vertices_params = {\r\n              forw: vertexCalc(verticesList.forw, this.centroid!.forw) as any,\r\n              bakw: vertexCalc(verticesList.bakw, this.centroid!.bakw) as any\r\n            };\r\n            this.addIndexedTin();\r\n            return this.calculatePointsWeightAsync();\r\n          })\r\n          .catch(err => {\r\n            throw err;\r\n          });\r\n      })\r\n      .catch(err => {\r\n        throw err;\r\n      });\r\n  }\r\n  transform(apoint: number[], backward?: boolean, ignoreBounds?: boolean) {\r\n    if (backward && this.strict_status == Tin.STATUS_ERROR)\r\n      throw 'Backward transform is not allowed if strict_status == \"strict_error\"';\r\n    // if (!this.tins) this.updateTin();\r\n    if (this.yaxisMode == Tin.YAXIS_FOLLOW && backward) {\r\n      apoint = [apoint[0], -1 * apoint[1]];\r\n    }\r\n    const tpoint = point(apoint);\r\n    if (this.bounds && !backward && !ignoreBounds) {\r\n      if (!booleanPointInPolygon(tpoint, this.boundsPolygon!)) return false;\r\n    }\r\n    const tins = backward ? this.tins!.bakw : this.tins!.forw;\r\n    const indexedTins = backward\r\n      ? this.indexedTins!.bakw\r\n      : this.indexedTins!.forw;\r\n    const verticesParams = backward\r\n      ? this.vertices_params!.bakw\r\n      : this.vertices_params!.forw;\r\n    const centroid = backward ? this.centroid!.bakw : this.centroid!.forw;\r\n    const weightBuffer = backward\r\n      ? this.pointsWeightBuffer!.bakw\r\n      : this.pointsWeightBuffer!.forw;\r\n    let stateTriangle = undefined,\r\n      stateSetFunc = undefined;\r\n    if (this.stateFull) {\r\n      if (this.stateBackward == backward) {\r\n        stateTriangle = this.stateTriangle;\r\n      } else {\r\n        this.stateBackward = backward;\r\n        this.stateTriangle = undefined;\r\n      }\r\n      stateSetFunc = (tri?: Tri) => {\r\n        this.stateTriangle = tri;\r\n      };\r\n    }\r\n    let ret = transformArr(\r\n      tpoint,\r\n      tins!,\r\n      indexedTins,\r\n      verticesParams,\r\n      centroid,\r\n      weightBuffer,\r\n      stateTriangle,\r\n      stateSetFunc\r\n    );\r\n    if (this.bounds && backward && !ignoreBounds) {\r\n      const rpoint = point(ret);\r\n      if (!booleanPointInPolygon(rpoint, this.boundsPolygon!)) return false;\r\n    } else if (this.yaxisMode == Tin.YAXIS_FOLLOW && !backward) {\r\n      ret = [ret[0], -1 * ret[1]];\r\n    }\r\n    return ret;\r\n  }\r\n  calculatePointsWeightAsync() {\r\n    const calcTargets: BiDirectionKey[] = [\"forw\"];\r\n    if (this.strict_status == Tin.STATUS_LOOSE) calcTargets.push(\"bakw\");\r\n    const weightBuffer: any = {}; // Type of this is not WeightBufferBD\r\n    return Promise.all(\r\n      calcTargets.map(target => {\r\n        weightBuffer[target] = {};\r\n        const alreadyChecked: any = {};\r\n        const tin = this.tins![target];\r\n        return Promise.all(\r\n          tin!.features.map((tri: Tri) => {\r\n            const vtxes = [\"a\", \"b\", \"c\"] as PropertyTriKey[];\r\n            return new Promise(resolve => {\r\n              for (let i = 0; i < 3; i++) {\r\n                const j = (i + 1) % 3;\r\n                const vi = vtxes[i];\r\n                const vj = vtxes[j];\r\n                const indexi = tri.properties![vi].index;\r\n                const indexj = tri.properties![vj].index;\r\n                const key = [indexi, indexj].sort().join(\"-\");\r\n                if (!alreadyChecked[key]) {\r\n                  const fromi = tri.geometry!.coordinates[0][i];\r\n                  const fromj = tri.geometry!.coordinates[0][j];\r\n                  const toi = tri.properties![vi].geom;\r\n                  const toj = tri.properties![vj].geom;\r\n                  alreadyChecked[key] = 1;\r\n                  const weight =\r\n                    Math.sqrt(\r\n                      Math.pow(toi[0] - toj[0], 2) +\r\n                        Math.pow(toi[1] - toj[1], 2)\r\n                    ) /\r\n                    Math.sqrt(\r\n                      Math.pow(fromi[0] - fromj[0], 2) +\r\n                        Math.pow(fromi[1] - fromj[1], 2)\r\n                    );\r\n                  if (!weightBuffer[target]![indexi])\r\n                    weightBuffer[target][indexi] = {};\r\n                  if (!weightBuffer[target]![indexj])\r\n                    weightBuffer[target][indexj] = {};\r\n                  weightBuffer[target]![indexi][key] = weight;\r\n                  weightBuffer[target]![indexj][key] = weight;\r\n                }\r\n              }\r\n              resolve(undefined);\r\n            });\r\n          })\r\n        ).catch(err => {\r\n          throw err;\r\n        });\r\n      })\r\n    )\r\n      .then(() => {\r\n        const pointsWeightBuffer: WeightBufferBD = {};\r\n        calcTargets.map(target => {\r\n          pointsWeightBuffer[target] = {};\r\n          if (this.strict_status == Tin.STATUS_STRICT)\r\n            pointsWeightBuffer[\"bakw\"] = {};\r\n          Object.keys(weightBuffer[target]).map(vtx => {\r\n            pointsWeightBuffer[target]![vtx] = Object.keys(\r\n              weightBuffer[target][vtx]\r\n            ).reduce((prev, key, idx, arr) => {\r\n              prev = prev + weightBuffer[target][vtx][key];\r\n              return idx == arr.length - 1 ? prev / arr.length : prev;\r\n            }, 0);\r\n            if (this.strict_status == Tin.STATUS_STRICT)\r\n              pointsWeightBuffer[\"bakw\"]![vtx] =\r\n                1 / pointsWeightBuffer[target]![vtx];\r\n          });\r\n          pointsWeightBuffer[target]![\"c\"] = [0, 1, 2, 3].reduce(\r\n            (prev, curr) => {\r\n              const key = `b${curr}`;\r\n              prev = prev + pointsWeightBuffer[target]![key];\r\n              return curr == 3 ? prev / 4 : prev;\r\n            },\r\n            0\r\n          );\r\n          if (this.strict_status == Tin.STATUS_STRICT)\r\n            pointsWeightBuffer[\"bakw\"]![\"c\"] =\r\n              1 / pointsWeightBuffer[target]![\"c\"];\r\n        });\r\n        this.pointsWeightBuffer = pointsWeightBuffer;\r\n      })\r\n      .catch(err => {\r\n        throw err;\r\n      });\r\n  }\r\n}\r\nfunction rotateVerticesTriangle(tins: Tins) {\r\n  const features = tins.features;\r\n  for (let i = 0; i < features.length; i++) {\r\n    const feature = features[i];\r\n    if (\r\n      `${feature.properties!.a.index}`.substring(0, 1) === \"b\" &&\r\n      `${feature.properties!.b.index}`.substring(0, 1) === \"b\"\r\n    ) {\r\n      features[i] = {\r\n        geometry: {\r\n          type: \"Polygon\",\r\n          coordinates: [\r\n            [\r\n              feature.geometry!.coordinates[0][2],\r\n              feature.geometry!.coordinates[0][0],\r\n              feature.geometry!.coordinates[0][1],\r\n              feature.geometry!.coordinates[0][2]\r\n            ]\r\n          ]\r\n        },\r\n        properties: {\r\n          a: {\r\n            geom: feature.properties!.c.geom,\r\n            index: feature.properties!.c.index\r\n          },\r\n          b: {\r\n            geom: feature.properties!.a.geom,\r\n            index: feature.properties!.a.index\r\n          },\r\n          c: {\r\n            geom: feature.properties!.b.geom,\r\n            index: feature.properties!.b.index\r\n          }\r\n        },\r\n        type: \"Feature\"\r\n      };\r\n    } else if (\r\n      `${feature.properties!.c.index}`.substring(0, 1) === \"b\" &&\r\n      `${feature.properties!.a.index}`.substring(0, 1) === \"b\"\r\n    ) {\r\n      features[i] = {\r\n        geometry: {\r\n          type: \"Polygon\",\r\n          coordinates: [\r\n            [\r\n              feature.geometry!.coordinates[0][1],\r\n              feature.geometry!.coordinates[0][2],\r\n              feature.geometry!.coordinates[0][0],\r\n              feature.geometry!.coordinates[0][1]\r\n            ]\r\n          ]\r\n        },\r\n        properties: {\r\n          a: {\r\n            geom: feature.properties!.b.geom,\r\n            index: feature.properties!.b.index\r\n          },\r\n          b: {\r\n            geom: feature.properties!.c.geom,\r\n            index: feature.properties!.c.index\r\n          },\r\n          c: {\r\n            geom: feature.properties!.a.geom,\r\n            index: feature.properties!.a.index\r\n          }\r\n        },\r\n        type: \"Feature\"\r\n      };\r\n    }\r\n  }\r\n  return tins;\r\n}\r\n\r\nfunction vertexCalc(list: any, centroid: any) {\r\n  const centCoord = centroid.geometry.coordinates;\r\n  return [0, 1, 2, 3]\r\n    .map(i => {\r\n      const j = (i + 1) % 4;\r\n      const itemi = list[i];\r\n      const itemj = list[j];\r\n      const coord = itemi.geometry.coordinates;\r\n      const radian = Math.atan2(\r\n        coord[0] - centCoord[0],\r\n        coord[1] - centCoord[1]\r\n      );\r\n      const coordinates = [centroid, itemi, itemj, centroid].map(\r\n        point => point.geometry.coordinates\r\n      );\r\n      const properties = {\r\n        a: {\r\n          geom: centroid.properties.target.geom,\r\n          index: centroid.properties.target.index\r\n        },\r\n        b: {\r\n          geom: itemi.properties.target.geom,\r\n          index: itemi.properties.target.index\r\n        },\r\n        c: {\r\n          geom: itemj.properties.target.geom,\r\n          index: itemj.properties.target.index\r\n        }\r\n      };\r\n      const tin = featureCollection([polygon([coordinates], properties)]);\r\n      return [radian, tin];\r\n    })\r\n    .reduce(\r\n      (prev, curr) => {\r\n        prev[0].push(curr[0]);\r\n        prev[1].push(curr[1]);\r\n        return prev;\r\n      },\r\n      [[] as any[], [] as any[]]\r\n    );\r\n}\r\nfunction normalizeRadian(target: any, noNegative = false) {\r\n  const rangeFunc = noNegative\r\n    ? function (val: any) {\r\n        return !(val >= 0 && val < Math.PI * 2);\r\n      }\r\n    : function (val: any) {\r\n        return !(val > -1 * Math.PI && val <= Math.PI);\r\n      };\r\n  while (rangeFunc(target)) {\r\n    target = target + 2 * Math.PI * (target > 0 ? -1 : 1);\r\n  }\r\n  return target;\r\n}\r\nfunction decideUseVertex(radian: any, radianList: any) {\r\n  let idel = normalizeRadian(radian - radianList[0]);\r\n  let minTheta = Math.PI * 2;\r\n  let minIndex;\r\n  for (let i = 0; i < radianList.length; i++) {\r\n    const j = (i + 1) % radianList.length;\r\n    const jdel = normalizeRadian(radian - radianList[j]);\r\n    const minDel = Math.min(Math.abs(idel), Math.abs(jdel));\r\n    if (idel * jdel <= 0 && minDel < minTheta) {\r\n      minTheta = minDel;\r\n      minIndex = i;\r\n    }\r\n    idel = jdel;\r\n  }\r\n  return minIndex;\r\n}\r\nfunction createPoint(xy: any, geom: any, index: any) {\r\n  return point(xy, { target: { geom, index } });\r\n}\r\nfunction counterPoint(apoint: any) {\r\n  return point(apoint.properties.target.geom, {\r\n    target: {\r\n      geom: apoint.geometry.coordinates,\r\n      index: apoint.properties.target.index\r\n    }\r\n  });\r\n}\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nfunction transformTin(of: any, tri: any, weightBuffer: any) {\r\n  return point(transformTinArr(of, tri, weightBuffer));\r\n}\r\n\r\nfunction transformTinArr(of: any, tri: any, weightBuffer: any) {\r\n  const a = tri.geometry.coordinates[0][0];\r\n  const b = tri.geometry.coordinates[0][1];\r\n  const c = tri.geometry.coordinates[0][2];\r\n  const o = of.geometry.coordinates;\r\n  const ad = tri.properties.a.geom;\r\n  const bd = tri.properties.b.geom;\r\n  const cd = tri.properties.c.geom;\r\n  const ab = [b[0] - a[0], b[1] - a[1]];\r\n  const ac = [c[0] - a[0], c[1] - a[1]];\r\n  const ao = [o[0] - a[0], o[1] - a[1]];\r\n  const abd = [bd[0] - ad[0], bd[1] - ad[1]];\r\n  const acd = [cd[0] - ad[0], cd[1] - ad[1]];\r\n  let abv = (ac[1] * ao[0] - ac[0] * ao[1]) / (ab[0] * ac[1] - ab[1] * ac[0]);\r\n  let acv = (ab[0] * ao[1] - ab[1] * ao[0]) / (ab[0] * ac[1] - ab[1] * ac[0]);\r\n  // Considering weight\r\n  if (weightBuffer) {\r\n    const aW = weightBuffer[tri.properties.a.index];\r\n    const bW = weightBuffer[tri.properties.b.index];\r\n    const cW = weightBuffer[tri.properties.c.index];\r\n    let nabv;\r\n    if (abv < 0 || acv < 0 || 1 - abv - acv < 0) {\r\n      const normB = abv / (abv + acv);\r\n      const normC = acv / (abv + acv);\r\n      nabv = abv / bW / (normB / bW + normC / cW);\r\n      acv = acv / cW / (normB / bW + normC / cW);\r\n    } else {\r\n      nabv = abv / bW / (abv / bW + acv / cW + (1 - abv - acv) / aW);\r\n      acv = acv / cW / (abv / bW + acv / cW + (1 - abv - acv) / aW);\r\n    }\r\n    abv = nabv;\r\n  }\r\n  return [\r\n    abv * abd[0] + acv * acd[0] + ad[0],\r\n    abv * abd[1] + acv * acd[1] + ad[1]\r\n  ];\r\n}\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nfunction useVertices(\r\n  o: Feature<Point>,\r\n  verticesParams: VerticesParams,\r\n  centroid: Centroid,\r\n  weightBuffer: WeightBuffer\r\n): Feature<Point> {\r\n  return point(useVerticesArr(o, verticesParams, centroid, weightBuffer));\r\n}\r\n\r\nfunction useVerticesArr(\r\n  o: Feature<Point>,\r\n  verticesParams: VerticesParams,\r\n  centroid: Centroid,\r\n  weightBuffer: WeightBuffer\r\n): Position {\r\n  const coord = o.geometry!.coordinates;\r\n  const centCoord = centroid.geometry!.coordinates;\r\n  const radian = Math.atan2(coord[0] - centCoord[0], coord[1] - centCoord[1]);\r\n  const index = decideUseVertex(radian, verticesParams[0]);\r\n  const tin = verticesParams[1]![index as any];\r\n  return transformTinArr(o, tin.features[0], weightBuffer);\r\n}\r\nfunction hit(point: Feature<Point>, tins: Tins): Tri | undefined {\r\n  for (let i = 0; i < tins.features.length; i++) {\r\n    const inside = booleanPointInPolygon(point, tins.features[i]);\r\n    if (inside) {\r\n      return tins.features[i];\r\n    }\r\n  }\r\n}\r\nfunction unitCalc(\r\n  coord: number,\r\n  origin: number,\r\n  unit: number,\r\n  gridNum: number\r\n) {\r\n  let normCoord = Math.floor((coord - origin) / unit);\r\n  if (normCoord >= gridNum) normCoord = gridNum - 1;\r\n  return normCoord;\r\n}\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nfunction transform(\r\n  apoint: Feature<Point>,\r\n  tins: Tins,\r\n  indexedTins?: IndexedTins,\r\n  verticesParams?: VerticesParams,\r\n  centroid?: Centroid,\r\n  weightBuffer?: WeightBuffer,\r\n  stateTriangle?: Tri,\r\n  stateSetFunc?: (tri?: Tri) => void\r\n): Feature<Point> {\r\n  return point(\r\n    transformArr(\r\n      apoint,\r\n      tins,\r\n      indexedTins,\r\n      verticesParams,\r\n      centroid,\r\n      weightBuffer,\r\n      stateTriangle,\r\n      stateSetFunc\r\n    )\r\n  );\r\n}\r\nfunction transformArr(\r\n  point: Feature<Point>,\r\n  tins: Tins,\r\n  indexedTins?: IndexedTins,\r\n  verticesParams?: VerticesParams,\r\n  centroid?: Centroid,\r\n  weightBuffer?: WeightBuffer,\r\n  stateTriangle?: Tri,\r\n  stateSetFunc?: (tri?: Tri) => void\r\n): Position {\r\n  let tin: Tri | undefined;\r\n  if (stateTriangle) {\r\n    tin = hit(point, featureCollection([stateTriangle]));\r\n  }\r\n  if (!tin) {\r\n    if (indexedTins) {\r\n      const coords = point.geometry!.coordinates;\r\n      const gridNum = indexedTins.gridNum;\r\n      const xOrigin = indexedTins.xOrigin;\r\n      const yOrigin = indexedTins.yOrigin;\r\n      const xUnit = indexedTins.xUnit;\r\n      const yUnit = indexedTins.yUnit;\r\n      const gridCache = indexedTins.gridCache;\r\n      const normX = unitCalc(coords[0], xOrigin, xUnit, gridNum);\r\n      const normY = unitCalc(coords[1], yOrigin, yUnit, gridNum);\r\n      const tinsKey = gridCache[normX]\r\n        ? gridCache[normX][normY]\r\n          ? gridCache[normX][normY]\r\n          : []\r\n        : [];\r\n      tins = featureCollection(tinsKey.map((key: any) => tins.features[key]));\r\n    }\r\n    tin = hit(point, tins);\r\n  }\r\n  if (stateSetFunc) stateSetFunc(tin);\r\n  return tin\r\n    ? transformTinArr(point, tin, weightBuffer)\r\n    : useVerticesArr(point, verticesParams!, centroid!, weightBuffer!);\r\n}\r\nfunction counterTri(tri: Tri): Tri {\r\n  const coordinates = ([\"a\", \"b\", \"c\", \"a\"] as PropertyTriKey[]).map(\r\n    key => tri.properties![key].geom\r\n  );\r\n  const geoms = tri.geometry!.coordinates[0];\r\n  const props = tri.properties!;\r\n  const properties = {\r\n    a: { geom: geoms[0], index: props[\"a\"].index },\r\n    b: { geom: geoms[1], index: props[\"b\"].index },\r\n    c: { geom: geoms[2], index: props[\"c\"].index }\r\n  };\r\n  return polygon([coordinates], properties);\r\n}\r\nfunction buildTri(points: [Position[], string | number][]): Tri {\r\n  const coordinates = [0, 1, 2, 0].map(i => points[i][0][0]);\r\n  const properties = {\r\n    a: { geom: points[0][0][1], index: points[0][1] },\r\n    b: { geom: points[1][0][1], index: points[1][1] },\r\n    c: { geom: points[2][0][1], index: points[2][1] }\r\n  };\r\n  return polygon([coordinates], properties);\r\n}\r\nfunction indexesToTri(\r\n  indexes: (number | string)[],\r\n  points: Position[][],\r\n  edgeNodes: Position[][],\r\n  cent: Position[],\r\n  bboxes: Position[][],\r\n  bakw = false,\r\n  version?: number\r\n): Tri {\r\n  const points_: [Position[], string | number][] = indexes.map(\r\n    (index: number | string) => {\r\n      if (!version || version < 2.00703) index = normalizeNodeKey(index);\r\n      const point_base = isFinite(index as any)\r\n        ? points[index as number]\r\n        : index === \"c\"\r\n        ? cent\r\n        : index === \"b0\"\r\n        ? bboxes[0]\r\n        : index === \"b1\"\r\n        ? bboxes[1]\r\n        : index === \"b2\"\r\n        ? bboxes[2]\r\n        : index === \"b3\"\r\n        ? bboxes[3]\r\n        : (function () {\r\n            const match = (index as string).match(/e(\\d+)/);\r\n            if (match) {\r\n              const nodeIndex = parseInt(match[1]);\r\n              return edgeNodes[nodeIndex];\r\n            }\r\n            throw \"Bad index value for indexesToTri\";\r\n          })();\r\n      return bakw\r\n        ? [[point_base![1], point_base![0]], index]\r\n        : [[point_base![0], point_base![1]], index];\r\n    }\r\n  );\r\n  return buildTri(points_);\r\n}\r\n\r\n// After 7.0.3 Normalizing node index key\r\nfunction normalizeNodeKey(index: number | string) {\r\n  if (typeof index === \"number\") return index;\r\n  return index.replace(/^(c|e|b)(?:ent|dgeNode|box)(\\d+)?$/, \"$1$2\");\r\n}\r\n\r\nfunction normalizeEdges(\r\n  edges: Edge[] | EdgeLegacy[],\r\n  version?: number\r\n): Edge[] {\r\n  if ((version && version >= 2.00703) || Array.isArray(edges[0]))\r\n    return edges as Edge[];\r\n  return (edges as EdgeLegacy[]).map(edge => [\r\n    edge.illstNodes,\r\n    edge.mercNodes,\r\n    edge.startEnd\r\n  ]);\r\n}\r\n\r\nfunction overlapCheckAsync(searchIndex: SearchIndex) {\r\n  const retValue = { forw: {} as any, bakw: {} as any };\r\n  return Promise.all(\r\n    Object.keys(searchIndex).map(\r\n      key =>\r\n        new Promise(resolve => {\r\n          const searchResult = searchIndex[key];\r\n          if (searchResult.length < 2) return resolve(undefined);\r\n          ([\"forw\", \"bakw\"] as BiDirectionKey[]).map(dir => {\r\n            const result = intersect(\r\n              searchResult[0][dir],\r\n              searchResult[1][dir]\r\n            );\r\n            if (\r\n              !result ||\r\n              result.geometry.type as any === \"Point\" ||\r\n              result.geometry.type as any === \"LineString\"\r\n            )\r\n              return resolve(undefined);\r\n            resolve(undefined);\r\n          });\r\n        })\r\n    )\r\n  )\r\n    .then(() => {\r\n      if (Object.keys(retValue.forw).length == 0) delete retValue.forw;\r\n      if (Object.keys(retValue.bakw).length == 0) delete retValue.bakw;\r\n      return retValue;\r\n    })\r\n    .catch(err => {\r\n      throw err;\r\n    });\r\n}\r\nfunction insertSearchIndex(\r\n  searchIndex: SearchIndex,\r\n  tris: SearchTris,\r\n  tins?: TinsBD\r\n) {\r\n  const keys = calcSearchKeys(tris.forw);\r\n  const bakKeys = calcSearchKeys(tris.bakw);\r\n  if (JSON.stringify(keys) != JSON.stringify(bakKeys))\r\n    throw `${JSON.stringify(tris, null, 2)}\\n${JSON.stringify(\r\n      keys\r\n    )}\\n${JSON.stringify(bakKeys)}`;\r\n  for (let i = 0; i < keys.length; i++) {\r\n    const key = keys[i];\r\n    if (!searchIndex[key]) searchIndex[key] = [];\r\n    searchIndex[key].push(tris);\r\n  }\r\n  if (tins) {\r\n    tins.forw!.features.push(tris.forw);\r\n    tins.bakw!.features.push(tris.bakw);\r\n  }\r\n}\r\nfunction removeSearchIndex(\r\n  searchIndex: SearchIndex,\r\n  tris: SearchTris,\r\n  tins?: TinsBD\r\n) {\r\n  const keys = calcSearchKeys(tris.forw);\r\n  const bakKeys = calcSearchKeys(tris.bakw);\r\n  if (JSON.stringify(keys) != JSON.stringify(bakKeys))\r\n    throw `${JSON.stringify(tris, null, 2)}\\n${JSON.stringify(\r\n      keys\r\n    )}\\n${JSON.stringify(bakKeys)}`;\r\n  for (let i = 0; i < keys.length; i++) {\r\n    const key = keys[i];\r\n    const newArray = searchIndex[key].filter(\r\n      (eachTris: any) => eachTris.forw != tris.forw\r\n    );\r\n    if (newArray.length == 0) delete searchIndex[key];\r\n    else searchIndex[key] = newArray;\r\n  }\r\n  if (tins) {\r\n    let newArray = tins.forw!.features.filter(\r\n      (eachTri: Tri) => eachTri != tris.forw\r\n    );\r\n    tins.forw!.features = newArray;\r\n    newArray = tins.bakw!.features.filter(\r\n      (eachTri: Tri) => eachTri != tris.bakw\r\n    );\r\n    tins.bakw!.features = newArray;\r\n  }\r\n}\r\n\r\nfunction calcSearchKeys(tri: Tri): string[] {\r\n  const vtx = ([\"a\", \"b\", \"c\"] as PropertyTriKey[]).map(\r\n    key => tri.properties![key].index\r\n  );\r\n  return [\r\n    [0, 1],\r\n    [0, 2],\r\n    [1, 2],\r\n    [0, 1, 2]\r\n  ]\r\n    .map(set =>\r\n      set\r\n        .map(i => vtx[i])\r\n        .sort()\r\n        .join(\"-\")\r\n    )\r\n    .sort();\r\n}\r\n\r\nexport default Tin;\r\n","import polygonClipping from \"polygon-clipping\";\nimport { getGeom } from \"@turf/invariant\";\nimport { multiPolygon, polygon } from \"@turf/helpers\";\n/**\n * Takes two {@link (Multi)Polygon(s)} and returns a combined polygon. If the input polygons are not contiguous, this function returns a {@link MultiPolygon} feature.\n *\n * @name union\n * @param {Feature<Polygon|MultiPolygon>} polygon1 input Polygon feature\n * @param {Feature<Polygon|MultiPolygon>} polygon2 Polygon feature to difference from polygon1\n * @param {Object} [options={}] Optional Parameters\n * @param {Object} [options.properties={}] Translate Properties to output Feature\n * @returns {Feature<(Polygon|MultiPolygon)>} a combined {@link Polygon} or {@link MultiPolygon} feature\n * @example\n * var poly1 = turf.polygon([[\n *     [-82.574787, 35.594087],\n *     [-82.574787, 35.615581],\n *     [-82.545261, 35.615581],\n *     [-82.545261, 35.594087],\n *     [-82.574787, 35.594087]\n * ]], {\"fill\": \"#0f0\"});\n * var poly2 = turf.polygon([[\n *     [-82.560024, 35.585153],\n *     [-82.560024, 35.602602],\n *     [-82.52964, 35.602602],\n *     [-82.52964, 35.585153],\n *     [-82.560024, 35.585153]\n * ]], {\"fill\": \"#00f\"});\n *\n * var union = turf.union(poly1, poly2);\n *\n * //addToMap\n * var addToMap = [poly1, poly2, union];\n */\nfunction union(poly1, poly2, options) {\n    if (options === void 0) { options = {}; }\n    var geom1 = getGeom(poly1);\n    var geom2 = getGeom(poly2);\n    var unioned = polygonClipping.union(geom1.coordinates, geom2.coordinates);\n    if (unioned.length === 0)\n        return null;\n    if (unioned.length === 1)\n        return polygon(unioned[0], options.properties);\n    else\n        return multiPolygon(unioned, options.properties);\n}\nexport default union;\n","import { coordEach } from \"@turf/meta\";\nimport { point } from \"@turf/helpers\";\n/**\n * Takes one or more features and calculates the centroid using the mean of all vertices.\n * This lessens the effect of small islands and artifacts when calculating the centroid of a set of polygons.\n *\n * @name centroid\n * @param {GeoJSON} geojson GeoJSON to be centered\n * @param {Object} [options={}] Optional Parameters\n * @param {Object} [options.properties={}] an Object that is used as the {@link Feature}'s properties\n * @returns {Feature<Point>} the centroid of the input features\n * @example\n * var polygon = turf.polygon([[[-81, 41], [-88, 36], [-84, 31], [-80, 33], [-77, 39], [-81, 41]]]);\n *\n * var centroid = turf.centroid(polygon);\n *\n * //addToMap\n * var addToMap = [polygon, centroid]\n */\nfunction centroid(geojson, options) {\n    if (options === void 0) { options = {}; }\n    var xSum = 0;\n    var ySum = 0;\n    var len = 0;\n    coordEach(geojson, function (coord) {\n        xSum += coord[0];\n        ySum += coord[1];\n        len++;\n    }, true);\n    return point([xSum / len, ySum / len], options.properties);\n}\nexport default centroid;\n","import { multiPolygon, polygon, } from \"@turf/helpers\";\nimport { getGeom } from \"@turf/invariant\";\nimport polygonClipping from \"polygon-clipping\";\n/**\n * Takes two {@link Polygon|polygon} or {@link MultiPolygon|multi-polygon} geometries and\n * finds their polygonal intersection. If they don't intersect, returns null.\n *\n * @name intersect\n * @param {Feature<Polygon | MultiPolygon>} poly1 the first polygon or multipolygon\n * @param {Feature<Polygon | MultiPolygon>} poly2 the second polygon or multipolygon\n * @param {Object} [options={}] Optional Parameters\n * @param {Object} [options.properties={}] Translate GeoJSON Properties to Feature\n * @returns {Feature|null} returns a feature representing the area they share (either a {@link Polygon} or\n * {@link MultiPolygon}). If they do not share any area, returns `null`.\n * @example\n * var poly1 = turf.polygon([[\n *   [-122.801742, 45.48565],\n *   [-122.801742, 45.60491],\n *   [-122.584762, 45.60491],\n *   [-122.584762, 45.48565],\n *   [-122.801742, 45.48565]\n * ]]);\n *\n * var poly2 = turf.polygon([[\n *   [-122.520217, 45.535693],\n *   [-122.64038, 45.553967],\n *   [-122.720031, 45.526554],\n *   [-122.669906, 45.507309],\n *   [-122.723464, 45.446643],\n *   [-122.532577, 45.408574],\n *   [-122.487258, 45.477466],\n *   [-122.520217, 45.535693]\n * ]]);\n *\n * var intersection = turf.intersect(poly1, poly2);\n *\n * //addToMap\n * var addToMap = [poly1, poly2, intersection];\n */\nexport default function intersect(poly1, poly2, options) {\n    if (options === void 0) { options = {}; }\n    var geom1 = getGeom(poly1);\n    var geom2 = getGeom(poly2);\n    var intersection = polygonClipping.intersection(geom1.coordinates, geom2.coordinates);\n    if (intersection.length === 0)\n        return null;\n    if (intersection.length === 1)\n        return polygon(intersection[0], options.properties);\n    return multiPolygon(intersection, options.properties);\n}\n"],"sourceRoot":""}